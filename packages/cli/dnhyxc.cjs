#!/usr/bin/env node
"use strict";var t=require("events"),e=require("child_process"),i=require("path"),r=require("fs"),s=require("process"),n=require("os"),o=require("tty"),a=require("readline"),h=require("assert"),l=require("stream"),c=require("constants"),u=require("util"),d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var f={},m={},g={};let v=class extends Error{constructor(t,e,i){super(i),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=e,this.exitCode=t,this.nestedError=void 0}};g.CommanderError=v,g.InvalidArgumentError=class extends v{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};const{InvalidArgumentError:y}=g;m.Argument=class{constructor(t,e){switch(this.description=e||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new y(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},m.humanReadableArgName=function(t){const e=t.name()+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"};var b={},w={};const{humanReadableArgName:_}=m;w.Help=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){const e=t.commands.filter((t=>!t._hidden)),i=t._getHelpCommand();return i&&!i._hidden&&e.push(i),this.sortSubcommands&&e.sort(((t,e)=>t.name().localeCompare(e.name()))),e}compareOptions(t,e){const i=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return i(t).localeCompare(i(e))}visibleOptions(t){const e=t.options.filter((t=>!t.hidden)),i=t._getHelpOption();if(i&&!i.hidden){const r=i.short&&t._findOption(i.short),s=i.long&&t._findOption(i.long);r||s?i.long&&!s?e.push(t.createOption(i.long,i.description)):i.short&&!r&&e.push(t.createOption(i.short,i.description)):e.push(i)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const e=[];for(let i=t.parent;i;i=i.parent){const t=i.options.filter((t=>!t.hidden));e.push(...t)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach((e=>{e.description=e.description||t._argsDescription[e.name()]||""})),t.registeredArguments.find((t=>t.description))?t.registeredArguments:[]}subcommandTerm(t){const e=t.registeredArguments.map((t=>_(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(e?" "+e:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,e){return e.visibleCommands(t).reduce(((t,i)=>Math.max(t,e.subcommandTerm(i).length)),0)}longestOptionTermLength(t,e){return e.visibleOptions(t).reduce(((t,i)=>Math.max(t,e.optionTerm(i).length)),0)}longestGlobalOptionTermLength(t,e){return e.visibleGlobalOptions(t).reduce(((t,i)=>Math.max(t,e.optionTerm(i).length)),0)}longestArgumentTermLength(t,e){return e.visibleArguments(t).reduce(((t,i)=>Math.max(t,e.argumentTerm(i).length)),0)}commandUsage(t){let e=t._name;t._aliases[0]&&(e=e+"|"+t._aliases[0]);let i="";for(let e=t.parent;e;e=e.parent)i=e.name()+" "+i;return i+e+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue){(t.required||t.optional||t.isBoolean()&&"boolean"==typeof t.defaultValue)&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}return void 0!==t.presetArg&&t.optional&&e.push(`preset: ${JSON.stringify(t.presetArg)}`),void 0!==t.envVar&&e.push(`env: ${t.envVar}`),e.length>0?`${t.description} (${e.join(", ")})`:t.description}argumentDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),e.length>0){const i=`(${e.join(", ")})`;return t.description?`${t.description} ${i}`:i}return t.description}formatHelp(t,e){const i=e.padWidth(t,e),r=e.helpWidth||80;function s(t,s){if(s){const n=`${t.padEnd(i+2)}${s}`;return e.wrap(n,r-2,i+2)}return t}function n(t){return t.join("\n").replace(/^/gm," ".repeat(2))}let o=[`Usage: ${e.commandUsage(t)}`,""];const a=e.commandDescription(t);a.length>0&&(o=o.concat([e.wrap(a,r,0),""]));const h=e.visibleArguments(t).map((t=>s(e.argumentTerm(t),e.argumentDescription(t))));h.length>0&&(o=o.concat(["Arguments:",n(h),""]));const l=e.visibleOptions(t).map((t=>s(e.optionTerm(t),e.optionDescription(t))));if(l.length>0&&(o=o.concat(["Options:",n(l),""])),this.showGlobalOptions){const i=e.visibleGlobalOptions(t).map((t=>s(e.optionTerm(t),e.optionDescription(t))));i.length>0&&(o=o.concat(["Global Options:",n(i),""]))}const c=e.visibleCommands(t).map((t=>s(e.subcommandTerm(t),e.subcommandDescription(t))));return c.length>0&&(o=o.concat(["Commands:",n(c),""])),o.join("\n")}padWidth(t,e){return Math.max(e.longestOptionTermLength(t,e),e.longestGlobalOptionTermLength(t,e),e.longestSubcommandTermLength(t,e),e.longestArgumentTermLength(t,e))}wrap(t,e,i,r=40){const s=new RegExp("[\\n][ \\f\\t\\v   -   　\ufeff]+");if(t.match(s))return t;const n=e-i;if(n<r)return t;const o=t.slice(0,i),a=t.slice(i).replace("\r\n","\n"),h=" ".repeat(i),l="\\s​",c=new RegExp(`\n|.{1,${n-1}}([${l}]|$)|[^${l}]+?([${l}]|$)`,"g");return o+(a.match(c)||[]).map(((t,e)=>"\n"===t?"":(e>0?h:"")+t.trimEnd())).join("\n")}};var S={};const{InvalidArgumentError:x}=g;S.Option=class{constructor(t,e){this.flags=t,this.description=e||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;const i=function(t){let e,i;const r=t.split(/[ |,]+/);r.length>1&&!/^[[<]/.test(r[1])&&(e=r.shift());i=r.shift(),!e&&/^-[^-]$/.test(i)&&(e=i,i=void 0);return{shortFlag:e,longFlag:i}}(t);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let e=t;return"string"==typeof t&&(e={[t]:!0}),this.implied=Object.assign(this.implied||{},e),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new x(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((t,e)=>t+e[0].toUpperCase()+e.slice(1)))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},S.DualOptions=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach((t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)})),this.negativeOptions.forEach(((t,e)=>{this.positiveOptions.has(e)&&this.dualOptions.add(e)}))}valueFromOption(t,e){const i=e.attributeName();if(!this.dualOptions.has(i))return!0;const r=this.negativeOptions.get(i).presetArg,s=void 0!==r&&r;return e.negate===(s===t)}};var O={};const C=3;O.suggestSimilar=function(t,e){if(!e||0===e.length)return"";e=Array.from(new Set(e));const i=t.startsWith("--");i&&(t=t.slice(2),e=e.map((t=>t.slice(2))));let r=[],s=C;return e.forEach((e=>{if(e.length<=1)return;const i=function(t,e){if(Math.abs(t.length-e.length)>C)return Math.max(t.length,e.length);const i=[];for(let e=0;e<=t.length;e++)i[e]=[e];for(let t=0;t<=e.length;t++)i[0][t]=t;for(let r=1;r<=e.length;r++)for(let s=1;s<=t.length;s++){let n=1;n=t[s-1]===e[r-1]?0:1,i[s][r]=Math.min(i[s-1][r]+1,i[s][r-1]+1,i[s-1][r-1]+n),s>1&&r>1&&t[s-1]===e[r-2]&&t[s-2]===e[r-1]&&(i[s][r]=Math.min(i[s][r],i[s-2][r-2]+1))}return i[t.length][e.length]}(t,e),n=Math.max(t.length,e.length);(n-i)/n>.4&&(i<s?(s=i,r=[e]):i===s&&r.push(e))})),r.sort(((t,e)=>t.localeCompare(e))),i&&(r=r.map((t=>`--${t}`))),r.length>1?`\n(Did you mean one of ${r.join(", ")}?)`:1===r.length?`\n(Did you mean ${r[0]}?)`:""};const E=t.EventEmitter,k=e,A=i,T=r,M=s,{Argument:$,humanReadableArgName:P}=m,{CommanderError:j}=g,{Help:I}=w,{Option:D,DualOptions:F}=S,{suggestSimilar:R}=O;function N(t){return t.map((t=>{if(!t.startsWith("--inspect"))return t;let e,i,r="127.0.0.1",s="9229";return null!==(i=t.match(/^(--inspect(-brk)?)$/))?e=i[1]:null!==(i=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(e=i[1],/^\d+$/.test(i[3])?s=i[3]:r=i[3]):null!==(i=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(e=i[1],r=i[3],s=i[4]),e&&"0"!==s?`${e}=${r}:${parseInt(s)+1}`:t}))}b.Command=class t extends E{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>M.stdout.write(t),writeErr:t=>M.stderr.write(t),getOutHelpWidth:()=>M.stdout.isTTY?M.stdout.columns:void 0,getErrHelpWidth:()=>M.stderr.isTTY?M.stderr.columns:void 0,outputError:(t,e)=>e(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){const t=[];for(let e=this;e;e=e.parent)t.push(e);return t}command(t,e,i){let r=e,s=i;"object"==typeof r&&null!==r&&(s=r,r=null),s=s||{};const[,n,o]=t.match(/([^ ]+) *(.*)/),a=this.createCommand(n);return r&&(a.description(r),a._executableHandler=!0),s.isDefault&&(this._defaultCommandName=a._name),a._hidden=!(!s.noHelp&&!s.hidden),a._executableFile=s.executableFile||null,o&&a.arguments(o),this._registerCommand(a),a.parent=this,a.copyInheritedSettings(this),r?this:a}createCommand(e){return new t(e)}createHelp(){return Object.assign(new I,this.configureHelp())}configureHelp(t){return void 0===t?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return void 0===t?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return"string"!=typeof t&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,e){if(!t._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(e=e||{}).isDefault&&(this._defaultCommandName=t._name),(e.noHelp||e.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,e){return new $(t,e)}argument(t,e,i,r){const s=this.createArgument(t,e);return"function"==typeof i?s.default(r).argParser(i):s.default(i),this.addArgument(s),this}arguments(t){return t.trim().split(/ +/).forEach((t=>{this.argument(t)})),this}addArgument(t){const e=this.registeredArguments.slice(-1)[0];if(e&&e.variadic)throw new Error(`only the last argument can be variadic '${e.name()}'`);if(t.required&&void 0!==t.defaultValue&&void 0===t.parseArg)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,e){if("boolean"==typeof t)return this._addImplicitHelpCommand=t,this;t=t??"help [command]";const[,i,r]=t.match(/([^ ]+) *(.*)/),s=e??"display help for command",n=this.createCommand(i);return n.helpOption(!1),r&&n.arguments(r),s&&n.description(s),this._addImplicitHelpCommand=!0,this._helpCommand=n,this}addHelpCommand(t,e){return"object"!=typeof t?(this.helpCommand(t,e),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,e){const i=["preSubcommand","preAction","postAction"];if(!i.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${i.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(e):this._lifeCycleHooks[t]=[e],this}exitOverride(t){return this._exitCallback=t||(t=>{if("commander.executeSubCommandAsync"!==t.code)throw t}),this}_exit(t,e,i){this._exitCallback&&this._exitCallback(new j(t,e,i)),M.exit(t)}action(t){return this._actionHandler=e=>{const i=this.registeredArguments.length,r=e.slice(0,i);return this._storeOptionsAsProperties?r[i]=this:r[i]=this.opts(),r.push(this),t.apply(this,r)},this}createOption(t,e){return new D(t,e)}_callParseArg(t,e,i,r){try{return t.parseArg(e,i)}catch(t){if("commander.invalidArgument"===t.code){const e=`${r} ${t.message}`;this.error(e,{exitCode:t.exitCode,code:t.code})}throw t}}_registerOption(t){const e=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(e){const i=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${i}'\n-  already used by option '${e.flags}'`)}this.options.push(t)}_registerCommand(t){const e=t=>[t.name()].concat(t.aliases()),i=e(t).find((t=>this._findCommand(t)));if(i){const r=e(this._findCommand(i)).join("|"),s=e(t).join("|");throw new Error(`cannot add command '${s}' as already have command '${r}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);const e=t.name(),i=t.attributeName();if(t.negate){const e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(i,void 0===t.defaultValue||t.defaultValue,"default")}else void 0!==t.defaultValue&&this.setOptionValueWithSource(i,t.defaultValue,"default");const r=(e,r,s)=>{null==e&&void 0!==t.presetArg&&(e=t.presetArg);const n=this.getOptionValue(i);null!==e&&t.parseArg?e=this._callParseArg(t,e,n,r):null!==e&&t.variadic&&(e=t._concatValue(e,n)),null==e&&(e=!t.negate&&(!(!t.isBoolean()&&!t.optional)||"")),this.setOptionValueWithSource(i,e,s)};return this.on("option:"+e,(e=>{const i=`error: option '${t.flags}' argument '${e}' is invalid.`;r(e,i,"cli")})),t.envVar&&this.on("optionEnv:"+e,(e=>{const i=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;r(e,i,"env")})),this}_optionEx(t,e,i,r,s){if("object"==typeof e&&e instanceof D)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const n=this.createOption(e,i);if(n.makeOptionMandatory(!!t.mandatory),"function"==typeof r)n.default(s).argParser(r);else if(r instanceof RegExp){const t=r;r=(e,i)=>{const r=t.exec(e);return r?r[0]:i},n.default(s).argParser(r)}else n.default(r);return this.addOption(n)}option(t,e,i,r){return this._optionEx({},t,e,i,r)}requiredOption(t,e,i,r){return this._optionEx({mandatory:!0},t,e,i,r)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,e){return this.setOptionValueWithSource(t,e,void 0)}setOptionValueWithSource(t,e,i){return this._storeOptionsAsProperties?this[t]=e:this._optionValues[t]=e,this._optionValueSources[t]=i,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let e;return this._getCommandAndAncestors().forEach((i=>{void 0!==i.getOptionValueSource(t)&&(e=i.getOptionValueSource(t))})),e}_prepareUserArgs(t,e){if(void 0!==t&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");let i;switch(e=e||{},void 0===t&&(t=M.argv,M.versions&&M.versions.electron&&(e.from="electron")),this.rawArgs=t.slice(),e.from){case void 0:case"node":this._scriptPath=t[1],i=t.slice(2);break;case"electron":M.defaultApp?(this._scriptPath=t[1],i=t.slice(2)):i=t.slice(1);break;case"user":i=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${e.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",i}parse(t,e){const i=this._prepareUserArgs(t,e);return this._parseCommand([],i),this}async parseAsync(t,e){const i=this._prepareUserArgs(t,e);return await this._parseCommand([],i),this}_executeSubCommand(t,e){e=e.slice();let i=!1;const r=[".js",".ts",".tsx",".mjs",".cjs"];function s(t,e){const i=A.resolve(t,e);if(T.existsSync(i))return i;if(r.includes(A.extname(e)))return;const s=r.find((t=>T.existsSync(`${i}${t}`)));return s?`${i}${s}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let n,o=t._executableFile||`${this._name}-${t._name}`,a=this._executableDir||"";if(this._scriptPath){let t;try{t=T.realpathSync(this._scriptPath)}catch(e){t=this._scriptPath}a=A.resolve(A.dirname(t),a)}if(a){let e=s(a,o);if(!e&&!t._executableFile&&this._scriptPath){const i=A.basename(this._scriptPath,A.extname(this._scriptPath));i!==this._name&&(e=s(a,`${i}-${t._name}`))}o=e||o}if(i=r.includes(A.extname(o)),"win32"!==M.platform?i?(e.unshift(o),e=N(M.execArgv).concat(e),n=k.spawn(M.argv[0],e,{stdio:"inherit"})):n=k.spawn(o,e,{stdio:"inherit"}):(e.unshift(o),e=N(M.execArgv).concat(e),n=k.spawn(M.execPath,e,{stdio:"inherit"})),!n.killed){["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((t=>{M.on(t,(()=>{!1===n.killed&&null===n.exitCode&&n.kill(t)}))}))}const h=this._exitCallback;n.on("close",((t,e)=>{t=t??1,h?h(new j(t,"commander.executeSubCommandAsync","(close)")):M.exit(t)})),n.on("error",(e=>{if("ENOENT"===e.code){const e=a?`searched for local subcommand relative to directory '${a}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",i=`'${o}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${e}`;throw new Error(i)}if("EACCES"===e.code)throw new Error(`'${o}' not executable`);if(h){const t=new j(1,"commander.executeSubCommandAsync","(error)");t.nestedError=e,h(t)}else M.exit(1)})),this.runningCommand=n}_dispatchSubcommand(t,e,i){const r=this._findCommand(t);let s;return r||this.help({error:!0}),s=this._chainOrCallSubCommandHook(s,r,"preSubcommand"),s=this._chainOrCall(s,(()=>{if(!r._executableHandler)return r._parseCommand(e,i);this._executeSubCommand(r,e.concat(i))})),s}_dispatchHelpCommand(t){t||this.help();const e=this._findCommand(t);return e&&!e._executableHandler&&e.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((t,e)=>{t.required&&null==this.args[e]&&this.missingArgument(t.name())})),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const t=(t,e,i)=>{let r=e;if(null!==e&&t.parseArg){const s=`error: command-argument value '${e}' is invalid for argument '${t.name()}'.`;r=this._callParseArg(t,e,i,s)}return r};this._checkNumberOfArguments();const e=[];this.registeredArguments.forEach(((i,r)=>{let s=i.defaultValue;i.variadic?r<this.args.length?(s=this.args.slice(r),i.parseArg&&(s=s.reduce(((e,r)=>t(i,r,e)),i.defaultValue))):void 0===s&&(s=[]):r<this.args.length&&(s=this.args[r],i.parseArg&&(s=t(i,s,i.defaultValue))),e[r]=s})),this.processedArgs=e}_chainOrCall(t,e){return t&&t.then&&"function"==typeof t.then?t.then((()=>e())):e()}_chainOrCallHooks(t,e){let i=t;const r=[];return this._getCommandAndAncestors().reverse().filter((t=>void 0!==t._lifeCycleHooks[e])).forEach((t=>{t._lifeCycleHooks[e].forEach((e=>{r.push({hookedCommand:t,callback:e})}))})),"postAction"===e&&r.reverse(),r.forEach((t=>{i=this._chainOrCall(i,(()=>t.callback(t.hookedCommand,this)))})),i}_chainOrCallSubCommandHook(t,e,i){let r=t;return void 0!==this._lifeCycleHooks[i]&&this._lifeCycleHooks[i].forEach((t=>{r=this._chainOrCall(r,(()=>t(this,e)))})),r}_parseCommand(t,e){const i=this.parseOptions(e);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(i.operands),e=i.unknown,this.args=t.concat(e),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),e);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(e),this._dispatchSubcommand(this._defaultCommandName,t,e);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),this._outputHelpIfRequested(i.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const r=()=>{i.unknown.length>0&&this.unknownOption(i.unknown[0])},s=`command:${this.name()}`;if(this._actionHandler){let i;return r(),this._processArguments(),i=this._chainOrCallHooks(i,"preAction"),i=this._chainOrCall(i,(()=>this._actionHandler(this.processedArgs))),this.parent&&(i=this._chainOrCall(i,(()=>{this.parent.emit(s,t,e)}))),i=this._chainOrCallHooks(i,"postAction"),i}if(this.parent&&this.parent.listenerCount(s))r(),this._processArguments(),this.parent.emit(s,t,e);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,e);this.listenerCount("command:*")?this.emit("command:*",t,e):this.commands.length?this.unknownCommand():(r(),this._processArguments())}else this.commands.length?(r(),this.help({error:!0})):(r(),this._processArguments())}_findCommand(t){if(t)return this.commands.find((e=>e._name===t||e._aliases.includes(t)))}_findOption(t){return this.options.find((e=>e.is(t)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((t=>{t.options.forEach((e=>{e.mandatory&&void 0===t.getOptionValue(e.attributeName())&&t.missingMandatoryOptionValue(e)}))}))}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const e=t.attributeName();return void 0!==this.getOptionValue(e)&&"default"!==this.getOptionValueSource(e)})),e=t.filter((t=>t.conflictsWith.length>0));e.forEach((e=>{const i=t.find((t=>e.conflictsWith.includes(t.attributeName())));i&&this._conflictingOption(e,i)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((t=>{t._checkForConflictingLocalOptions()}))}parseOptions(t){const e=[],i=[];let r=e;const s=t.slice();function n(t){return t.length>1&&"-"===t[0]}let o=null;for(;s.length;){const t=s.shift();if("--"===t){r===i&&r.push(t),r.push(...s);break}if(!o||n(t)){if(o=null,n(t)){const e=this._findOption(t);if(e){if(e.required){const t=s.shift();void 0===t&&this.optionMissingArgument(e),this.emit(`option:${e.name()}`,t)}else if(e.optional){let t=null;s.length>0&&!n(s[0])&&(t=s.shift()),this.emit(`option:${e.name()}`,t)}else this.emit(`option:${e.name()}`);o=e.variadic?e:null;continue}}if(t.length>2&&"-"===t[0]&&"-"!==t[1]){const e=this._findOption(`-${t[1]}`);if(e){e.required||e.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${e.name()}`,t.slice(2)):(this.emit(`option:${e.name()}`),s.unshift(`-${t.slice(2)}`));continue}}if(/^--[^=]+=/.test(t)){const e=t.indexOf("="),i=this._findOption(t.slice(0,e));if(i&&(i.required||i.optional)){this.emit(`option:${i.name()}`,t.slice(e+1));continue}}if(n(t)&&(r=i),(this._enablePositionalOptions||this._passThroughOptions)&&0===e.length&&0===i.length){if(this._findCommand(t)){e.push(t),s.length>0&&i.push(...s);break}if(this._getHelpCommand()&&t===this._getHelpCommand().name()){e.push(t),s.length>0&&e.push(...s);break}if(this._defaultCommandName){i.push(t),s.length>0&&i.push(...s);break}}if(this._passThroughOptions){r.push(t),s.length>0&&r.push(...s);break}r.push(t)}else this.emit(`option:${o.name()}`,t)}return{operands:e,unknown:i}}opts(){if(this._storeOptionsAsProperties){const t={},e=this.options.length;for(let i=0;i<e;i++){const e=this.options[i].attributeName();t[e]=e===this._versionOptionName?this._version:this[e]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((t,e)=>Object.assign(t,e.opts())),{})}error(t,e){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const i=e||{},r=i.exitCode||1,s=i.code||"commander.error";this._exit(r,s,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in M.env){const e=t.attributeName();(void 0===this.getOptionValue(e)||["default","config","env"].includes(this.getOptionValueSource(e)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,M.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}}))}_parseOptionsImplied(){const t=new F(this.options),e=t=>void 0!==this.getOptionValue(t)&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((i=>void 0!==i.implied&&e(i.attributeName())&&t.valueFromOption(this.getOptionValue(i.attributeName()),i))).forEach((t=>{Object.keys(t.implied).filter((t=>!e(t))).forEach((e=>{this.setOptionValueWithSource(e,t.implied[e],"implied")}))}))}missingArgument(t){const e=`error: missing required argument '${t}'`;this.error(e,{code:"commander.missingArgument"})}optionMissingArgument(t){const e=`error: option '${t.flags}' argument missing`;this.error(e,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const e=`error: required option '${t.flags}' not specified`;this.error(e,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,e){const i=t=>{const e=t.attributeName(),i=this.getOptionValue(e),r=this.options.find((t=>t.negate&&e===t.attributeName())),s=this.options.find((t=>!t.negate&&e===t.attributeName()));return r&&(void 0===r.presetArg&&!1===i||void 0!==r.presetArg&&i===r.presetArg)?r:s||t},r=t=>{const e=i(t),r=e.attributeName();return"env"===this.getOptionValueSource(r)?`environment variable '${e.envVar}'`:`option '${e.flags}'`},s=`error: ${r(t)} cannot be used with ${r(e)}`;this.error(s,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let e="";if(t.startsWith("--")&&this._showSuggestionAfterError){let i=[],r=this;do{const t=r.createHelp().visibleOptions(r).filter((t=>t.long)).map((t=>t.long));i=i.concat(t),r=r.parent}while(r&&!r._enablePositionalOptions);e=R(t,i)}const i=`error: unknown option '${t}'${e}`;this.error(i,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const e=this.registeredArguments.length,i=1===e?"":"s",r=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${e} argument${i} but got ${t.length}.`;this.error(r,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let e="";if(this._showSuggestionAfterError){const i=[];this.createHelp().visibleCommands(this).forEach((t=>{i.push(t.name()),t.alias()&&i.push(t.alias())})),e=R(t,i)}const i=`error: unknown command '${t}'${e}`;this.error(i,{code:"commander.unknownCommand"})}version(t,e,i){if(void 0===t)return this._version;this._version=t,e=e||"-V, --version",i=i||"output the version number";const r=this.createOption(e,i);return this._versionOptionName=r.attributeName(),this._registerOption(r),this.on("option:"+r.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`),this._exit(0,"commander.version",t)})),this}description(t,e){return void 0===t&&void 0===e?this._description:(this._description=t,e&&(this._argsDescription=e),this)}summary(t){return void 0===t?this._summary:(this._summary=t,this)}alias(t){if(void 0===t)return this._aliases[0];let e=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(e=this.commands[this.commands.length-1]),t===e._name)throw new Error("Command alias can't be the same as its name");const i=this.parent?._findCommand(t);if(i){const e=[i.name()].concat(i.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${e}'`)}return e._aliases.push(t),this}aliases(t){return void 0===t?this._aliases:(t.forEach((t=>this.alias(t))),this)}usage(t){if(void 0===t){if(this._usage)return this._usage;const t=this.registeredArguments.map((t=>P(t)));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=t,this}name(t){return void 0===t?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=A.basename(t,A.extname(t)),this}executableDir(t){return void 0===t?this._executableDir:(this._executableDir=t,this)}helpInformation(t){const e=this.createHelp();return void 0===e.helpWidth&&(e.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),e.formatHelp(this,e)}_getHelpContext(t){const e={error:!!(t=t||{}).error};let i;return i=e.error?t=>this._outputConfiguration.writeErr(t):t=>this._outputConfiguration.writeOut(t),e.write=t.write||i,e.command=this,e}outputHelp(t){let e;"function"==typeof t&&(e=t,t=void 0);const i=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach((t=>t.emit("beforeAllHelp",i))),this.emit("beforeHelp",i);let r=this.helpInformation(i);if(e&&(r=e(r),"string"!=typeof r&&!Buffer.isBuffer(r)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(r),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach((t=>t.emit("afterAllHelp",i)))}helpOption(t,e){return"boolean"==typeof t?(this._helpOption=t?this._helpOption??void 0:null,this):(t=t??"-h, --help",e=e??"display help for command",this._helpOption=this.createOption(t,e),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let e=M.exitCode||0;0===e&&t&&"function"!=typeof t&&t.error&&(e=1),this._exit(e,"commander.help","(outputHelp)")}addHelpText(t,e){const i=["beforeAll","before","after","afterAll"];if(!i.includes(t))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${i.join("', '")}'`);const r=`${t}Help`;return this.on(r,(t=>{let i;i="function"==typeof e?e({error:t.error,command:t.command}):e,i&&t.write(`${i}\n`)})),this}_outputHelpIfRequested(t){const e=this._getHelpOption();e&&t.find((t=>e.is(t)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};const{Argument:H}=m,{Command:V}=b,{CommanderError:L,InvalidArgumentError:B}=g,{Help:Y}=w,{Option:U}=S;f.program=new V,f.createCommand=t=>new V(t),f.createOption=(t,e)=>new U(t,e),f.createArgument=(t,e)=>new H(t,e),f.Command=V,f.Option=U,f.Argument=H,f.Help=Y,f.CommanderError=L,f.InvalidArgumentError=B,f.InvalidOptionArgumentError=B;const{program:q,createCommand:G,createArgument:W,createOption:J,CommanderError:z,InvalidArgumentError:K,InvalidOptionArgumentError:Z,Command:X,Argument:Q,Option:tt,Help:et}=f;var it,rt,st,nt,ot,at,ht,lt,ct={exports:{}};function ut(){if(nt)return st;nt=1;const t=rt?it:(rt=1,it={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),e={};for(const i of Object.keys(t))e[t[i]]=i;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};st=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:e}),Object.defineProperty(i[t],"labels",{value:r})}return i.rgb.hsl=function(t){const e=t[0]/255,i=t[1]/255,r=t[2]/255,s=Math.min(e,i,r),n=Math.max(e,i,r),o=n-s;let a,h;n===s?a=0:e===n?a=(i-r)/o:i===n?a=2+(r-e)/o:r===n&&(a=4+(e-i)/o),a=Math.min(60*a,360),a<0&&(a+=360);const l=(s+n)/2;return h=n===s?0:l<=.5?o/(n+s):o/(2-n-s),[a,100*h,100*l]},i.rgb.hsv=function(t){let e,i,r,s,n;const o=t[0]/255,a=t[1]/255,h=t[2]/255,l=Math.max(o,a,h),c=l-Math.min(o,a,h),u=function(t){return(l-t)/6/c+.5};return 0===c?(s=0,n=0):(n=c/l,e=u(o),i=u(a),r=u(h),o===l?s=r-i:a===l?s=1/3+e-r:h===l&&(s=2/3+i-e),s<0?s+=1:s>1&&(s-=1)),[360*s,100*n,100*l]},i.rgb.hwb=function(t){const e=t[0],r=t[1];let s=t[2];const n=i.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,s));return s=1-1/255*Math.max(e,Math.max(r,s)),[n,100*o,100*s]},i.rgb.cmyk=function(t){const e=t[0]/255,i=t[1]/255,r=t[2]/255,s=Math.min(1-e,1-i,1-r);return[100*((1-e-s)/(1-s)||0),100*((1-i-s)/(1-s)||0),100*((1-r-s)/(1-s)||0),100*s]},i.rgb.keyword=function(i){const r=e[i];if(r)return r;let s,n=1/0;for(const e of Object.keys(t)){const r=t[e],h=(a=r,((o=i)[0]-a[0])**2+(o[1]-a[1])**2+(o[2]-a[2])**2);h<n&&(n=h,s=e)}var o,a;return s},i.keyword.rgb=function(e){return t[e]},i.rgb.xyz=function(t){let e=t[0]/255,i=t[1]/255,r=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*e+.3576*i+.1805*r),100*(.2126*e+.7152*i+.0722*r),100*(.0193*e+.1192*i+.9505*r)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let r=e[0],s=e[1],n=e[2];r/=95.047,s/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;return[116*s-16,500*(r-s),200*(s-n)]},i.hsl.rgb=function(t){const e=t[0]/360,i=t[1]/100,r=t[2]/100;let s,n,o;if(0===i)return o=255*r,[o,o,o];s=r<.5?r*(1+i):r+i-r*i;const a=2*r-s,h=[0,0,0];for(let t=0;t<3;t++)n=e+1/3*-(t-1),n<0&&n++,n>1&&n--,o=6*n<1?a+6*(s-a)*n:2*n<1?s:3*n<2?a+(s-a)*(2/3-n)*6:a,h[t]=255*o;return h},i.hsl.hsv=function(t){const e=t[0];let i=t[1]/100,r=t[2]/100,s=i;const n=Math.max(r,.01);r*=2,i*=r<=1?r:2-r,s*=n<=1?n:2-n;return[e,100*(0===r?2*s/(n+s):2*i/(r+i)),100*((r+i)/2)]},i.hsv.rgb=function(t){const e=t[0]/60,i=t[1]/100;let r=t[2]/100;const s=Math.floor(e)%6,n=e-Math.floor(e),o=255*r*(1-i),a=255*r*(1-i*n),h=255*r*(1-i*(1-n));switch(r*=255,s){case 0:return[r,h,o];case 1:return[a,r,o];case 2:return[o,r,h];case 3:return[o,a,r];case 4:return[h,o,r];case 5:return[r,o,a]}},i.hsv.hsl=function(t){const e=t[0],i=t[1]/100,r=t[2]/100,s=Math.max(r,.01);let n,o;o=(2-i)*r;const a=(2-i)*s;return n=i*s,n/=a<=1?a:2-a,n=n||0,o/=2,[e,100*n,100*o]},i.hwb.rgb=function(t){const e=t[0]/360;let i=t[1]/100,r=t[2]/100;const s=i+r;let n;s>1&&(i/=s,r/=s);const o=Math.floor(6*e),a=1-r;n=6*e-o,0!=(1&o)&&(n=1-n);const h=i+n*(a-i);let l,c,u;switch(o){default:case 6:case 0:l=a,c=h,u=i;break;case 1:l=h,c=a,u=i;break;case 2:l=i,c=a,u=h;break;case 3:l=i,c=h,u=a;break;case 4:l=h,c=i,u=a;break;case 5:l=a,c=i,u=h}return[255*l,255*c,255*u]},i.cmyk.rgb=function(t){const e=t[0]/100,i=t[1]/100,r=t[2]/100,s=t[3]/100;return[255*(1-Math.min(1,e*(1-s)+s)),255*(1-Math.min(1,i*(1-s)+s)),255*(1-Math.min(1,r*(1-s)+s))]},i.xyz.rgb=function(t){const e=t[0]/100,i=t[1]/100,r=t[2]/100;let s,n,o;return s=3.2406*e+-1.5372*i+-.4986*r,n=-.9689*e+1.8758*i+.0415*r,o=.0557*e+-.204*i+1.057*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=Math.min(Math.max(0,s),1),n=Math.min(Math.max(0,n),1),o=Math.min(Math.max(0,o),1),[255*s,255*n,255*o]},i.xyz.lab=function(t){let e=t[0],i=t[1],r=t[2];e/=95.047,i/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*i-16,500*(e-i),200*(i-r)]},i.lab.xyz=function(t){let e,i,r;i=(t[0]+16)/116,e=t[1]/500+i,r=i-t[2]/200;const s=i**3,n=e**3,o=r**3;return i=s>.008856?s:(i-16/116)/7.787,e=n>.008856?n:(e-16/116)/7.787,r=o>.008856?o:(r-16/116)/7.787,e*=95.047,i*=100,r*=108.883,[e,i,r]},i.lab.lch=function(t){const e=t[0],i=t[1],r=t[2];let s;s=360*Math.atan2(r,i)/2/Math.PI,s<0&&(s+=360);return[e,Math.sqrt(i*i+r*r),s]},i.lch.lab=function(t){const e=t[0],i=t[1],r=t[2]/360*2*Math.PI;return[e,i*Math.cos(r),i*Math.sin(r)]},i.rgb.ansi16=function(t,e=null){const[r,s,n]=t;let o=null===e?i.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let a=30+(Math.round(n/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return 2===o&&(a+=60),a},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],i=t[1],r=t[2];if(e===i&&i===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(r/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const i=.5*(1+~~(t>50));return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let i=e[0];3===e[0].length&&(i=i.split("").map((t=>t+t)).join(""));const r=parseInt(i,16);return[r>>16&255,r>>8&255,255&r]},i.rgb.hcg=function(t){const e=t[0]/255,i=t[1]/255,r=t[2]/255,s=Math.max(Math.max(e,i),r),n=Math.min(Math.min(e,i),r),o=s-n;let a,h;return a=o<1?n/(1-o):0,h=o<=0?0:s===e?(i-r)/o%6:s===i?2+(r-e)/o:4+(e-i)/o,h/=6,h%=1,[360*h,100*o,100*a]},i.hsl.hcg=function(t){const e=t[1]/100,i=t[2]/100,r=i<.5?2*e*i:2*e*(1-i);let s=0;return r<1&&(s=(i-.5*r)/(1-r)),[t[0],100*r,100*s]},i.hsv.hcg=function(t){const e=t[1]/100,i=t[2]/100,r=e*i;let s=0;return r<1&&(s=(i-r)/(1-r)),[t[0],100*r,100*s]},i.hcg.rgb=function(t){const e=t[0]/360,i=t[1]/100,r=t[2]/100;if(0===i)return[255*r,255*r,255*r];const s=[0,0,0],n=e%1*6,o=n%1,a=1-o;let h=0;switch(Math.floor(n)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=a,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=a,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=a}return h=(1-i)*r,[255*(i*s[0]+h),255*(i*s[1]+h),255*(i*s[2]+h)]},i.hcg.hsv=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);let r=0;return i>0&&(r=e/i),[t[0],100*r,100*i]},i.hcg.hsl=function(t){const e=t[1]/100,i=t[2]/100*(1-e)+.5*e;let r=0;return i>0&&i<.5?r=e/(2*i):i>=.5&&i<1&&(r=e/(2*(1-i))),[t[0],100*r,100*i]},i.hcg.hwb=function(t){const e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],100*(i-e),100*(1-i)]},i.hwb.hcg=function(t){const e=t[1]/100,i=1-t[2]/100,r=i-e;let s=0;return r<1&&(s=(i-r)/(1-r)),[t[0],100*r,100*s]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]},st}function dt(){if(at)return ot;at=1;const t=ut();function e(e){const i=function(){const e={},i=Object.keys(t);for(let t=i.length,r=0;r<t;r++)e[i[r]]={distance:-1,parent:null};return e}(),r=[e];for(i[e].distance=0;r.length;){const e=r.pop(),s=Object.keys(t[e]);for(let t=s.length,n=0;n<t;n++){const t=s[n],o=i[t];-1===o.distance&&(o.distance=i[e].distance+1,o.parent=e,r.unshift(t))}}return i}function i(t,e){return function(i){return e(t(i))}}function r(e,r){const s=[r[e].parent,e];let n=t[r[e].parent][e],o=r[e].parent;for(;r[o].parent;)s.unshift(r[o].parent),n=i(t[r[o].parent][o],n),o=r[o].parent;return n.conversion=s,n}return ot=function(t){const i=e(t),s={},n=Object.keys(i);for(let t=n.length,e=0;e<t;e++){const t=n[e];null!==i[t].parent&&(s[t]=r(t,i))}return s}}function pt(){if(lt)return ht;lt=1;const t=ut(),e=dt(),i={};return Object.keys(t).forEach((r=>{i[r]={},Object.defineProperty(i[r],"channels",{value:t[r].channels}),Object.defineProperty(i[r],"labels",{value:t[r].labels});const s=e(r);Object.keys(s).forEach((t=>{const e=s[t];i[r][t]=function(t){const e=function(...e){const i=e[0];if(null==i)return i;i.length>1&&(e=i);const r=t(e);if("object"==typeof r)for(let t=r.length,e=0;e<t;e++)r[e]=Math.round(r[e]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}(e),i[r][t].raw=function(t){const e=function(...e){const i=e[0];return null==i?i:(i.length>1&&(e=i),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(e)}))})),ht=i}!function(t){const e=(t,e)=>(...i)=>`[${t(...i)+e}m`,i=(t,e)=>(...i)=>{const r=t(...i);return`[${38+e};5;${r}m`},r=(t,e)=>(...i)=>{const r=t(...i);return`[${38+e};2;${r[0]};${r[1]};${r[2]}m`},s=t=>t,n=(t,e,i)=>[t,e,i],o=(t,e,i)=>{Object.defineProperty(t,e,{get:()=>{const r=i();return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})};let a;const h=(t,e,i,r)=>{void 0===a&&(a=pt());const s=r?10:0,n={};for(const[r,o]of Object.entries(a)){const a="ansi16"===r?"ansi":r;r===e?n[a]=t(i,s):"object"==typeof o&&(n[a]=t(o[e],s))}return n};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[e,i]of Object.entries(a)){for(const[e,r]of Object.entries(i))a[e]={open:`[${r[0]}m`,close:`[${r[1]}m`},i[e]=a[e],t.set(r[0],r[1]);Object.defineProperty(a,e,{value:i,enumerable:!1})}return Object.defineProperty(a,"codes",{value:t,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",o(a.color,"ansi",(()=>h(e,"ansi16",s,!1))),o(a.color,"ansi256",(()=>h(i,"ansi256",s,!1))),o(a.color,"ansi16m",(()=>h(r,"rgb",n,!1))),o(a.bgColor,"ansi",(()=>h(e,"ansi16",s,!0))),o(a.bgColor,"ansi256",(()=>h(i,"ansi256",s,!0))),o(a.bgColor,"ansi16m",(()=>h(r,"rgb",n,!0))),a}})}(ct);var ft=ct.exports;const mt=n,gt=o,vt=(t,e=process.argv)=>{const i=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(i+t),s=e.indexOf("--");return-1!==r&&(-1===s||r<s)},{env:yt}=process;let bt;function wt(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function _t(t,e){if(0===bt)return 0;if(vt("color=16m")||vt("color=full")||vt("color=truecolor"))return 3;if(vt("color=256"))return 2;if(t&&!e&&void 0===bt)return 0;const i=bt||0;if("dumb"===yt.TERM)return i;if("win32"===process.platform){const t=mt.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in yt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((t=>t in yt))||"codeship"===yt.CI_NAME?1:i;if("TEAMCITY_VERSION"in yt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(yt.TEAMCITY_VERSION)?1:0;if("truecolor"===yt.COLORTERM)return 3;if("TERM_PROGRAM"in yt){const t=parseInt((yt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(yt.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(yt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(yt.TERM)||"COLORTERM"in yt?1:i}vt("no-color")||vt("no-colors")||vt("color=false")||vt("color=never")?bt=0:(vt("color")||vt("colors")||vt("color=true")||vt("color=always"))&&(bt=1),"FORCE_COLOR"in yt&&(bt="true"===yt.FORCE_COLOR?1:"false"===yt.FORCE_COLOR?0:0===yt.FORCE_COLOR.length?1:Math.min(parseInt(yt.FORCE_COLOR,10),3));var St={supportsColor:function(t){return wt(_t(t,t&&t.isTTY))},stdout:wt(_t(!0,gt.isatty(1))),stderr:wt(_t(!0,gt.isatty(2)))};var xt,Ot,Ct={stringReplaceAll:(t,e,i)=>{let r=t.indexOf(e);if(-1===r)return t;const s=e.length;let n=0,o="";do{o+=t.substr(n,r-n)+e+i,n=r+s,r=t.indexOf(e,n)}while(-1!==r);return o+=t.substr(n),o},stringEncaseCRLFWithFirstIndex:(t,e,i,r)=>{let s=0,n="";do{const o="\r"===t[r-1];n+=t.substr(s,(o?r-1:r)-s)+e+(o?"\r\n":"\n")+i,s=r+1,r=t.indexOf("\n",s)}while(-1!==r);return n+=t.substr(s),n}};const Et=ft,{stdout:kt,stderr:At}=St,{stringReplaceAll:Tt,stringEncaseCRLFWithFirstIndex:Mt}=Ct,{isArray:$t}=Array,Pt=["ansi","ansi","ansi256","ansi16m"],jt=Object.create(null);class It{constructor(t){return Dt(t)}}const Dt=t=>{const e={};return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const i=kt?kt.level:0;t.level=void 0===e.level?i:e.level})(e,t),e.template=(...t)=>Yt(e.template,...t),Object.setPrototypeOf(e,Ft.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=It,e.template};function Ft(t){return Dt(t)}for(const[t,e]of Object.entries(Et))jt[t]={get(){const i=Vt(this,Ht(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:i}),i}};jt.visible={get(){const t=Vt(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};const Rt=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const t of Rt)jt[t]={get(){const{level:e}=this;return function(...i){const r=Ht(Et.color[Pt[e]][t](...i),Et.color.close,this._styler);return Vt(this,r,this._isEmpty)}}};for(const t of Rt){jt["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const{level:e}=this;return function(...i){const r=Ht(Et.bgColor[Pt[e]][t](...i),Et.bgColor.close,this._styler);return Vt(this,r,this._isEmpty)}}}}const Nt=Object.defineProperties((()=>{}),{...jt,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),Ht=(t,e,i)=>{let r,s;return void 0===i?(r=t,s=e):(r=i.openAll+t,s=e+i.closeAll),{open:t,close:e,openAll:r,closeAll:s,parent:i}},Vt=(t,e,i)=>{const r=(...t)=>$t(t[0])&&$t(t[0].raw)?Lt(r,Yt(r,...t)):Lt(r,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(r,Nt),r._generator=t,r._styler=e,r._isEmpty=i,r},Lt=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let i=t._styler;if(void 0===i)return e;const{openAll:r,closeAll:s}=i;if(-1!==e.indexOf(""))for(;void 0!==i;)e=Tt(e,i.close,i.open),i=i.parent;const n=e.indexOf("\n");return-1!==n&&(e=Mt(e,s,r,n)),r+e+s};let Bt;const Yt=(t,...e)=>{const[i]=e;if(!$t(i)||!$t(i.raw))return e.join(" ");const r=e.slice(1),s=[i.raw[0]];for(let t=1;t<i.length;t++)s.push(String(r[t-1]).replace(/[{}\\]/g,"\\$&"),String(i.raw[t]));return void 0===Bt&&(Bt=function(){if(Ot)return xt;Ot=1;const t=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,e=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,i=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,r=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,s=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function n(t){const e="u"===t[0],i="{"===t[1];return e&&!i&&5===t.length||"x"===t[0]&&3===t.length?String.fromCharCode(parseInt(t.slice(1),16)):e&&i?String.fromCodePoint(parseInt(t.slice(2,-1),16)):s.get(t)||t}function o(t,e){const s=[],o=e.trim().split(/\s*,\s*/g);let a;for(const e of o){const o=Number(e);if(Number.isNaN(o)){if(!(a=e.match(i)))throw new Error(`Invalid Chalk template style argument: ${e} (in style '${t}')`);s.push(a[2].replace(r,((t,e,i)=>e?n(e):i)))}else s.push(o)}return s}function a(t){e.lastIndex=0;const i=[];let r;for(;null!==(r=e.exec(t));){const t=r[1];if(r[2]){const e=o(t,r[2]);i.push([t].concat(e))}else i.push([t])}return i}function h(t,e){const i={};for(const t of e)for(const e of t.styles)i[e[0]]=t.inverse?null:e.slice(1);let r=t;for(const[t,e]of Object.entries(i))if(Array.isArray(e)){if(!(t in r))throw new Error(`Unknown Chalk style: ${t}`);r=e.length>0?r[t](...e):r[t]}return r}return xt=(e,i)=>{const r=[],s=[];let o=[];if(i.replace(t,((t,i,l,c,u,d)=>{if(i)o.push(n(i));else if(c){const t=o.join("");o=[],s.push(0===r.length?t:h(e,r)(t)),r.push({inverse:l,styles:a(c)})}else if(u){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");s.push(h(e,r)(o.join(""))),o=[],r.pop()}else o.push(d)})),s.push(o.join("")),r.length>0){const t=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(t)}return s.join("")},xt}()),Bt(t,s.join(""))};Object.defineProperties(Ft.prototype,jt);const Ut=Ft();Ut.supportsColor=kt,Ut.stderr=Ft({level:At?At.level:0}),Ut.stderr.supportsColor=At;var qt=Ut,Gt=p(qt),Wt={},Jt={fromCallback:function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise(((i,r)=>{e.push(((t,e)=>null!=t?r(t):i(e))),t.apply(this,e)}));t.apply(this,e)}),"name",{value:t.name})},fromPromise:function(t){return Object.defineProperty((function(...e){const i=e[e.length-1];if("function"!=typeof i)return t.apply(this,e);e.pop(),t.apply(this,e).then((t=>i(null,t)),i)}),"name",{value:t.name})}},zt=c,Kt=process.cwd,Zt=null,Xt=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Zt||(Zt=Kt.call(process)),Zt};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var Qt=process.chdir;process.chdir=function(t){Zt=null,Qt.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Qt)}var te=function(t){zt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,i,r){t.open(e,zt.O_WRONLY|zt.O_SYMLINK,i,(function(e,s){e?r&&r(e):t.fchmod(s,i,(function(e){t.close(s,(function(t){r&&r(e||t)}))}))}))},t.lchmodSync=function(e,i){var r,s=t.openSync(e,zt.O_WRONLY|zt.O_SYMLINK,i),n=!0;try{r=t.fchmodSync(s,i),n=!1}finally{if(n)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return r}}(t);t.lutimes||function(t){zt.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,i,r,s){t.open(e,zt.O_SYMLINK,(function(e,n){e?s&&s(e):t.futimes(n,i,r,(function(e){t.close(n,(function(t){s&&s(e||t)}))}))}))},t.lutimesSync=function(e,i,r){var s,n=t.openSync(e,zt.O_SYMLINK),o=!0;try{s=t.futimesSync(n,i,r),o=!1}finally{if(o)try{t.closeSync(n)}catch(t){}else t.closeSync(n)}return s}):t.futimes&&(t.lutimes=function(t,e,i,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=r(t.chown),t.fchown=r(t.fchown),t.lchown=r(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=s(t.chownSync),t.fchownSync=s(t.fchownSync),t.lchownSync=s(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=n(t.stat),t.fstat=n(t.fstat),t.lstat=n(t.lstat),t.statSync=o(t.statSync),t.fstatSync=o(t.fstatSync),t.lstatSync=o(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,i){i&&process.nextTick(i)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,e,i,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===Xt&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function i(i,r,s){var n=Date.now(),o=0;e(i,r,(function a(h){if(h&&("EACCES"===h.code||"EPERM"===h.code||"EBUSY"===h.code)&&Date.now()-n<6e4)return setTimeout((function(){t.stat(r,(function(t,n){t&&"ENOENT"===t.code?e(i,r,a):s(h)}))}),o),void(o<100&&(o+=10));s&&s(h)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(i,e),i}(t.rename));function e(e){return e?function(i,r,s){return e.call(t,i,r,(function(t){a(t)&&(t=null),s&&s.apply(this,arguments)}))}:e}function i(e){return e?function(i,r){try{return e.call(t,i,r)}catch(t){if(!a(t))throw t}}:e}function r(e){return e?function(i,r,s,n){return e.call(t,i,r,s,(function(t){a(t)&&(t=null),n&&n.apply(this,arguments)}))}:e}function s(e){return e?function(i,r,s){try{return e.call(t,i,r,s)}catch(t){if(!a(t))throw t}}:e}function n(e){return e?function(i,r,s){function n(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),s&&s.apply(this,arguments)}return"function"==typeof r&&(s=r,r=null),r?e.call(t,i,r,n):e.call(t,i,n)}:e}function o(e){return e?function(i,r){var s=r?e.call(t,i,r):e.call(t,i);return s&&(s.uid<0&&(s.uid+=4294967296),s.gid<0&&(s.gid+=4294967296)),s}:e}function a(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read="function"!=typeof t.read?t.read:function(e){function i(i,r,s,n,o,a){var h;if(a&&"function"==typeof a){var l=0;h=function(c,u,d){if(c&&"EAGAIN"===c.code&&l<10)return l++,e.call(t,i,r,s,n,o,h);a.apply(this,arguments)}}return e.call(t,i,r,s,n,o,h)}return Object.setPrototypeOf&&Object.setPrototypeOf(i,e),i}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(h=t.readSync,function(e,i,r,s,n){for(var o=0;;)try{return h.call(t,e,i,r,s,n)}catch(t){if("EAGAIN"===t.code&&o<10){o++;continue}throw t}});var h};var ee=l.Stream,ie=function(t){return{ReadStream:function e(i,r){if(!(this instanceof e))return new e(i,r);ee.call(this);var s=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var n=Object.keys(r),o=0,a=n.length;o<a;o++){var h=n[o];this[h]=r[h]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){s._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return s.emit("error",t),void(s.readable=!1);s.fd=e,s.emit("open",e),s._read()}))},WriteStream:function e(i,r){if(!(this instanceof e))return new e(i,r);ee.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var s=Object.keys(r),n=0,o=s.length;n<o;n++){var a=s[n];this[a]=r[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};var re=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:se(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})),e},se=Object.getPrototypeOf||function(t){return t.__proto__};var ne,oe,ae=r,he=te,le=ie,ce=re,ue=u;function de(t,e){Object.defineProperty(t,ne,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(ne=Symbol.for("graceful-fs.queue"),oe=Symbol.for("graceful-fs.previous")):(ne="___graceful-fs.queue",oe="___graceful-fs.previous");var pe=function(){};if(ue.debuglog?pe=ue.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(pe=function(){var t=ue.format.apply(ue,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!ae[ne]){var fe=d[ne]||[];de(ae,fe),ae.close=function(t){function e(e,i){return t.call(ae,e,(function(t){t||be(),"function"==typeof i&&i.apply(this,arguments)}))}return Object.defineProperty(e,oe,{value:t}),e}(ae.close),ae.closeSync=function(t){function e(e){t.apply(ae,arguments),be()}return Object.defineProperty(e,oe,{value:t}),e}(ae.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){pe(ae[ne]),h.equal(ae[ne].length,0)}))}d[ne]||de(d,ae[ne]);var me,ge=ve(ce(ae));function ve(t){he(t),t.gracefulify=ve,t.createReadStream=function(e,i){return new t.ReadStream(e,i)},t.createWriteStream=function(e,i){return new t.WriteStream(e,i)};var e=t.readFile;t.readFile=function(t,i,r){"function"==typeof i&&(r=i,i=null);return function t(i,r,s,n){return e(i,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof s&&s.apply(this,arguments):ye([t,[i,r,s],e,n||Date.now(),Date.now()])}))}(t,i,r)};var i=t.writeFile;t.writeFile=function(t,e,r,s){"function"==typeof r&&(s=r,r=null);return function t(e,r,s,n,o){return i(e,r,s,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof n&&n.apply(this,arguments):ye([t,[e,r,s,n],i,o||Date.now(),Date.now()])}))}(t,e,r,s)};var r=t.appendFile;r&&(t.appendFile=function(t,e,i,s){"function"==typeof i&&(s=i,i=null);return function t(e,i,s,n,o){return r(e,i,s,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof n&&n.apply(this,arguments):ye([t,[e,i,s,n],r,o||Date.now(),Date.now()])}))}(t,e,i,s)});var s=t.copyFile;s&&(t.copyFile=function(t,e,i,r){"function"==typeof i&&(r=i,i=0);return function t(e,i,r,n,o){return s(e,i,r,(function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof n&&n.apply(this,arguments):ye([t,[e,i,r,n],s,o||Date.now(),Date.now()])}))}(t,e,i,r)});var n=t.readdir;t.readdir=function(t,e,i){"function"==typeof e&&(i=e,e=null);var r=o.test(process.version)?function(t,e,i,r){return n(t,s(t,e,i,r))}:function(t,e,i,r){return n(t,e,s(t,e,i,r))};return r(t,e,i);function s(t,e,i,s){return function(n,o){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?(o&&o.sort&&o.sort(),"function"==typeof i&&i.call(this,n,o)):ye([r,[t,e,i],n,s||Date.now(),Date.now()])}}};var o=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var a=le(t);d=a.ReadStream,p=a.WriteStream}var h=t.ReadStream;h&&(d.prototype=Object.create(h.prototype),d.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,i){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=i,t.emit("open",i),t.read())}))});var l=t.WriteStream;l&&(p.prototype=Object.create(l.prototype),p.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,i){e?(t.destroy(),t.emit("error",e)):(t.fd=i,t.emit("open",i))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return p},set:function(t){p=t},enumerable:!0,configurable:!0});var c=d;Object.defineProperty(t,"FileReadStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var u=p;function d(t,e){return this instanceof d?(h.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function p(t,e){return this instanceof p?(l.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return u},set:function(t){u=t},enumerable:!0,configurable:!0});var f=t.open;function m(t,e,i,r){return"function"==typeof i&&(r=i,i=null),function t(e,i,r,s,n){return f(e,i,r,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof s&&s.apply(this,arguments):ye([t,[e,i,r,s],o,n||Date.now(),Date.now()])}))}(t,e,i,r)}return t.open=m,t}function ye(t){pe("ENQUEUE",t[0].name,t[1]),ae[ne].push(t),we()}function be(){for(var t=Date.now(),e=0;e<ae[ne].length;++e)ae[ne][e].length>2&&(ae[ne][e][3]=t,ae[ne][e][4]=t);we()}function we(){if(clearTimeout(me),me=void 0,0!==ae[ne].length){var t=ae[ne].shift(),e=t[0],i=t[1],r=t[2],s=t[3],n=t[4];if(void 0===s)pe("RETRY",e.name,i),e.apply(null,i);else if(Date.now()-s>=6e4){pe("TIMEOUT",e.name,i);var o=i.pop();"function"==typeof o&&o.call(null,r)}else{var a=Date.now()-n,h=Math.max(n-s,1);a>=Math.min(1.2*h,100)?(pe("RETRY",e.name,i),e.apply(null,i.concat([s]))):ae[ne].push(t)}void 0===me&&(me=setTimeout(we,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ae.__patched&&(ge=ve(ae),ae.__patched=!0),function(t){const e=Jt.fromCallback,i=ge,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof i[t]));Object.assign(t,i),r.forEach((r=>{t[r]=e(i[r])})),t.exists=function(t,e){return"function"==typeof e?i.exists(t,e):new Promise((e=>i.exists(t,e)))},t.read=function(t,e,r,s,n,o){return"function"==typeof o?i.read(t,e,r,s,n,o):new Promise(((o,a)=>{i.read(t,e,r,s,n,((t,e,i)=>{if(t)return a(t);o({bytesRead:e,buffer:i})}))}))},t.write=function(t,e,...r){return"function"==typeof r[r.length-1]?i.write(t,e,...r):new Promise(((s,n)=>{i.write(t,e,...r,((t,e,i)=>{if(t)return n(t);s({bytesWritten:e,buffer:i})}))}))},t.readv=function(t,e,...r){return"function"==typeof r[r.length-1]?i.readv(t,e,...r):new Promise(((s,n)=>{i.readv(t,e,...r,((t,e,i)=>{if(t)return n(t);s({bytesRead:e,buffers:i})}))}))},t.writev=function(t,e,...r){return"function"==typeof r[r.length-1]?i.writev(t,e,...r):new Promise(((s,n)=>{i.writev(t,e,...r,((t,e,i)=>{if(t)return n(t);s({bytesWritten:e,buffers:i})}))}))},"function"==typeof i.realpath.native?t.realpath.native=e(i.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Wt);var _e={},Se={};const xe=i;Se.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(xe.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}};const Oe=Wt,{checkPath:Ce}=Se,Ee=t=>"number"==typeof t?t:{mode:511,...t}.mode;_e.makeDir=async(t,e)=>(Ce(t),Oe.mkdir(t,{mode:Ee(e),recursive:!0})),_e.makeDirSync=(t,e)=>(Ce(t),Oe.mkdirSync(t,{mode:Ee(e),recursive:!0}));const ke=Jt.fromPromise,{makeDir:Ae,makeDirSync:Te}=_e,Me=ke(Ae);var $e={mkdirs:Me,mkdirsSync:Te,mkdirp:Me,mkdirpSync:Te,ensureDir:Me,ensureDirSync:Te};const Pe=Jt.fromPromise,je=Wt;var Ie={pathExists:Pe((function(t){return je.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:je.existsSync};const De=Wt;var Fe={utimesMillis:(0,Jt.fromPromise)((async function(t,e,i){const r=await De.open(t,"r+");let s=null;try{await De.futimes(r,e,i)}finally{try{await De.close(r)}catch(t){s=t}}if(s)throw s})),utimesMillisSync:function(t,e,i){const r=De.openSync(t,"r+");return De.futimesSync(r,e,i),De.closeSync(r)}};const Re=Wt,Ne=i,He=Jt.fromPromise;function Ve(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function Le(t,e){const i=Ne.resolve(t).split(Ne.sep).filter((t=>t)),r=Ne.resolve(e).split(Ne.sep).filter((t=>t));return i.every(((t,e)=>r[e]===t))}function Be(t,e,i){return`Cannot ${i} '${t}' to a subdirectory of itself, '${e}'.`}var Ye={checkPaths:He((async function(t,e,i,r){const{srcStat:s,destStat:n}=await function(t,e,i){const r=i.dereference?t=>Re.stat(t,{bigint:!0}):t=>Re.lstat(t,{bigint:!0});return Promise.all([r(t),r(e).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((([t,e])=>({srcStat:t,destStat:e})))}(t,e,r);if(n){if(Ve(s,n)){const r=Ne.basename(t),o=Ne.basename(e);if("move"===i&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:n,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!n.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&n.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&Le(t,e))throw new Error(Be(t,e,i));return{srcStat:s,destStat:n}})),checkPathsSync:function(t,e,i,r){const{srcStat:s,destStat:n}=function(t,e,i){let r;const s=i.dereference?t=>Re.statSync(t,{bigint:!0}):t=>Re.lstatSync(t,{bigint:!0}),n=s(t);try{r=s(e)}catch(t){if("ENOENT"===t.code)return{srcStat:n,destStat:null};throw t}return{srcStat:n,destStat:r}}(t,e,r);if(n){if(Ve(s,n)){const r=Ne.basename(t),o=Ne.basename(e);if("move"===i&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:n,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!n.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&n.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&Le(t,e))throw new Error(Be(t,e,i));return{srcStat:s,destStat:n}},checkParentPaths:He((async function t(e,i,r,s){const n=Ne.resolve(Ne.dirname(e)),o=Ne.resolve(Ne.dirname(r));if(o===n||o===Ne.parse(o).root)return;let a;try{a=await Re.stat(o,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(Ve(i,a))throw new Error(Be(e,r,s));return t(e,i,o,s)})),checkParentPathsSync:function t(e,i,r,s){const n=Ne.resolve(Ne.dirname(e)),o=Ne.resolve(Ne.dirname(r));if(o===n||o===Ne.parse(o).root)return;let a;try{a=Re.statSync(o,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(Ve(i,a))throw new Error(Be(e,r,s));return t(e,i,o,s)},isSrcSubdir:Le,areIdentical:Ve};const Ue=Wt,qe=i,{mkdirs:Ge}=$e,{pathExists:We}=Ie,{utimesMillis:Je}=Fe,ze=Ye;async function Ke(t,e,i){return!i.filter||i.filter(t,e)}async function Ze(t,e,i,r){const s=r.dereference?Ue.stat:Ue.lstat,n=await s(e);if(n.isDirectory())return async function(t,e,i,r,s){e||await Ue.mkdir(r);const n=await Ue.readdir(i);await Promise.all(n.map((async t=>{const e=qe.join(i,t),n=qe.join(r,t);if(!await Ke(e,n,s))return;const{destStat:o}=await ze.checkPaths(e,n,"copy",s);return Ze(o,e,n,s)}))),e||await Ue.chmod(r,t.mode)}(n,t,e,i,r);if(n.isFile()||n.isCharacterDevice()||n.isBlockDevice())return async function(t,e,i,r,s){if(!e)return Xe(t,i,r,s);if(s.overwrite)return await Ue.unlink(r),Xe(t,i,r,s);if(s.errorOnExist)throw new Error(`'${r}' already exists`)}(n,t,e,i,r);if(n.isSymbolicLink())return async function(t,e,i,r){let s=await Ue.readlink(e);r.dereference&&(s=qe.resolve(process.cwd(),s));if(!t)return Ue.symlink(s,i);let n=null;try{n=await Ue.readlink(i)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return Ue.symlink(s,i);throw t}r.dereference&&(n=qe.resolve(process.cwd(),n));if(ze.isSrcSubdir(s,n))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${n}'.`);if(ze.isSrcSubdir(n,s))throw new Error(`Cannot overwrite '${n}' with '${s}'.`);return await Ue.unlink(i),Ue.symlink(s,i)}(t,e,i,r);if(n.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(n.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}async function Xe(t,e,i,r){if(await Ue.copyFile(e,i),r.preserveTimestamps){0==(128&t.mode)&&await function(t,e){return Ue.chmod(t,128|e)}(i,t.mode);const r=await Ue.stat(e);await Je(i,r.atime,r.mtime)}return Ue.chmod(i,t.mode)}var Qe=async function(t,e,i={}){"function"==typeof i&&(i={filter:i}),i.clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:r,destStat:s}=await ze.checkPaths(t,e,"copy",i);if(await ze.checkParentPaths(t,r,e,"copy"),!await Ke(t,e,i))return;const n=qe.dirname(e);await We(n)||await Ge(n),await Ze(s,t,e,i)};const ti=ge,ei=i,ii=$e.mkdirsSync,ri=Fe.utimesMillisSync,si=Ye;function ni(t,e,i,r){const s=(r.dereference?ti.statSync:ti.lstatSync)(e);if(s.isDirectory())return function(t,e,i,r,s){return e?hi(i,r,s):function(t,e,i,r){return ti.mkdirSync(i),hi(e,i,r),ai(i,t)}(t.mode,i,r,s)}(s,t,e,i,r);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,i,r,s){return e?function(t,e,i,r){if(r.overwrite)return ti.unlinkSync(i),oi(t,e,i,r);if(r.errorOnExist)throw new Error(`'${i}' already exists`)}(t,i,r,s):oi(t,i,r,s)}(s,t,e,i,r);if(s.isSymbolicLink())return function(t,e,i,r){let s=ti.readlinkSync(e);r.dereference&&(s=ei.resolve(process.cwd(),s));if(t){let t;try{t=ti.readlinkSync(i)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return ti.symlinkSync(s,i);throw t}if(r.dereference&&(t=ei.resolve(process.cwd(),t)),si.isSrcSubdir(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(si.isSrcSubdir(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return ti.unlinkSync(e),ti.symlinkSync(t,e)}(s,i)}return ti.symlinkSync(s,i)}(t,e,i,r);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function oi(t,e,i,r){return ti.copyFileSync(e,i),r.preserveTimestamps&&function(t,e,i){(function(t){return 0==(128&t)})(t)&&function(t,e){ai(t,128|e)}(i,t);(function(t,e){const i=ti.statSync(t);ri(e,i.atime,i.mtime)})(e,i)}(t.mode,e,i),ai(i,t.mode)}function ai(t,e){return ti.chmodSync(t,e)}function hi(t,e,i){ti.readdirSync(t).forEach((r=>function(t,e,i,r){const s=ei.join(e,t),n=ei.join(i,t);if(r.filter&&!r.filter(s,n))return;const{destStat:o}=si.checkPathsSync(s,n,"copy",r);return ni(o,s,n,r)}(r,t,e,i)))}var li=function(t,e,i){"function"==typeof i&&(i={filter:i}),(i=i||{}).clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:r,destStat:s}=si.checkPathsSync(t,e,"copy",i);if(si.checkParentPathsSync(t,r,e,"copy"),i.filter&&!i.filter(t,e))return;const n=ei.dirname(e);return ti.existsSync(n)||ii(n),ni(s,t,e,i)};var ci={copy:(0,Jt.fromPromise)(Qe),copySync:li};const ui=ge;var di={remove:(0,Jt.fromCallback)((function(t,e){ui.rm(t,{recursive:!0,force:!0},e)})),removeSync:function(t){ui.rmSync(t,{recursive:!0,force:!0})}};const pi=Jt.fromPromise,fi=Wt,mi=i,gi=$e,vi=di,yi=pi((async function(t){let e;try{e=await fi.readdir(t)}catch{return gi.mkdirs(t)}return Promise.all(e.map((e=>vi.remove(mi.join(t,e)))))}));function bi(t){let e;try{e=fi.readdirSync(t)}catch{return gi.mkdirsSync(t)}e.forEach((e=>{e=mi.join(t,e),vi.removeSync(e)}))}var wi={emptyDirSync:bi,emptydirSync:bi,emptyDir:yi,emptydir:yi};const _i=Jt.fromPromise,Si=i,xi=Wt,Oi=$e;var Ci={createFile:_i((async function(t){let e;try{e=await xi.stat(t)}catch{}if(e&&e.isFile())return;const i=Si.dirname(t);let r=null;try{r=await xi.stat(i)}catch(e){if("ENOENT"===e.code)return await Oi.mkdirs(i),void await xi.writeFile(t,"");throw e}r.isDirectory()?await xi.writeFile(t,""):await xi.readdir(i)})),createFileSync:function(t){let e;try{e=xi.statSync(t)}catch{}if(e&&e.isFile())return;const i=Si.dirname(t);try{xi.statSync(i).isDirectory()||xi.readdirSync(i)}catch(t){if(!t||"ENOENT"!==t.code)throw t;Oi.mkdirsSync(i)}xi.writeFileSync(t,"")}};const Ei=Jt.fromPromise,ki=i,Ai=Wt,Ti=$e,{pathExists:Mi}=Ie,{areIdentical:$i}=Ye;var Pi={createLink:Ei((async function(t,e){let i,r;try{i=await Ai.lstat(e)}catch{}try{r=await Ai.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}if(i&&$i(r,i))return;const s=ki.dirname(e);await Mi(s)||await Ti.mkdirs(s),await Ai.link(t,e)})),createLinkSync:function(t,e){let i;try{i=Ai.lstatSync(e)}catch{}try{const e=Ai.lstatSync(t);if(i&&$i(e,i))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const r=ki.dirname(e);return Ai.existsSync(r)||Ti.mkdirsSync(r),Ai.linkSync(t,e)}};const ji=i,Ii=Wt,{pathExists:Di}=Ie;var Fi={symlinkPaths:(0,Jt.fromPromise)((async function(t,e){if(ji.isAbsolute(t)){try{await Ii.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:t}}const i=ji.dirname(e),r=ji.join(i,t);if(await Di(r))return{toCwd:r,toDst:t};try{await Ii.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:ji.relative(i,t)}})),symlinkPathsSync:function(t,e){if(ji.isAbsolute(t)){if(!Ii.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}const i=ji.dirname(e),r=ji.join(i,t);if(Ii.existsSync(r))return{toCwd:r,toDst:t};if(!Ii.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:ji.relative(i,t)}}};const Ri=Wt;var Ni={symlinkType:(0,Jt.fromPromise)((async function(t,e){if(e)return e;let i;try{i=await Ri.lstat(t)}catch{return"file"}return i&&i.isDirectory()?"dir":"file"})),symlinkTypeSync:function(t,e){if(e)return e;let i;try{i=Ri.lstatSync(t)}catch{return"file"}return i&&i.isDirectory()?"dir":"file"}};const Hi=Jt.fromPromise,Vi=i,Li=Wt,{mkdirs:Bi,mkdirsSync:Yi}=$e,{symlinkPaths:Ui,symlinkPathsSync:qi}=Fi,{symlinkType:Gi,symlinkTypeSync:Wi}=Ni,{pathExists:Ji}=Ie,{areIdentical:zi}=Ye;var Ki={createSymlink:Hi((async function(t,e,i){let r;try{r=await Li.lstat(e)}catch{}if(r&&r.isSymbolicLink()){const[i,r]=await Promise.all([Li.stat(t),Li.stat(e)]);if(zi(i,r))return}const s=await Ui(t,e);t=s.toDst;const n=await Gi(s.toCwd,i),o=Vi.dirname(e);return await Ji(o)||await Bi(o),Li.symlink(t,e,n)})),createSymlinkSync:function(t,e,i){let r;try{r=Li.lstatSync(e)}catch{}if(r&&r.isSymbolicLink()){const i=Li.statSync(t),r=Li.statSync(e);if(zi(i,r))return}const s=qi(t,e);t=s.toDst,i=Wi(s.toCwd,i);const n=Vi.dirname(e);return Li.existsSync(n)||Yi(n),Li.symlinkSync(t,e,i)}};const{createFile:Zi,createFileSync:Xi}=Ci,{createLink:Qi,createLinkSync:tr}=Pi,{createSymlink:er,createSymlinkSync:ir}=Ki;var rr={createFile:Zi,createFileSync:Xi,ensureFile:Zi,ensureFileSync:Xi,createLink:Qi,createLinkSync:tr,ensureLink:Qi,ensureLinkSync:tr,createSymlink:er,createSymlinkSync:ir,ensureSymlink:er,ensureSymlinkSync:ir};var sr={stringify:function(t,{EOL:e="\n",finalEOL:i=!0,replacer:r=null,spaces:s}={}){const n=i?e:"";return JSON.stringify(t,r,s).replace(/\n/g,e)+n},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}};let nr;try{nr=ge}catch(t){nr=r}const or=Jt,{stringify:ar,stripBom:hr}=sr;const lr=or.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const i=e.fs||nr,r=!("throws"in e)||e.throws;let s,n=await or.fromCallback(i.readFile)(t,e);n=hr(n);try{s=JSON.parse(n,e?e.reviver:null)}catch(e){if(r)throw e.message=`${t}: ${e.message}`,e;return null}return s}));const cr=or.fromPromise((async function(t,e,i={}){const r=i.fs||nr,s=ar(e,i);await or.fromCallback(r.writeFile)(t,s,i)}));const ur={readFile:lr,readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const i=e.fs||nr,r=!("throws"in e)||e.throws;try{let r=i.readFileSync(t,e);return r=hr(r),JSON.parse(r,e.reviver)}catch(e){if(r)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:cr,writeFileSync:function(t,e,i={}){const r=i.fs||nr,s=ar(e,i);return r.writeFileSync(t,s,i)}};var dr={readJson:ur.readFile,readJsonSync:ur.readFileSync,writeJson:ur.writeFile,writeJsonSync:ur.writeFileSync};const pr=Jt.fromPromise,fr=Wt,mr=i,gr=$e,vr=Ie.pathExists;var yr={outputFile:pr((async function(t,e,i="utf-8"){const r=mr.dirname(t);return await vr(r)||await gr.mkdirs(r),fr.writeFile(t,e,i)})),outputFileSync:function(t,...e){const i=mr.dirname(t);fr.existsSync(i)||gr.mkdirsSync(i),fr.writeFileSync(t,...e)}};const{stringify:br}=sr,{outputFile:wr}=yr;var _r=async function(t,e,i={}){const r=br(e,i);await wr(t,r,i)};const{stringify:Sr}=sr,{outputFileSync:xr}=yr;var Or=function(t,e,i){const r=Sr(e,i);xr(t,r,i)};const Cr=Jt.fromPromise,Er=dr;Er.outputJson=Cr(_r),Er.outputJsonSync=Or,Er.outputJSON=Er.outputJson,Er.outputJSONSync=Er.outputJsonSync,Er.writeJSON=Er.writeJson,Er.writeJSONSync=Er.writeJsonSync,Er.readJSON=Er.readJson,Er.readJSONSync=Er.readJsonSync;var kr=Er;const Ar=Wt,Tr=i,{copy:Mr}=ci,{remove:$r}=di,{mkdirp:Pr}=$e,{pathExists:jr}=Ie,Ir=Ye;var Dr=async function(t,e,i={}){const r=i.overwrite||i.clobber||!1,{srcStat:s,isChangingCase:n=!1}=await Ir.checkPaths(t,e,"move",i);await Ir.checkParentPaths(t,s,e,"move");const o=Tr.dirname(e);return Tr.parse(o).root!==o&&await Pr(o),async function(t,e,i,r){if(!r)if(i)await $r(e);else if(await jr(e))throw new Error("dest already exists.");try{await Ar.rename(t,e)}catch(r){if("EXDEV"!==r.code)throw r;await async function(t,e,i){const r={overwrite:i,errorOnExist:!0,preserveTimestamps:!0};return await Mr(t,e,r),$r(t)}(t,e,i)}}(t,e,r,n)};const Fr=ge,Rr=i,Nr=ci.copySync,Hr=di.removeSync,Vr=$e.mkdirpSync,Lr=Ye;function Br(t,e,i){try{Fr.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,i){const r={overwrite:i,errorOnExist:!0,preserveTimestamps:!0};return Nr(t,e,r),Hr(t)}(t,e,i)}}var Yr=function(t,e,i){const r=(i=i||{}).overwrite||i.clobber||!1,{srcStat:s,isChangingCase:n=!1}=Lr.checkPathsSync(t,e,"move",i);return Lr.checkParentPathsSync(t,s,e,"move"),function(t){const e=Rr.dirname(t);return Rr.parse(e).root===e}(e)||Vr(Rr.dirname(e)),function(t,e,i,r){if(r)return Br(t,e,i);if(i)return Hr(e),Br(t,e,i);if(Fr.existsSync(e))throw new Error("dest already exists.");return Br(t,e,i)}(t,e,r,n)};var Ur={move:(0,Jt.fromPromise)(Dr),moveSync:Yr},qr=p({...Wt,...ci,...wi,...rr,...kr,...$e,...Ur,...yr,...Ie,...di}),Gr={exports:{}},Wr={},Jr={exports:{}},zr={exports:{}};const Kr=(t,e)=>{for(const i of Reflect.ownKeys(e))Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i));return t};zr.exports=Kr,zr.exports.default=Kr;const Zr=zr.exports,Xr=new WeakMap,Qr=(t,e={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let i,r=0;const s=t.displayName||t.name||"<anonymous>",n=function(...o){if(Xr.set(n,++r),1===r)i=t.apply(this,o),t=null;else if(!0===e.throw)throw new Error(`Function \`${s}\` can only be called once`);return i};return Zr(n,t),Xr.set(n,r),n};Jr.exports=Qr,Jr.exports.default=Qr,Jr.exports.callCount=t=>{if(!Xr.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Xr.get(t)};var ts,es=Jr.exports,is={exports:{}},rs={exports:{}};var ss=d.process;const ns=function(t){return t&&"object"==typeof t&&"function"==typeof t.removeListener&&"function"==typeof t.emit&&"function"==typeof t.reallyExit&&"function"==typeof t.listeners&&"function"==typeof t.kill&&"number"==typeof t.pid&&"function"==typeof t.on};if(ns(ss)){var os,as=h,hs=(ts||(ts=1,(ws=rs).exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&ws.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&ws.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")),rs.exports),ls=/^win/i.test(ss.platform),cs=t;"function"!=typeof cs&&(cs=cs.EventEmitter),ss.__signal_exit_emitter__?os=ss.__signal_exit_emitter__:((os=ss.__signal_exit_emitter__=new cs).count=0,os.emitted={}),os.infinite||(os.setMaxListeners(1/0),os.infinite=!0),is.exports=function(t,e){if(!ns(d.process))return function(){};as.equal(typeof t,"function","a callback must be provided for exit handler"),!1===fs&&ms();var i="exit";e&&e.alwaysLast&&(i="afterexit");return os.on(i,t),function(){os.removeListener(i,t),0===os.listeners("exit").length&&0===os.listeners("afterexit").length&&us()}};var us=function(){fs&&ns(d.process)&&(fs=!1,hs.forEach((function(t){try{ss.removeListener(t,ps[t])}catch(t){}})),ss.emit=ys,ss.reallyExit=gs,os.count-=1)};is.exports.unload=us;var ds=function(t,e,i){os.emitted[t]||(os.emitted[t]=!0,os.emit(t,e,i))},ps={};hs.forEach((function(t){ps[t]=function(){ns(d.process)&&(ss.listeners(t).length===os.count&&(us(),ds("exit",null,t),ds("afterexit",null,t),ls&&"SIGHUP"===t&&(t="SIGINT"),ss.kill(ss.pid,t)))}})),is.exports.signals=function(){return hs};var fs=!1,ms=function(){!fs&&ns(d.process)&&(fs=!0,os.count+=1,hs=hs.filter((function(t){try{return ss.on(t,ps[t]),!0}catch(t){return!1}})),ss.emit=bs,ss.reallyExit=vs)};is.exports.load=ms;var gs=ss.reallyExit,vs=function(t){ns(d.process)&&(ss.exitCode=t||0,ds("exit",ss.exitCode,null),ds("afterexit",ss.exitCode,null),gs.call(ss,ss.exitCode))},ys=ss.emit,bs=function(t,e){if("exit"===t&&ns(d.process)){void 0!==e&&(ss.exitCode=e);var i=ys.apply(this,arguments);return ds("exit",ss.exitCode,null),ds("afterexit",ss.exitCode,null),i}return ys.apply(this,arguments)}}else is.exports=function(){return function(){}};var ws;const _s=is.exports;var Ss=es((()=>{_s((()=>{process.stderr.write("[?25h")}),{alwaysLast:!0})}));!function(t){const e=Ss;let i=!1;t.show=(t=process.stderr)=>{t.isTTY&&(i=!1,t.write("[?25h"))},t.hide=(t=process.stderr)=>{t.isTTY&&(e(),i=!0,t.write("[?25l"))},t.toggle=(e,r)=>{void 0!==e&&(i=e),i?t.show(r):t.hide(r)}}(Wr);var xs={dots:{interval:80,frames:["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]},dots2:{interval:80,frames:["⣾","⣽","⣻","⢿","⡿","⣟","⣯","⣷"]},dots3:{interval:80,frames:["⠋","⠙","⠚","⠞","⠖","⠦","⠴","⠲","⠳","⠓"]},dots4:{interval:80,frames:["⠄","⠆","⠇","⠋","⠙","⠸","⠰","⠠","⠰","⠸","⠙","⠋","⠇","⠆"]},dots5:{interval:80,frames:["⠋","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋"]},dots6:{interval:80,frames:["⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠴","⠲","⠒","⠂","⠂","⠒","⠚","⠙","⠉","⠁"]},dots7:{interval:80,frames:["⠈","⠉","⠋","⠓","⠒","⠐","⠐","⠒","⠖","⠦","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈"]},dots8:{interval:80,frames:["⠁","⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈","⠈"]},dots9:{interval:80,frames:["⢹","⢺","⢼","⣸","⣇","⡧","⡗","⡏"]},dots10:{interval:80,frames:["⢄","⢂","⢁","⡁","⡈","⡐","⡠"]},dots11:{interval:100,frames:["⠁","⠂","⠄","⡀","⢀","⠠","⠐","⠈"]},dots12:{interval:80,frames:["⢀⠀","⡀⠀","⠄⠀","⢂⠀","⡂⠀","⠅⠀","⢃⠀","⡃⠀","⠍⠀","⢋⠀","⡋⠀","⠍⠁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⢈⠩","⡀⢙","⠄⡙","⢂⠩","⡂⢘","⠅⡘","⢃⠨","⡃⢐","⠍⡐","⢋⠠","⡋⢀","⠍⡁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⠈⠩","⠀⢙","⠀⡙","⠀⠩","⠀⢘","⠀⡘","⠀⠨","⠀⢐","⠀⡐","⠀⠠","⠀⢀","⠀⡀"]},dots13:{interval:80,frames:["⣼","⣹","⢻","⠿","⡟","⣏","⣧","⣶"]},dots8Bit:{interval:80,frames:["⠀","⠁","⠂","⠃","⠄","⠅","⠆","⠇","⡀","⡁","⡂","⡃","⡄","⡅","⡆","⡇","⠈","⠉","⠊","⠋","⠌","⠍","⠎","⠏","⡈","⡉","⡊","⡋","⡌","⡍","⡎","⡏","⠐","⠑","⠒","⠓","⠔","⠕","⠖","⠗","⡐","⡑","⡒","⡓","⡔","⡕","⡖","⡗","⠘","⠙","⠚","⠛","⠜","⠝","⠞","⠟","⡘","⡙","⡚","⡛","⡜","⡝","⡞","⡟","⠠","⠡","⠢","⠣","⠤","⠥","⠦","⠧","⡠","⡡","⡢","⡣","⡤","⡥","⡦","⡧","⠨","⠩","⠪","⠫","⠬","⠭","⠮","⠯","⡨","⡩","⡪","⡫","⡬","⡭","⡮","⡯","⠰","⠱","⠲","⠳","⠴","⠵","⠶","⠷","⡰","⡱","⡲","⡳","⡴","⡵","⡶","⡷","⠸","⠹","⠺","⠻","⠼","⠽","⠾","⠿","⡸","⡹","⡺","⡻","⡼","⡽","⡾","⡿","⢀","⢁","⢂","⢃","⢄","⢅","⢆","⢇","⣀","⣁","⣂","⣃","⣄","⣅","⣆","⣇","⢈","⢉","⢊","⢋","⢌","⢍","⢎","⢏","⣈","⣉","⣊","⣋","⣌","⣍","⣎","⣏","⢐","⢑","⢒","⢓","⢔","⢕","⢖","⢗","⣐","⣑","⣒","⣓","⣔","⣕","⣖","⣗","⢘","⢙","⢚","⢛","⢜","⢝","⢞","⢟","⣘","⣙","⣚","⣛","⣜","⣝","⣞","⣟","⢠","⢡","⢢","⢣","⢤","⢥","⢦","⢧","⣠","⣡","⣢","⣣","⣤","⣥","⣦","⣧","⢨","⢩","⢪","⢫","⢬","⢭","⢮","⢯","⣨","⣩","⣪","⣫","⣬","⣭","⣮","⣯","⢰","⢱","⢲","⢳","⢴","⢵","⢶","⢷","⣰","⣱","⣲","⣳","⣴","⣵","⣶","⣷","⢸","⢹","⢺","⢻","⢼","⢽","⢾","⢿","⣸","⣹","⣺","⣻","⣼","⣽","⣾","⣿"]},sand:{interval:80,frames:["⠁","⠂","⠄","⡀","⡈","⡐","⡠","⣀","⣁","⣂","⣄","⣌","⣔","⣤","⣥","⣦","⣮","⣶","⣷","⣿","⡿","⠿","⢟","⠟","⡛","⠛","⠫","⢋","⠋","⠍","⡉","⠉","⠑","⠡","⢁"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["⠂","-","–","—","–","-"]},pipe:{interval:100,frames:["┤","┘","┴","└","├","┌","┬","┐"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["✶","✸","✹","✺","✹","✷"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","´","-","_","_","_"]},hamburger:{interval:100,frames:["☱","☲","☴"]},growVertical:{interval:120,frames:["▁","▃","▄","▅","▆","▇","▆","▅","▄","▃"]},growHorizontal:{interval:120,frames:["▏","▎","▍","▌","▋","▊","▉","▊","▋","▌","▍","▎"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","°","O","o","."]},noise:{interval:100,frames:["▓","▒","░"]},bounce:{interval:120,frames:["⠁","⠂","⠄","⠂"]},boxBounce:{interval:120,frames:["▖","▘","▝","▗"]},boxBounce2:{interval:100,frames:["▌","▀","▐","▄"]},triangle:{interval:50,frames:["◢","◣","◤","◥"]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["◜","◠","◝","◞","◡","◟"]},circle:{interval:120,frames:["◡","⊙","◠"]},squareCorners:{interval:180,frames:["◰","◳","◲","◱"]},circleQuarters:{interval:120,frames:["◴","◷","◶","◵"]},circleHalves:{interval:50,frames:["◐","◓","◑","◒"]},squish:{interval:100,frames:["╫","╪"]},toggle:{interval:250,frames:["⊶","⊷"]},toggle2:{interval:80,frames:["▫","▪"]},toggle3:{interval:120,frames:["□","■"]},toggle4:{interval:100,frames:["■","□","▪","▫"]},toggle5:{interval:100,frames:["▮","▯"]},toggle6:{interval:300,frames:["ဝ","၀"]},toggle7:{interval:80,frames:["⦾","⦿"]},toggle8:{interval:100,frames:["◍","◌"]},toggle9:{interval:100,frames:["◉","◎"]},toggle10:{interval:100,frames:["㊂","㊀","㊁"]},toggle11:{interval:50,frames:["⧇","⧆"]},toggle12:{interval:120,frames:["☗","☖"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["←","↖","↑","↗","→","↘","↓","↙"]},arrow2:{interval:80,frames:["⬆️ ","↗️ ","➡️ ","↘️ ","⬇️ ","↙️ ","⬅️ ","↖️ "]},arrow3:{interval:120,frames:["▹▹▹▹▹","▸▹▹▹▹","▹▸▹▹▹","▹▹▸▹▹","▹▹▹▸▹","▹▹▹▹▸"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( ●    )","(  ●   )","(   ●  )","(    ● )","(     ●)","(    ● )","(   ●  )","(  ●   )","( ●    )","(●     )"]},smiley:{interval:200,frames:["😄 ","😝 "]},monkey:{interval:300,frames:["🙈 ","🙈 ","🙉 ","🙊 "]},hearts:{interval:100,frames:["💛 ","💙 ","💜 ","💚 ","❤️ "]},clock:{interval:100,frames:["🕛 ","🕐 ","🕑 ","🕒 ","🕓 ","🕔 ","🕕 ","🕖 ","🕗 ","🕘 ","🕙 ","🕚 "]},earth:{interval:180,frames:["🌍 ","🌎 ","🌏 "]},material:{interval:17,frames:["█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███████▁▁▁▁▁▁▁▁▁▁▁▁▁","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","██████████▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","█████████████▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁██████████████▁▁▁▁","▁▁▁██████████████▁▁▁","▁▁▁▁█████████████▁▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁▁▁████████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁██████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","██████▁▁▁▁▁▁▁▁▁▁▁▁▁█","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁▁█████████████▁▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁▁███████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁▁█████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁"]},moon:{interval:80,frames:["🌑 ","🌒 ","🌓 ","🌔 ","🌕 ","🌖 ","🌗 ","🌘 "]},runner:{interval:140,frames:["🚶 ","🏃 "]},pong:{interval:80,frames:["▐⠂       ▌","▐⠈       ▌","▐ ⠂      ▌","▐ ⠠      ▌","▐  ⡀     ▌","▐  ⠠     ▌","▐   ⠂    ▌","▐   ⠈    ▌","▐    ⠂   ▌","▐    ⠠   ▌","▐     ⡀  ▌","▐     ⠠  ▌","▐      ⠂ ▌","▐      ⠈ ▌","▐       ⠂▌","▐       ⠠▌","▐       ⡀▌","▐      ⠠ ▌","▐      ⠂ ▌","▐     ⠈  ▌","▐     ⠂  ▌","▐    ⠠   ▌","▐    ⡀   ▌","▐   ⠠    ▌","▐   ⠂    ▌","▐  ⠈     ▌","▐  ⠂     ▌","▐ ⠠      ▌","▐ ⡀      ▌","▐⠠       ▌"]},shark:{interval:120,frames:["▐|\\____________▌","▐_|\\___________▌","▐__|\\__________▌","▐___|\\_________▌","▐____|\\________▌","▐_____|\\_______▌","▐______|\\______▌","▐_______|\\_____▌","▐________|\\____▌","▐_________|\\___▌","▐__________|\\__▌","▐___________|\\_▌","▐____________|\\▌","▐____________/|▌","▐___________/|_▌","▐__________/|__▌","▐_________/|___▌","▐________/|____▌","▐_______/|_____▌","▐______/|______▌","▐_____/|_______▌","▐____/|________▌","▐___/|_________▌","▐__/|__________▌","▐_/|___________▌","▐/|____________▌"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["☀️ ","☀️ ","☀️ ","🌤 ","⛅️ ","🌥 ","☁️ ","🌧 ","🌨 ","🌧 ","🌨 ","🌧 ","🌨 ","⛈ ","🌨 ","🌧 ","🌨 ","☁️ ","🌥 ","⛅️ ","🌤 ","☀️ ","☀️ "]},christmas:{interval:400,frames:["🌲","🎄"]},grenade:{interval:80,frames:["،  ","′  "," ´ "," ‾ ","  ⸌","  ⸊","  |","  ⁎","  ⁕"," ෴ ","  ⁓","   ","   ","   "]},point:{interval:125,frames:["∙∙∙","●∙∙","∙●∙","∙∙●","∙∙∙"]},layer:{interval:150,frames:["-","=","≡"]},betaWave:{interval:80,frames:["ρββββββ","βρβββββ","ββρββββ","βββρβββ","ββββρββ","βββββρβ","ββββββρ"]},fingerDance:{interval:160,frames:["🤘 ","🤟 ","🖖 ","✋ ","🤚 ","👆 "]},fistBump:{interval:80,frames:["🤜　　　　🤛 ","🤜　　　　🤛 ","🤜　　　　🤛 ","　🤜　　🤛　 ","　　🤜🤛　　 ","　🤜✨🤛　　 ","🤜　✨　🤛　 "]},soccerHeader:{interval:80,frames:[" 🧑⚽️       🧑 ","🧑  ⚽️      🧑 ","🧑   ⚽️     🧑 ","🧑    ⚽️    🧑 ","🧑     ⚽️   🧑 ","🧑      ⚽️  🧑 ","🧑       ⚽️🧑  ","🧑      ⚽️  🧑 ","🧑     ⚽️   🧑 ","🧑    ⚽️    🧑 ","🧑   ⚽️     🧑 ","🧑  ⚽️      🧑 "]},mindblown:{interval:160,frames:["😐 ","😐 ","😮 ","😮 ","😦 ","😦 ","😧 ","😧 ","🤯 ","💥 ","✨ ","　 ","　 ","　 "]},speaker:{interval:160,frames:["🔈 ","🔉 ","🔊 ","🔉 "]},orangePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 "]},bluePulse:{interval:100,frames:["🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},orangeBluePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 ","🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},timeTravel:{interval:100,frames:["🕛 ","🕚 ","🕙 ","🕘 ","🕗 ","🕖 ","🕕 ","🕔 ","🕓 ","🕒 ","🕑 ","🕐 "]},aesthetic:{interval:80,frames:["▰▱▱▱▱▱▱","▰▰▱▱▱▱▱","▰▰▰▱▱▱▱","▰▰▰▰▱▱▱","▰▰▰▰▰▱▱","▰▰▰▰▰▰▱","▰▰▰▰▰▰▰","▰▱▱▱▱▱▱"]},dwarfFortress:{interval:80,frames:[" ██████£££  ","☺██████£££  ","☺██████£££  ","☺▓█████£££  ","☺▓█████£££  ","☺▒█████£££  ","☺▒█████£££  ","☺░█████£££  ","☺░█████£££  ","☺ █████£££  "," ☺█████£££  "," ☺█████£££  "," ☺▓████£££  "," ☺▓████£££  "," ☺▒████£££  "," ☺▒████£££  "," ☺░████£££  "," ☺░████£££  "," ☺ ████£££  ","  ☺████£££  ","  ☺████£££  ","  ☺▓███£££  ","  ☺▓███£££  ","  ☺▒███£££  ","  ☺▒███£££  ","  ☺░███£££  ","  ☺░███£££  ","  ☺ ███£££  ","   ☺███£££  ","   ☺███£££  ","   ☺▓██£££  ","   ☺▓██£££  ","   ☺▒██£££  ","   ☺▒██£££  ","   ☺░██£££  ","   ☺░██£££  ","   ☺ ██£££  ","    ☺██£££  ","    ☺██£££  ","    ☺▓█£££  ","    ☺▓█£££  ","    ☺▒█£££  ","    ☺▒█£££  ","    ☺░█£££  ","    ☺░█£££  ","    ☺ █£££  ","     ☺█£££  ","     ☺█£££  ","     ☺▓£££  ","     ☺▓£££  ","     ☺▒£££  ","     ☺▒£££  ","     ☺░£££  ","     ☺░£££  ","     ☺ £££  ","      ☺£££  ","      ☺£££  ","      ☺▓££  ","      ☺▓££  ","      ☺▒££  ","      ☺▒££  ","      ☺░££  ","      ☺░££  ","      ☺ ££  ","       ☺££  ","       ☺££  ","       ☺▓£  ","       ☺▓£  ","       ☺▒£  ","       ☺▒£  ","       ☺░£  ","       ☺░£  ","       ☺ £  ","        ☺£  ","        ☺£  ","        ☺▓  ","        ☺▓  ","        ☺▒  ","        ☺▒  ","        ☺░  ","        ☺░  ","        ☺   ","        ☺  &","        ☺ ☼&","       ☺ ☼ &","       ☺☼  &","      ☺☼  & ","      ‼   & ","     ☺   &  ","    ‼    &  ","   ☺    &   ","  ‼     &   "," ☺     &    ","‼      &    ","      &     ","      &     ","     &   ░  ","     &   ▒  ","    &    ▓  ","    &    £  ","   &    ░£  ","   &    ▒£  ","  &     ▓£  ","  &     ££  "," &     ░££  "," &     ▒££  ","&      ▓££  ","&      £££  ","      ░£££  ","      ▒£££  ","      ▓£££  ","      █£££  ","     ░█£££  ","     ▒█£££  ","     ▓█£££  ","     ██£££  ","    ░██£££  ","    ▒██£££  ","    ▓██£££  ","    ███£££  ","   ░███£££  ","   ▒███£££  ","   ▓███£££  ","   ████£££  ","  ░████£££  ","  ▒████£££  ","  ▓████£££  ","  █████£££  "," ░█████£££  "," ▒█████£££  "," ▓█████£££  "," ██████£££  "," ██████£££  "]}};const Os=Object.assign({},xs),Cs=Object.keys(Os);Object.defineProperty(Os,"random",{get(){const t=Math.floor(Math.random()*Cs.length),e=Cs[t];return Os[e]}});var Es=Os;const ks=qt,As=()=>"win32"!==process.platform||(Boolean(process.env.CI)||Boolean(process.env.WT_SESSION)||"vscode"===process.env.TERM_PROGRAM||"xterm-256color"===process.env.TERM||"alacritty"===process.env.TERM),Ts={info:ks.blue("ℹ"),success:ks.green("✔"),warning:ks.yellow("⚠"),error:ks.red("✖")},Ms={info:ks.blue("i"),success:ks.green("√"),warning:ks.yellow("‼"),error:ks.red("×")};var $s=As()?Ts:Ms;const Ps=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")};var js={exports:{}},Is={exports:{}};!function(t){var e=function(){function t(e,r,s,n){"object"==typeof r&&(s=r.depth,n=r.prototype,r.filter,r=r.circular);var o=[],a=[],h="undefined"!=typeof Buffer;return void 0===r&&(r=!0),void 0===s&&(s=1/0),function e(s,l){if(null===s)return null;if(0==l)return s;var c,u;if("object"!=typeof s)return s;if(t.__isArray(s))c=[];else if(t.__isRegExp(s))c=new RegExp(s.source,i(s)),s.lastIndex&&(c.lastIndex=s.lastIndex);else if(t.__isDate(s))c=new Date(s.getTime());else{if(h&&Buffer.isBuffer(s))return c=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(c),c;void 0===n?(u=Object.getPrototypeOf(s),c=Object.create(u)):(c=Object.create(n),u=n)}if(r){var d=o.indexOf(s);if(-1!=d)return a[d];o.push(s),a.push(c)}for(var p in s){var f;u&&(f=Object.getOwnPropertyDescriptor(u,p)),f&&null==f.set||(c[p]=e(s[p],l-1))}return c}(e,s)}function e(t){return Object.prototype.toString.call(t)}function i(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=i,t}();t.exports&&(t.exports=e)}(Is);var Ds=Is.exports,Fs=function(t,e){return t=t||{},Object.keys(e).forEach((function(i){void 0===t[i]&&(t[i]=Ds(e[i]))})),t},Rs=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],Ns={nul:0,control:0};function Hs(t,e){if("string"!=typeof t)return Vs(t,e);for(var i=0,r=0;r<t.length;r++){var s=Vs(t.charCodeAt(r),e);if(s<0)return-1;i+=s}return i}function Vs(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,i=0,r=Rs.length-1;if(t<Rs[0][0]||t>Rs[r][1])return!1;for(;r>=i;)if(e=Math.floor((i+r)/2),t>Rs[e][1])i=e+1;else{if(!(t<Rs[e][0]))return!0;r=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}js.exports=function(t){return Hs(t,Ns)},js.exports.config=function(t){return t=Fs(t||{},Ns),function(e){return Hs(e,t)}};var Ls=js.exports,Bs=l,Ys=Us;function Us(t){Bs.apply(this),t=t||{},this.writable=this.readable=!0,this.muted=!1,this.on("pipe",this._onpipe),this.replace=t.replace,this._prompt=t.prompt||null,this._hadControl=!1}function qs(t){return function(){var e=this._dest,i=this._src;e&&e[t]&&e[t].apply(e,arguments),i&&i[t]&&i[t].apply(i,arguments)}}Us.prototype=Object.create(Bs.prototype),Object.defineProperty(Us.prototype,"constructor",{value:Us,enumerable:!1}),Us.prototype.mute=function(){this.muted=!0},Us.prototype.unmute=function(){this.muted=!1},Object.defineProperty(Us.prototype,"_onpipe",{value:function(t){this._src=t},enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(Us.prototype,"isTTY",{get:function(){return this._dest?this._dest.isTTY:!!this._src&&this._src.isTTY},set:function(t){Object.defineProperty(this,"isTTY",{value:t,enumerable:!0,writable:!0,configurable:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(Us.prototype,"rows",{get:function(){return this._dest?this._dest.rows:this._src?this._src.rows:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(Us.prototype,"columns",{get:function(){return this._dest?this._dest.columns:this._src?this._src.columns:void 0},enumerable:!0,configurable:!0}),Us.prototype.pipe=function(t,e){return this._dest=t,Bs.prototype.pipe.call(this,t,e)},Us.prototype.pause=function(){if(this._src)return this._src.pause()},Us.prototype.resume=function(){if(this._src)return this._src.resume()},Us.prototype.write=function(t){if(this.muted){if(!this.replace)return!0;if(t.match(/^\u001b/))return 0===t.indexOf(this._prompt)&&(t=(t=t.substr(this._prompt.length)).replace(/./g,this.replace),t=this._prompt+t),this._hadControl=!0,this.emit("data",t);this._prompt&&this._hadControl&&0===t.indexOf(this._prompt)&&(this._hadControl=!1,this.emit("data",this._prompt),t=t.substr(this._prompt.length)),t=t.toString().replace(/./g,this.replace)}this.emit("data",t)},Us.prototype.end=function(t){this.muted&&(t=t&&this.replace?t.toString().replace(/./g,this.replace):null),t&&this.emit("data",t),this.emit("end")},Us.prototype.destroy=qs("destroy"),Us.prototype.destroySoon=qs("destroySoon"),Us.prototype.close=qs("close");const Gs=a,Ws=qt,Js=Wr,zs=Es,Ks=$s,Zs=t=>"string"==typeof t?t.replace(Ps(),""):t,Xs=Ls,Qs=({stream:t=process.stdout}={})=>Boolean(t&&t.isTTY&&"dumb"!==process.env.TERM&&!("CI"in process.env)),tn=Ys,en=Symbol("text"),rn=Symbol("prefixText");class sn{constructor(){this.requests=0,this.mutedStream=new tn,this.mutedStream.pipe(process.stdout),this.mutedStream.mute();const t=this;this.ourEmit=function(e,i,...r){const{stdin:s}=process;if(t.requests>0||s.emit===t.ourEmit){if("keypress"===e)return;"data"===e&&i.includes(3)&&process.emit("SIGINT"),Reflect.apply(t.oldEmit,this,[e,i,...r])}else Reflect.apply(process.stdin.emit,this,[e,i,...r])}}start(){this.requests++,1===this.requests&&this.realStart()}stop(){if(this.requests<=0)throw new Error("`stop` called more times than `start`");this.requests--,0===this.requests&&this.realStop()}realStart(){"win32"!==process.platform&&(this.rl=Gs.createInterface({input:process.stdin,output:this.mutedStream}),this.rl.on("SIGINT",(()=>{0===process.listenerCount("SIGINT")?process.emit("SIGINT"):(this.rl.close(),process.kill(process.pid,"SIGINT"))})))}realStop(){"win32"!==process.platform&&(this.rl.close(),this.rl=void 0)}}let nn;class on{constructor(t){nn||(nn=new sn),"string"==typeof t&&(t={text:t}),this.options={text:"",color:"cyan",stream:process.stderr,discardStdin:!0,...t},this.spinner=this.options.spinner,this.color=this.options.color,this.hideCursor=!1!==this.options.hideCursor,this.interval=this.options.interval||this.spinner.interval||100,this.stream=this.options.stream,this.id=void 0,this.isEnabled="boolean"==typeof this.options.isEnabled?this.options.isEnabled:Qs({stream:this.stream}),this.isSilent="boolean"==typeof this.options.isSilent&&this.options.isSilent,this.text=this.options.text,this.prefixText=this.options.prefixText,this.linesToClear=0,this.indent=this.options.indent,this.discardStdin=this.options.discardStdin,this.isDiscardingStdin=!1}get indent(){return this._indent}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");this._indent=t}_updateInterval(t){void 0!==t&&(this.interval=t)}get spinner(){return this._spinner}set spinner(t){if(this.frameIndex=0,"object"==typeof t){if(void 0===t.frames)throw new Error("The given spinner must have a `frames` property");this._spinner=t}else if("win32"===process.platform)this._spinner=zs.line;else if(void 0===t)this._spinner=zs.dots;else{if(!zs[t])throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/master/spinners.json for a full list.`);this._spinner=zs[t]}this._updateInterval(this._spinner.interval)}get text(){return this[en]}get prefixText(){return this[rn]}get isSpinning(){return void 0!==this.id}getFullPrefixText(t=this[rn],e=" "){return"string"==typeof t?t+e:"function"==typeof t?t()+e:""}updateLineCount(){const t=this.stream.columns||80,e=this.getFullPrefixText(this.prefixText,"-");this.lineCount=Zs(e+"--"+this[en]).split("\n").reduce(((e,i)=>e+Math.max(1,Math.ceil(Xs(i)/t))),0)}set text(t){this[en]=t,this.updateLineCount()}set prefixText(t){this[rn]=t,this.updateLineCount()}get isEnabled(){return this._isEnabled&&!this.isSilent}set isEnabled(t){if("boolean"!=typeof t)throw new TypeError("The `isEnabled` option must be a boolean");this._isEnabled=t}get isSilent(){return this._isSilent}set isSilent(t){if("boolean"!=typeof t)throw new TypeError("The `isSilent` option must be a boolean");this._isSilent=t}frame(){const{frames:t}=this.spinner;let e=t[this.frameIndex];this.color&&(e=Ws[this.color](e)),this.frameIndex=++this.frameIndex%t.length;return("string"==typeof this.prefixText&&""!==this.prefixText?this.prefixText+" ":"")+e+("string"==typeof this.text?" "+this.text:"")}clear(){if(!this.isEnabled||!this.stream.isTTY)return this;for(let t=0;t<this.linesToClear;t++)t>0&&this.stream.moveCursor(0,-1),this.stream.clearLine(),this.stream.cursorTo(this.indent);return this.linesToClear=0,this}render(){return this.isSilent||(this.clear(),this.stream.write(this.frame()),this.linesToClear=this.lineCount),this}start(t){return t&&(this.text=t),this.isSilent?this:this.isEnabled?(this.isSpinning||(this.hideCursor&&Js.hide(this.stream),this.discardStdin&&process.stdin.isTTY&&(this.isDiscardingStdin=!0,nn.start()),this.render(),this.id=setInterval(this.render.bind(this),this.interval)),this):(this.text&&this.stream.write(`- ${this.text}\n`),this)}stop(){return this.isEnabled?(clearInterval(this.id),this.id=void 0,this.frameIndex=0,this.clear(),this.hideCursor&&Js.show(this.stream),this.discardStdin&&process.stdin.isTTY&&this.isDiscardingStdin&&(nn.stop(),this.isDiscardingStdin=!1),this):this}succeed(t){return this.stopAndPersist({symbol:Ks.success,text:t})}fail(t){return this.stopAndPersist({symbol:Ks.error,text:t})}warn(t){return this.stopAndPersist({symbol:Ks.warning,text:t})}info(t){return this.stopAndPersist({symbol:Ks.info,text:t})}stopAndPersist(t={}){if(this.isSilent)return this;const e=t.prefixText||this.prefixText,i=t.text||this.text,r="string"==typeof i?" "+i:"";return this.stop(),this.stream.write(`${this.getFullPrefixText(e," ")}${t.symbol||" "}${r}\n`),this}}Gr.exports=function(t){return new on(t)},Gr.exports.promise=(t,e)=>{if("function"!=typeof t.then)throw new TypeError("Parameter `action` must be a Promise");const i=new on(e);return i.start(),(async()=>{try{await t,i.succeed()}catch(t){i.fail()}})(),i};var an=p(Gr.exports);const hn={info:Gt.blue("ℹ"),success:Gt.green("✔"),warning:Gt.yellow("⚠"),error:Gt.red("✖"),star:Gt.cyan("✵"),arrow:Gt.yellow("➦")},ln={info:Gt.blue("i"),success:Gt.green("√"),warning:Gt.yellow("‼"),error:Gt.red("×"),star:Gt.cyan("*"),arrow:Gt.yellow("->")},cn=("win32"!==process.platform?"linux"!==process.env.TERM:Boolean(process.env.CI)||Boolean(process.env.WT_SESSION)||Boolean(process.env.TERMINUS_SUBLIME)||"{cmd::Cmder}"===process.env.ConEmuTask||"Terminus-Sublime"===process.env.TERM_PROGRAM||"vscode"===process.env.TERM_PROGRAM||"xterm-256color"===process.env.TERM||"alacritty"===process.env.TERM||"JetBrains-JediTerm"===process.env.TERMINAL_EMULATOR)?hn:ln,un=t=>t&&"object"==typeof t,dn=(t,e)=>{for(const s of Object.keys(e)){const n=t[s],o=e[s];Array.isArray(n)&&Array.isArray(o)?t[s]=(i=n,r=o,Array.from(new Set([...i,...r]))):un(n)&&un(o)?t[s]=dn(n,o):t[s]=o}var i,r;return t},pn=t=>{const e=i.join(t,"package-lock.json"),r=i.join(t,"pnpm-lock.yaml"),s=i.join(t,"yarn.lock"),n=qr.existsSync(e),o=qr.existsSync(r),a=qr.existsSync(s);return n&&o&&!a?"pnpm install":n&&!o&&a?"yarn":!n&&o&&a?"pnpm install":!n||o||a?n||!o||a?n||o||!a?"npm install":"yarn":"pnpm install":"npm install"};var fn,mn,gn,vn,yn,bn,wn,_n,Sn,xn,On,Cn,En,kn,An,Tn,Mn,$n,Pn,jn,In,Dn,Fn,Rn,Nn,Hn,Vn,Ln,Bn,Yn,Un,qn,Gn,Wn,Jn,zn,Kn,Zn,Xn,Qn,to,eo,io,ro,so,no,oo,ao,ho,lo,co,uo,po,fo,mo,go,vo,yo,bo,wo,_o,So,xo,Oo,Co,Eo,ko,Ao={};function To(){if(mn)return fn;mn=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,TERM:i}=process.env,r={enabled:!e&&"dumb"!==i&&"0"!==t,reset:n(0,0),bold:n(1,22),dim:n(2,22),italic:n(3,23),underline:n(4,24),inverse:n(7,27),hidden:n(8,28),strikethrough:n(9,29),black:n(30,39),red:n(31,39),green:n(32,39),yellow:n(33,39),blue:n(34,39),magenta:n(35,39),cyan:n(36,39),white:n(37,39),gray:n(90,39),grey:n(90,39),bgBlack:n(40,49),bgRed:n(41,49),bgGreen:n(42,49),bgYellow:n(43,49),bgBlue:n(44,49),bgMagenta:n(45,49),bgCyan:n(46,49),bgWhite:n(47,49)};function s(t,e){let i,r=0,s="",n="";for(;r<t.length;r++)i=t[r],s+=i.open,n+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return s+e+n}function n(t,e){let i={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(i)),void 0===e?this:r.enabled?s(this.keys,e+""):e+""):void 0===e?function(t,e){let i={has:t,keys:e};return i.reset=r.reset.bind(i),i.bold=r.bold.bind(i),i.dim=r.dim.bind(i),i.italic=r.italic.bind(i),i.underline=r.underline.bind(i),i.inverse=r.inverse.bind(i),i.hidden=r.hidden.bind(i),i.strikethrough=r.strikethrough.bind(i),i.black=r.black.bind(i),i.red=r.red.bind(i),i.green=r.green.bind(i),i.yellow=r.yellow.bind(i),i.blue=r.blue.bind(i),i.magenta=r.magenta.bind(i),i.cyan=r.cyan.bind(i),i.white=r.white.bind(i),i.gray=r.gray.bind(i),i.grey=r.grey.bind(i),i.bgBlack=r.bgBlack.bind(i),i.bgRed=r.bgRed.bind(i),i.bgGreen=r.bgGreen.bind(i),i.bgYellow=r.bgYellow.bind(i),i.bgBlue=r.bgBlue.bind(i),i.bgMagenta=r.bgMagenta.bind(i),i.bgCyan=r.bgCyan.bind(i),i.bgWhite=r.bgWhite.bind(i),i}([t],[i]):r.enabled?s([i],e+""):e+""}}return fn=r}function Mo(){return bn?yn:(bn=1,yn=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t})}function $o(){if(_n)return wn;_n=1;const t="[",e={to:(e,i)=>i?`${t}${i+1};${e+1}H`:`${t}${e+1}G`,move(e,i){let r="";return e<0?r+=`${t}${-e}D`:e>0&&(r+=`${t}${e}C`),i<0?r+=`${t}${-i}A`:i>0&&(r+=`${t}${i}B`),r},up:(e=1)=>`${t}${e}A`,down:(e=1)=>`${t}${e}B`,forward:(e=1)=>`${t}${e}C`,backward:(e=1)=>`${t}${e}D`,nextLine:(e=1)=>`${t}E`.repeat(e),prevLine:(e=1)=>`${t}F`.repeat(e),left:`${t}G`,hide:`${t}?25l`,show:`${t}?25h`,save:"7",restore:"8"},i={screen:`${t}2J`,up:(e=1)=>`${t}1J`.repeat(e),down:(e=1)=>`${t}J`.repeat(e),line:`${t}2K`,lineEnd:`${t}K`,lineStart:`${t}1K`,lines(t){let i="";for(let r=0;r<t;r++)i+=this.line+(r<t-1?e.up():"");return t&&(i+=e.left),i}};return wn={cursor:e,scroll:{up:(e=1)=>`${t}S`.repeat(e),down:(e=1)=>`${t}T`.repeat(e)},erase:i,beep:""}}function Po(){if(xn)return Sn;xn=1;const t=Mo(),{erase:e,cursor:i}=$o();return Sn=function(r,s){if(!s)return e.line+i.to(0);let n=0;const o=r.split(/\r?\n/);for(let e of o)n+=1+Math.floor(Math.max([...t(e)].length-1,0)/s);return e.lines(n)},Sn}function jo(){if(Cn)return On;Cn=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?e:t;return On=i}function Io(){if(kn)return En;kn=1;const t=To(),e=jo(),i=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),r=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return En={styles:i,render:t=>i[t]||i.default,symbols:r,symbol:(t,e,i)=>e?r.aborted:i?r.exited:t?r.done:r.default,delimiter:i=>t.gray(i?e.ellipsis:e.pointerSmall),item:(i,r)=>t.gray(i?r?e.pointerSmall:"+":e.line)}}function Do(){if(Tn)return An;Tn=1;const t=Mo();return An=function(e,i){let r=String(t(e)||"").split(/\r?\n/);return i?r.map((t=>Math.ceil(t.length/i))).reduce(((t,e)=>t+e)):r.length},An}function Fo(){return Dn||(Dn=1,In={action:vn?gn:(vn=1,gn=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:Po(),style:Io(),strip:Mo(),figures:jo(),lines:Do(),wrap:($n||($n=1,Mn=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=r||t[t.length-1].length+e.length+1<r?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")}),Mn),entriesToDisplay:jn?Pn:(jn=1,Pn=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));return r<0&&(r=0),{startIndex:r,endIndex:Math.min(r+i,e)}})}),In}function Ro(){if(Rn)return Fn;Rn=1;const e=a,{action:i}=Fo(),r=t,{beep:s,cursor:n}=$o(),o=To();return Fn=class extends r{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const r=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(t,e)=>{let r=i(e,s);!1===r?this._&&this._(t,e):"function"==typeof this[r]?this[r](e):this.bell()};this.close=()=>{this.out.write(n.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(s)}render(){this.onRender(o),this.firstRender&&(this.firstRender=!1)}}}function No(){if(Hn)return Nn;Hn=1;const t=To(),e=Ro(),{erase:i,cursor:r}=$o(),{style:s,clear:n,lines:o,figures:a}=Fo();return Nn=class extends e{constructor(t={}){super(t),this.transform=s.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=n("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(o(this.outputError,this.out.columns)-1)+n(this.outputError,this.out.columns)),this.out.write(n(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,i,r)=>e+`\n${r?" ":a.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(i.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore+r.move(this.cursorOffset,0)))}}}function Ho(){if(Ln)return Vn;Ln=1;const t=To(),e=Ro(),{style:i,clear:r,figures:s,wrap:n,entriesToDisplay:o}=Fo(),{cursor:a}=$o();return Vn=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=r("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(a.hide):this.out.write(r(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:h}=o(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let i=e;i<h;i++){let r,o,a="",l=this.choices[i];o=i===e&&e>0?s.arrowUp:i===h-1&&h<this.choices.length?s.arrowDown:" ",l.disabled?(r=this.cursor===i?t.gray().underline(l.title):t.strikethrough().gray(l.title),o=(this.cursor===i?t.bold().gray(s.pointer)+" ":"  ")+o):(r=this.cursor===i?t.cyan().underline(l.title):l.title,o=(this.cursor===i?t.cyan(s.pointer)+" ":"  ")+o,l.description&&this.cursor===i&&(a=` - ${l.description}`,(o.length+r.length+a.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(a="\n"+n(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${r}${t.gray(a)}\n`}}this.out.write(this.outputText)}}}function Vo(){if(Yn)return Bn;Yn=1;const t=To(),e=Ro(),{style:i,clear:r}=Fo(),{cursor:s,erase:n}=$o();return Bn=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(n.line+s.to(0)+this.outputText))}}}function Lo(){if(qn)return Un;qn=1;class t{constructor({token:t,date:e,parts:i,locales:r}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((i,r)=>r>e&&i instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const i=e.indexOf(this);return e.find(((e,r)=>r>i&&e instanceof t))}toString(){return String(this.date)}}return Un=t}function Bo(){if(Wn)return Gn;Wn=1;const t=Lo();return Gn=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}},Gn}function Yo(){if(zn)return Jn;zn=1;const t=Lo();return Jn=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}},Jn}function Uo(){if(Zn)return Kn;Zn=1;const t=Lo();return Kn=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}},Kn}function qo(){if(Qn)return Xn;Qn=1;const t=Lo();return Xn=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function Go(){if(eo)return to;eo=1;const t=Lo();return to=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Wo(){if(ro)return io;ro=1;const t=Lo();return io=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}},io}function Jo(){if(no)return so;no=1;const t=Lo();return so=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function zo(){if(ao)return oo;ao=1;const t=Lo();return oo=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}},oo}function Ko(){if(uo)return co;uo=1;const t=To(),e=Ro(),{style:i,clear:r,figures:s}=Fo(),{erase:n,cursor:o}=$o(),{DatePart:a,Meridiem:h,Day:l,Hours:c,Milliseconds:u,Minutes:d,Month:p,Seconds:f,Year:m}=lo?ho:(lo=1,ho={DatePart:Lo(),Meridiem:Bo(),Day:Yo(),Hours:Uo(),Milliseconds:qo(),Minutes:Go(),Month:Wo(),Seconds:Jo(),Year:zo()}),g=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,v={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new l(t),3:t=>new p(t),4:t=>new m(t),5:t=>new h(t),6:t=>new c(t),7:t=>new d(t),8:t=>new f(t),9:t=>new u(t)},y={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return co=class extends e{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(y,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=r("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=g.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in v?v[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof a))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof a))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.parts.reduce(((e,i,r)=>e.concat(r!==this.cursor||this.done?i:t.cyan().underline(i.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((e,i,r)=>e+`\n${r?" ":s.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(n.line+o.to(0)+this.outputText))}},co}function Zo(){if(fo)return po;fo=1;const t=To(),e=Ro(),{cursor:i,erase:r}=$o(),{style:s,figures:n,clear:o,lines:a}=Fo(),h=/[0-9]/,l=t=>void 0!==t,c=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};return po=class extends e{constructor(t={}){super(t),this.transform=s.render(t.style),this.msg=t.message,this.initial=l(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=l(t.min)?t.min:-1/0,this.max=l(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${c(e,this.round)}`),this._value=c(e,this.round)):(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||h.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(a(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:t[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,i,r)=>e+`\n${r?" ":n.pointerSmall} ${t.red().italic(i)}`),"")),this.out.write(r.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore))}}}function Xo(){if(go)return mo;go=1;const t=To(),{cursor:e}=$o(),i=Ro(),{clear:r,figures:s,style:n,wrap:o,entriesToDisplay:a}=Fo();return mo=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=r("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${s.arrowUp}/${s.arrowDown}: Highlight option\n    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,i,r,n){const a=(i.selected?t.green(s.radioOn):s.radioOff)+" "+n+" ";let h,l;return i.disabled?h=e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):(h=e===r?t.cyan().underline(i.title):i.title,e===r&&i.description&&(l=` - ${i.description}`,(a.length+h.length+l.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(l="\n"+o(i.description,{margin:a.length,width:this.out.columns})))),a+h+t.gray(l||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let i,{startIndex:r,endIndex:n}=a(this.cursor,e.length,this.optionsPerPage),o=[];for(let t=r;t<n;t++)i=t===r&&r>0?s.arrowUp:t===n-1&&n<e.length?s.arrowDown:" ",o.push(this.renderOption(this.cursor,e[t],t,i));return"\n"+o.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=r(i,this.out.columns)}},mo}function Qo(){if(yo)return vo;yo=1;const t=To(),e=Ro(),{erase:i,cursor:r}=$o(),{style:s,clear:n,figures:o,wrap:a,entriesToDisplay:h}=Fo(),l=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),c=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return vo=class extends e{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=s.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=n("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=l(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),i=await e;if(this.completing!==e)return;this.suggestions=i.map(((t,e,i)=>({title:c(i,e),value:l(i,e),description:t.description}))),this.completing=!1;const r=Math.max(i.length-1,0);this.moveSelect(Math.min(r,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${t}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,i,r,s){let n,h=r?o.arrowUp:s?o.arrowDown:" ",l=i?t.cyan().underline(e.title):e.title;return h=(i?t.cyan(o.pointer)+" ":"  ")+h,e.description&&(n=` - ${e.description}`,(h.length+l.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n="\n"+a(e.description,{margin:3,width:this.out.columns}))),h+" "+l+t.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(r.hide):this.out.write(n(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:o}=h(this.select,this.choices.length,this.limit);if(this.outputText=[s.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),s.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const i=this.suggestions.slice(e,o).map(((t,i)=>this.renderOption(t,this.select===i+e,0===i&&e>0,i+e===o-1&&o<this.choices.length))).join("\n");this.outputText+="\n"+(i||t.gray(this.fallback.title))}this.out.write(i.line+r.to(0)+this.outputText)}}}function ta(){if(wo)return bo;wo=1;const t=To(),{cursor:e}=$o(),i=Xo(),{clear:r,style:s,figures:n}=Fo();return bo=class extends i{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=r("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,i,r){let s;return s=i.disabled?e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):e===r?t.cyan().underline(i.title):i.title,(i.selected?t.green(n.radioOn):n.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=r(i,this.out.columns)}},bo}function ea(){if(So)return _o;So=1;const t=To(),e=Ro(),{style:i,clear:r}=Fo(),{erase:s,cursor:n}=$o();return _o=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(s.line+n.to(0)+this.outputText))}}}function ia(){return Co||(Co=1,function(t){const e=Ao,i=Oo?xo:(Oo=1,xo={TextPrompt:No(),SelectPrompt:Ho(),TogglePrompt:Vo(),DatePrompt:Ko(),NumberPrompt:Zo(),MultiselectPrompt:Xo(),AutocompletePrompt:Qo(),AutocompleteMultiselectPrompt:ta(),ConfirmPrompt:ea()}),r=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const a=new i[t](e),h=s.onAbort||r,l=s.onSubmit||r,c=s.onExit||r;a.on("state",e.onState||r),a.on("submit",(t=>n(l(t)))),a.on("exit",(t=>n(c(t)))),a.on("abort",(t=>o(h(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}()),Ao}var ra,sa,na,oa,aa,ha,la,ca,ua,da,pa,fa,ma,ga,va,ya,ba,wa,_a,Sa,xa,Oa,Ca,Ea,ka,Aa,Ta,Ma,$a,Pa,ja,Ia,Da,Fa,Ra,Na,Ha,Va,La,Ba,Ya,Ua,qa,Ga,Wa,Ja,za,Ka,Za,Xa,Qa,th,eh,ih,rh,sh,nh,oh,ah,hh,lh,ch,uh,dh={};function ph(){return oa?na:(oa=1,na=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),i=new RegExp(e,"g");return"string"==typeof t?t.replace(i,""):t})}function fh(){if(ha)return aa;function t(t,i){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,i)}(t))||i&&t&&"number"==typeof t.length){r&&(t=r);var s=0,n=function(){};return{s:n,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,h=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){h=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(h)throw o}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}ha=1;const i=ph(),r=$o(),s=r.erase,n=r.cursor;return aa=function(e,r){if(!r)return s.line+n.to(0);let o=0;var a,h=t(e.split(/\r?\n/));try{for(h.s();!(a=h.n()).done;){let t=a.value;o+=1+Math.floor(Math.max([...i(t)].length-1,0)/r)}}catch(t){h.e(t)}finally{h.f()}return s.lines(o)},aa}function mh(){if(ca)return la;ca=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},i="win32"===process.platform?e:t;return la=i}function gh(){if(da)return ua;da=1;const t=To(),e=mh(),i=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),r=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return ua={styles:i,render:t=>i[t]||i.default,symbols:r,symbol:(t,e,i)=>e?r.aborted:i?r.exited:t?r.done:r.default,delimiter:i=>t.gray(i?e.ellipsis:e.pointerSmall),item:(i,r)=>t.gray(i?r?e.pointerSmall:"+":e.line)}}function vh(){if(fa)return pa;fa=1;const t=ph();return pa=function(e,i){let r=String(t(e)||"").split(/\r?\n/);return i?r.map((t=>Math.ceil(t.length/i))).reduce(((t,e)=>t+e)):r.length}}function yh(){return wa||(wa=1,ba={action:sa?ra:(sa=1,ra=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:fh(),style:gh(),strip:ph(),figures:mh(),lines:vh(),wrap:(ga||(ga=1,ma=(t,e={})=>{const i=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",r=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+i.length>=r||t[t.length-1].length+e.length+1<r?t[t.length-1]+=` ${e}`:t.push(`${i}${e}`),t)),[i]).join("\n"))).join("\n")}),ma),entriesToDisplay:ya?va:(ya=1,va=(t,e,i)=>{i=i||e;let r=Math.min(e-i,t-Math.floor(i/2));return r<0&&(r=0),{startIndex:r,endIndex:Math.min(r+i,e)}})}),ba}function bh(){if(Sa)return _a;Sa=1;const e=a,i=yh().action,r=t,s=$o(),n=s.beep,o=s.cursor,h=To();return _a=class extends r{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const r=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,r),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(t,e)=>{let r=i(e,s);!1===r?this._&&this._(t,e):"function"==typeof this[r]?this[r](e):this.bell()};this.close=()=>{this.out.write(o.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),r.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(n)}render(){this.onRender(h),this.firstRender&&(this.firstRender=!1)}}}function wh(){if(Oa)return xa;function t(t,e,i,r,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(r,s)}function e(e){return function(){var i=this,r=arguments;return new Promise((function(s,n){var o=e.apply(i,r);function a(e){t(o,s,n,a,h,"next",e)}function h(e){t(o,s,n,a,h,"throw",e)}a(void 0)}))}}Oa=1;const i=To(),r=bh(),s=$o(),n=s.erase,o=s.cursor,a=yh(),h=a.style,l=a.clear,c=a.lines,u=a.figures;return xa=class extends r{constructor(t={}){super(t),this.transform=h.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=l("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=i.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${t}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(c(this.outputError,this.out.columns)-1)+l(this.outputError,this.out.columns)),this.out.write(l(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),i.bold(this.msg),h.delimiter(this.done),this.red?i.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":u.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(n.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore+o.move(this.cursorOffset,0)))}}}function _h(){if(Ea)return Ca;Ea=1;const t=To(),e=bh(),i=yh(),r=i.style,s=i.clear,n=i.figures,o=i.wrap,a=i.entriesToDisplay,h=$o().cursor;return Ca=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=s("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(h.hide):this.out.write(s(this.outputText,this.out.columns)),super.render();let e=a(this.cursor,this.choices.length,this.optionsPerPage),i=e.startIndex,l=e.endIndex;if(this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let e=i;e<l;e++){let r,s,a="",h=this.choices[e];s=e===i&&i>0?n.arrowUp:e===l-1&&l<this.choices.length?n.arrowDown:" ",h.disabled?(r=this.cursor===e?t.gray().underline(h.title):t.strikethrough().gray(h.title),s=(this.cursor===e?t.bold().gray(n.pointer)+" ":"  ")+s):(r=this.cursor===e?t.cyan().underline(h.title):h.title,s=(this.cursor===e?t.cyan(n.pointer)+" ":"  ")+s,h.description&&this.cursor===e&&(a=` - ${h.description}`,(s.length+r.length+a.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(a="\n"+o(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${s} ${r}${t.gray(a)}\n`}}this.out.write(this.outputText)}}}function Sh(){if(Aa)return ka;Aa=1;const t=To(),e=bh(),i=yh(),r=i.style,s=i.clear,n=$o(),o=n.cursor,a=n.erase;return ka=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(a.line+o.to(0)+this.outputText))}}}function xh(){if(Ma)return Ta;Ma=1;class t{constructor({token:t,date:e,parts:i,locales:r}){this.token=t,this.date=e||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((i,r)=>r>e&&i instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const i=e.indexOf(this);return e.find(((e,r)=>r>i&&e instanceof t))}toString(){return String(this.date)}}return Ta=t}function Oh(){if(Pa)return $a;Pa=1;const t=xh();return $a=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}}function Ch(){if(Ia)return ja;Ia=1;const t=xh();return ja=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(i=t,1==(i%=10)?"st":2===i?"nd":3===i?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var i}},ja}function Eh(){if(Fa)return Da;Fa=1;const t=xh();return Da=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}}function kh(){if(Na)return Ra;Na=1;const t=xh();return Ra=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function Ah(){if(Va)return Ha;Va=1;const t=xh();return Ha=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Th(){if(Ba)return La;Ba=1;const t=xh();return La=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}}}function Mh(){if(Ua)return Ya;Ua=1;const t=xh();return Ya=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function $h(){if(Ga)return qa;Ga=1;const t=xh();return qa=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}}function Ph(){if(Ka)return za;function t(t,e,i,r,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(r,s)}function e(e){return function(){var i=this,r=arguments;return new Promise((function(s,n){var o=e.apply(i,r);function a(e){t(o,s,n,a,h,"next",e)}function h(e){t(o,s,n,a,h,"throw",e)}a(void 0)}))}}Ka=1;const i=To(),r=bh(),s=yh(),n=s.style,o=s.clear,a=s.figures,h=$o(),l=h.erase,c=h.cursor,u=Ja?Wa:(Ja=1,Wa={DatePart:xh(),Meridiem:Oh(),Day:Ch(),Hours:Eh(),Milliseconds:kh(),Minutes:Ah(),Month:Th(),Seconds:Mh(),Year:$h()}),d=u.DatePart,p=u.Meridiem,f=u.Day,m=u.Hours,g=u.Milliseconds,v=u.Minutes,y=u.Month,b=u.Seconds,w=u.Year,_=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new f(t),3:t=>new y(t),4:t=>new w(t),5:t=>new p(t),6:t=>new m(t),7:t=>new v(t),8:t=>new b(t),9:t=>new g(t)},x={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return za=class extends r{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(x,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=o("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=_.exec(t);){let t=e.shift(),i=e.findIndex((t=>null!=t));this.parts.push(i in S?S[i]({token:e[i]||t,date:this.date,parts:this.parts,locales:this.locales}):e[i]||t)}let i=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof d))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof d))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(c.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),i.bold(this.msg),n.delimiter(!1),this.parts.reduce(((t,e,r)=>t.concat(r!==this.cursor||this.done?e:i.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":a.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(l.line+c.to(0)+this.outputText))}}}function jh(){if(Xa)return Za;function t(t,e,i,r,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(r,s)}function e(e){return function(){var i=this,r=arguments;return new Promise((function(s,n){var o=e.apply(i,r);function a(e){t(o,s,n,a,h,"next",e)}function h(e){t(o,s,n,a,h,"throw",e)}a(void 0)}))}}Xa=1;const i=To(),r=bh(),s=$o(),n=s.cursor,o=s.erase,a=yh(),h=a.style,l=a.figures,c=a.clear,u=a.lines,d=/[0-9]/,p=t=>void 0!==t,f=(t,e)=>{let i=Math.pow(10,e);return Math.round(t*i)/i};return Za=class extends r{constructor(t={}){super(t),this.transform=h.render(t.style),this.msg=t.message,this.initial=p(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=p(t.min)?t.min:-1/0,this.max=p(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${f(t,this.round)}`),this._value=f(t,this.round)):(this.placeholder=!0,this.rendered=i.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||d.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=i,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(n.down(u(this.outputError,this.out.columns)-1)+c(this.outputError,this.out.columns)),this.out.write(c(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),i.bold(this.msg),h.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:i[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,r)=>t+`\n${r?" ":l.pointerSmall} ${i.red().italic(e)}`),"")),this.out.write(o.line+n.to(0)+this.outputText+n.save+this.outputError+n.restore))}}}function Ih(){if(th)return Qa;th=1;const t=To(),e=$o().cursor,i=bh(),r=yh(),s=r.clear,n=r.figures,o=r.style,a=r.wrap,h=r.entriesToDisplay;return Qa=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=s("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,i,r,s){const o=(i.selected?t.green(n.radioOn):n.radioOff)+" "+s+" ";let h,l;return i.disabled?h=e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):(h=e===r?t.cyan().underline(i.title):i.title,e===r&&i.description&&(l=` - ${i.description}`,(o.length+h.length+l.length>=this.out.columns||i.description.split(/\r?\n/).length>1)&&(l="\n"+a(i.description,{margin:o.length,width:this.out.columns})))),o+h+t.gray(l||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let i,r=h(this.cursor,e.length,this.optionsPerPage),s=r.startIndex,o=r.endIndex,a=[];for(let t=s;t<o;t++)i=t===s&&s>0?n.arrowUp:t===o-1&&o<e.length?n.arrowDown:" ",a.push(this.renderOption(this.cursor,e[t],t,i));return"\n"+a.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[o.symbol(this.done,this.aborted),t.bold(this.msg),o.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=s(i,this.out.columns)}},Qa}function Dh(){if(ih)return eh;function t(t,e,i,r,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(r,s)}ih=1;const e=To(),i=bh(),r=$o(),s=r.erase,n=r.cursor,o=yh(),a=o.style,h=o.clear,l=o.figures,c=o.wrap,u=o.entriesToDisplay,d=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),p=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return eh=class extends i{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const i=t.findIndex((t=>t.value===e||t.title===e));return i>-1?i:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=a.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=h("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=d(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(e){var i,r=this;return(i=function*(){const t=r.completing=r.suggest(r.input,r.choices),i=yield t;if(r.completing!==t)return;r.suggestions=i.map(((t,e,i)=>({title:p(i,e),value:d(i,e),description:t.description}))),r.completing=!1;const s=Math.max(i.length-1,0);r.moveSelect(Math.min(s,r.select)),e&&e()},function(){var e=this,r=arguments;return new Promise((function(s,n){var o=i.apply(e,r);function a(e){t(o,s,n,a,h,"next",e)}function h(e){t(o,s,n,a,h,"throw",e)}a(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${t}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,i,r,s){let n,o=r?l.arrowUp:s?l.arrowDown:" ",a=i?e.cyan().underline(t.title):t.title;return o=(i?e.cyan(l.pointer)+" ":"  ")+o,t.description&&(n=` - ${t.description}`,(o.length+a.length+n.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(n="\n"+c(t.description,{margin:3,width:this.out.columns}))),o+" "+a+e.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(n.hide):this.out.write(h(this.outputText,this.out.columns)),super.render();let t=u(this.select,this.choices.length,this.limit),i=t.startIndex,r=t.endIndex;if(this.outputText=[a.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(i,r).map(((t,e)=>this.renderOption(t,this.select===e+i,0===e&&i>0,e+i===r-1&&r<this.choices.length))).join("\n");this.outputText+="\n"+(t||e.gray(this.fallback.title))}this.out.write(s.line+n.to(0)+this.outputText)}},eh}function Fh(){if(sh)return rh;sh=1;const t=To(),e=$o().cursor,i=Ih(),r=yh(),s=r.clear,n=r.style,o=r.figures;return rh=class extends i{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=s("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${o.arrowUp}/${o.arrowDown}: Highlight option\n    ${o.arrowLeft}/${o.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,i,r){let s;return s=i.disabled?e===r?t.gray().underline(i.title):t.strikethrough().gray(i.title):e===r?t.cyan().underline(i.title):i.title,(i.selected?t.green(o.radioOn):o.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let i=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=s(i,this.out.columns)}},rh}function Rh(){if(oh)return nh;oh=1;const t=To(),e=bh(),i=yh(),r=i.style,s=i.clear,n=$o(),o=n.erase,a=n.cursor;return nh=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(a.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(o.line+a.to(0)+this.outputText))}}}function Nh(){return lh||(lh=1,function(t){const e=dh,i=hh?ah:(hh=1,ah={TextPrompt:wh(),SelectPrompt:_h(),TogglePrompt:Sh(),DatePrompt:Ph(),NumberPrompt:jh(),MultiselectPrompt:Ih(),AutocompletePrompt:Dh(),AutocompleteMultiselectPrompt:Fh(),ConfirmPrompt:Rh()}),r=t=>t;function s(t,e,s={}){return new Promise(((n,o)=>{const a=new i[t](e),h=s.onAbort||r,l=s.onSubmit||r,c=s.onExit||r;a.on("state",e.onState||r),a.on("submit",(t=>n(l(t)))),a.on("exit",(t=>n(c(t)))),a.on("abort",(t=>o(h(t))))}))}e.text=t=>s("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>s("NumberPrompt",t),e.date=t=>s("DatePrompt",t),e.confirm=t=>s("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return s("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>s("TogglePrompt",t),e.select=t=>s("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return s("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),s("AutocompletePrompt",t))}()),dh}var Hh=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,i=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(i[e]>t[e])return!1;if(t[e]>i[e])return!0}return!1}("8.6.0")?function(){if(uh)return ch;function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function e(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?t(Object(s),!0).forEach((function(t){i(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,h=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){h=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(h)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function n(t,e,i,r,s,n,o){try{var a=t[n](o),h=a.value}catch(t){return void i(t)}a.done?e(h):Promise.resolve(h).then(r,s)}function o(t){return function(){var e=this,i=arguments;return new Promise((function(r,s){var o=t.apply(e,i);function a(t){n(o,r,s,a,h,"next",t)}function h(t){n(o,r,s,a,h,"throw",t)}a(void 0)}))}}uh=1;const a=Nh(),h=["suggest","format","onState","validate","onRender","type"],l=()=>{};function c(){return u.apply(this,arguments)}function u(){return u=o((function*(t=[],{onSubmit:i=l,onCancel:s=l}={}){const n={},u=c._override||{};let p,f,m,g,v,y;t=[].concat(t);const b=function(){var t=o((function*(t,e,i=!1){if(i||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,n):e}));return function(e,i){return t.apply(this,arguments)}}();var w,_=r(t);try{for(_.s();!(w=_.n()).done;){f=w.value;var S=f;if(g=S.name,v=S.type,"function"==typeof v&&(v=yield v(p,e({},n),f),f.type=v),v){for(let t in f){if(h.includes(t))continue;let i=f[t];f[t]="function"==typeof i?yield i(p,e({},n),y):i}if(y=f,"string"!=typeof f.message)throw new Error("prompt message is required");var x=f;if(g=x.name,v=x.type,void 0===a[v])throw new Error(`prompt type (${v}) is not defined`);if(void 0===u[f.name]||(p=yield b(f,u[f.name]),void 0===p)){try{p=c._injected?d(c._injected,f.initial):yield a[v](f),n[g]=p=yield b(f,p,!0),m=yield i(f,p,n)}catch(t){m=!(yield s(f,n))}if(m)return n}else n[g]=p}}}catch(t){_.e(t)}finally{_.f()}return n})),u.apply(this,arguments)}function d(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}return ch=Object.assign(c,{prompt:c,prompts:a,inject:function(t){c._injected=(c._injected||[]).concat(t)},override:function(t){c._override=Object.assign({},t)}})}():function(){if(ko)return Eo;ko=1;const t=ia(),e=["suggest","format","onState","validate","onRender","type"],i=()=>{};async function r(n=[],{onSubmit:o=i,onCancel:a=i}={}){const h={},l=r._override||{};let c,u,d,p,f,m;n=[].concat(n);const g=async(t,e,i=!1)=>{if(i||!t.validate||!0===t.validate(e))return t.format?await t.format(e,h):e};for(u of n)if(({name:p,type:f}=u),"function"==typeof f&&(f=await f(c,{...h},u),u.type=f),f){for(let t in u){if(e.includes(t))continue;let i=u[t];u[t]="function"==typeof i?await i(c,{...h},m):i}if(m=u,"string"!=typeof u.message)throw new Error("prompt message is required");if(({name:p,type:f}=u),void 0===t[f])throw new Error(`prompt type (${f}) is not defined`);if(void 0===l[u.name]||(c=await g(u,l[u.name]),void 0===c)){try{c=r._injected?s(r._injected,u.initial):await t[f](u),h[p]=c=await g(u,c,!0),d=await o(u,c,h)}catch(t){d=!await a(u,h)}if(d)return h}else h[p]=c}return h}function s(t,e){const i=t.shift();if(i instanceof Error)throw i;return void 0===i?e:i}return Eo=Object.assign(r,{prompt:r,prompts:t,inject:function(t){r._injected=(r._injected||[]).concat(t)},override:function(t){r._override=Object.assign({},t)}})}(),Vh=p(Hh);const Lh=({templateDir:t,projectPath:e,projectName:s,callback:n})=>{if(r.statSync(t).isDirectory()){if("node_modules"===i.basename(t))return;r.mkdirSync(e,{recursive:!0});for(const o of r.readdirSync(t))Lh({templateDir:i.resolve(t,o),projectPath:i.resolve(e,o),projectName:s,callback:n});return}if("package.json"===i.basename(t)&&r.existsSync(e)){const i=JSON.parse(r.readFileSync(e,"utf8")),o=JSON.parse(r.readFileSync(t,"utf8")),a=(t=>{const e=["dependencies","devDependencies","peerDependencies","optionalDependencies"],i={};for(const r of e)t[r]&&(i[r]={},Object.keys(t[r]).sort().forEach((e=>{i[r][e]=t[r][e]})));return{...t,...i}})(dn(i,o));return a.name=s,a.version="0.0.0",n({pkg:a}),void r.writeFileSync(e,JSON.stringify(a,null,2)+"\n")}r.copyFileSync(t,e)},Bh=(t,e,i=null)=>{var r,s,n;console.log(cn.info,Gt.green(`cd ${t}`)),i&&console.log(cn.info,Gt.green(`执行 ${i} 下载依赖`)),(null===(r=null==e?void 0:e.scripts)||void 0===r?void 0:r.dev)?console.log(cn.info,Gt.green("运行 npm run dev 启动项目")):(null===(s=null==e?void 0:e.scripts)||void 0===s?void 0:s.start)?console.log(cn.info,Gt.green("运行 npm start 启动项目")):(null===(n=null==e?void 0:e.scripts)||void 0===n?void 0:n.serve)?console.log(cn.info,Gt.green("运行 npm run serve 启动项目")):console.log(cn.info,Gt.green("按 package.json 中配置 scripts 启动项目"))},Yh=async(t,s)=>{let n={},o=t,a=i.join(process.cwd(),o);try{n=await Vh([{name:"projectName",type:o?null:"text",message:"项目名称:",initial:o,onState:t=>o=String(t.value).trim()||"my-project"},{name:"needsOverwrite",type:()=>{return t=a,qr.existsSync(t)?"toggle":null;var t},message:"存在相同文件夹是否强制覆盖？",initial:!0,active:"no",inactive:"yes"},{name:"restoreProjectName",type:t=>t?"text":null,message:"重新设置项目名称为:",initial:o+"_1",onState:t=>o=String(t.value).trim()||o+"_1"},{name:"needsTypeScript",type:"toggle",message:"是否使用 typescript?",initial:!1,active:"no",inactive:"yes"},{name:"needsMbox",type:"toggle",message:"是否使用 mbox?",initial:!1,active:"no",inactive:"yes"},{name:"needsEslint",type:"toggle",message:"是否使用 eslint?",initial:!1,active:"no",inactive:"yes"},{name:"needsInstall",type:"toggle",message:"是否自动安装依赖?",initial:!1,active:"no",inactive:"yes"}],{onCancel:()=>{throw new Error("User cancelled")}})}catch(t){console.log(t.message),process.exit(1)}const{needsOverwrite:h,restoreProjectName:l,needsTypeScript:c,needsMbox:u,needsEslint:d,needsInstall:p}=n;if(l&&(o=l,a=i.join(process.cwd(),o)),!h&&r.existsSync(a)&&await(async t=>{const e=an({text:Gt.yellowBright(`正在删除文件夹: ${Gt.cyan(t)}`)}).start();try{await qr.remove(t),e.succeed(Gt.greenBright(`删除文件夹: ${Gt.cyan(t)} 成功`))}catch(i){console.log(i),e.fail(Gt.redBright(`删除文件夹: ${Gt.cyan(t)} 失败`))}})(a),h&&!l.trim())return void console.log("项目名称冲突或有误，请修改项目名称后再试");let f=null;const m=t=>{f=t.pkg},g=t=>{const e=i.resolve(__dirname,`./src/template/${t}`);Lh({templateDir:e,projectPath:a,projectName:o,callback:m})};g(c?"base":"typescript"),u||g(c?"config/mbox-js":"config/mbox-ts"),d||g("config/eslint"),p?((t,e,i)=>{const r=pn(t);Bh(e,i,r)})(a,o,f):await(async(t,i,r)=>{const s=an("正在下载依赖...\n").start();return new Promise((()=>{const n=pn(t);e.exec(`cd ${t} && ${n}`,((e,o,a)=>{console.log(cn.info,`${o}\n`),console.log(cn.error,`${a}`),e&&(qr.existsSync(`${t}/node_modules`)?(s.fail(Gt.yellow(`执行${n}自动下载依赖存在警告或者报错，请检查项目依赖下载是否有误`)),Bh(i,r)):(console.log(cn.error,`${e.message}`),s.fail(Gt.red(`执行${n}自动下载依赖失败，请 cd ${i}，手动安装依赖`)))),s.succeed(Gt.green("依赖下载完成")),Bh(i,r)}))}))})(a,o,f)};q.version("0.0.1","-v, --version"),q.name("dnhyxc").description("自定义脚手架").usage("<command> [options]").on("--help",(()=>{console.log(`\r\nRun ${Gt.cyan("cli <command> --help")} for detailed usage of given command\r\n`)}));q.command("create <app-name>").description("创建新项目").option("-t, --template [template]","输入模板名称创建项目").option("-f, --force","强制覆盖本地同名项目").action((async(t,e)=>{new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>《》/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]").test(t)?console.log(cn.error,"项目名称存在非法字符，请重新输入"):await Yh(t)})),q.parse(process.argv);
