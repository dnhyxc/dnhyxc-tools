#!/usr/bin/env node
"use strict";var t=require("events"),e=require("child_process"),r=require("path"),i=require("fs"),n=require("process"),s=require("os"),o=require("tty"),a=require("readline"),l=require("assert"),u=require("stream"),h=require("buffer"),c=require("util"),d=require("node:path"),f=require("constants"),p=require("node-ssh"),m=require("string_decoder"),g=require("url"),b=require("fs/promises"),y=require("zlib"),w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function D(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),r}var S={},E={},x={};let k=class extends Error{constructor(t,e,r){super(r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=e,this.exitCode=t,this.nestedError=void 0}};x.CommanderError=k,x.InvalidArgumentError=class extends k{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};const{InvalidArgumentError:C}=x;E.Argument=class{constructor(t,e){switch(this.description=e||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new C(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},E.humanReadableArgName=function(t){const e=t.name()+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"};var O={},T={};const{humanReadableArgName:A}=E;T.Help=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){const e=t.commands.filter((t=>!t._hidden)),r=t._getHelpCommand();return r&&!r._hidden&&e.push(r),this.sortSubcommands&&e.sort(((t,e)=>t.name().localeCompare(e.name()))),e}compareOptions(t,e){const r=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return r(t).localeCompare(r(e))}visibleOptions(t){const e=t.options.filter((t=>!t.hidden)),r=t._getHelpOption();if(r&&!r.hidden){const i=r.short&&t._findOption(r.short),n=r.long&&t._findOption(r.long);i||n?r.long&&!n?e.push(t.createOption(r.long,r.description)):r.short&&!i&&e.push(t.createOption(r.short,r.description)):e.push(r)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const e=[];for(let r=t.parent;r;r=r.parent){const t=r.options.filter((t=>!t.hidden));e.push(...t)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach((e=>{e.description=e.description||t._argsDescription[e.name()]||""})),t.registeredArguments.find((t=>t.description))?t.registeredArguments:[]}subcommandTerm(t){const e=t.registeredArguments.map((t=>A(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(e?" "+e:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,e){return e.visibleCommands(t).reduce(((t,r)=>Math.max(t,e.subcommandTerm(r).length)),0)}longestOptionTermLength(t,e){return e.visibleOptions(t).reduce(((t,r)=>Math.max(t,e.optionTerm(r).length)),0)}longestGlobalOptionTermLength(t,e){return e.visibleGlobalOptions(t).reduce(((t,r)=>Math.max(t,e.optionTerm(r).length)),0)}longestArgumentTermLength(t,e){return e.visibleArguments(t).reduce(((t,r)=>Math.max(t,e.argumentTerm(r).length)),0)}commandUsage(t){let e=t._name;t._aliases[0]&&(e=e+"|"+t._aliases[0]);let r="";for(let e=t.parent;e;e=e.parent)r=e.name()+" "+r;return r+e+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue){(t.required||t.optional||t.isBoolean()&&"boolean"==typeof t.defaultValue)&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}return void 0!==t.presetArg&&t.optional&&e.push(`preset: ${JSON.stringify(t.presetArg)}`),void 0!==t.envVar&&e.push(`env: ${t.envVar}`),e.length>0?`${t.description} (${e.join(", ")})`:t.description}argumentDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),e.length>0){const r=`(${e.join(", ")})`;return t.description?`${t.description} ${r}`:r}return t.description}formatHelp(t,e){const r=e.padWidth(t,e),i=e.helpWidth||80;function n(t,n){if(n){const s=`${t.padEnd(r+2)}${n}`;return e.wrap(s,i-2,r+2)}return t}function s(t){return t.join("\n").replace(/^/gm," ".repeat(2))}let o=[`Usage: ${e.commandUsage(t)}`,""];const a=e.commandDescription(t);a.length>0&&(o=o.concat([e.wrap(a,i,0),""]));const l=e.visibleArguments(t).map((t=>n(e.argumentTerm(t),e.argumentDescription(t))));l.length>0&&(o=o.concat(["Arguments:",s(l),""]));const u=e.visibleOptions(t).map((t=>n(e.optionTerm(t),e.optionDescription(t))));if(u.length>0&&(o=o.concat(["Options:",s(u),""])),this.showGlobalOptions){const r=e.visibleGlobalOptions(t).map((t=>n(e.optionTerm(t),e.optionDescription(t))));r.length>0&&(o=o.concat(["Global Options:",s(r),""]))}const h=e.visibleCommands(t).map((t=>n(e.subcommandTerm(t),e.subcommandDescription(t))));return h.length>0&&(o=o.concat(["Commands:",s(h),""])),o.join("\n")}padWidth(t,e){return Math.max(e.longestOptionTermLength(t,e),e.longestGlobalOptionTermLength(t,e),e.longestSubcommandTermLength(t,e),e.longestArgumentTermLength(t,e))}wrap(t,e,r,i=40){const n=new RegExp("[\\n][ \\f\\t\\v   -   　\ufeff]+");if(t.match(n))return t;const s=e-r;if(s<i)return t;const o=t.slice(0,r),a=t.slice(r).replace("\r\n","\n"),l=" ".repeat(r),u="\\s​",h=new RegExp(`\n|.{1,${s-1}}([${u}]|$)|[^${u}]+?([${u}]|$)`,"g");return o+(a.match(h)||[]).map(((t,e)=>"\n"===t?"":(e>0?l:"")+t.trimEnd())).join("\n")}};var F={};const{InvalidArgumentError:R}=x;F.Option=class{constructor(t,e){this.flags=t,this.description=e||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;const r=function(t){let e,r;const i=t.split(/[ |,]+/);i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift());r=i.shift(),!e&&/^-[^-]$/.test(r)&&(e=r,r=void 0);return{shortFlag:e,longFlag:r}}(t);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let e=t;return"string"==typeof t&&(e={[t]:!0}),this.implied=Object.assign(this.implied||{},e),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new R(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((t,e)=>t+e[0].toUpperCase()+e.slice(1)))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},F.DualOptions=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach((t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)})),this.negativeOptions.forEach(((t,e)=>{this.positiveOptions.has(e)&&this.dualOptions.add(e)}))}valueFromOption(t,e){const r=e.attributeName();if(!this.dualOptions.has(r))return!0;const i=this.negativeOptions.get(r).presetArg,n=void 0!==i&&i;return e.negate===(n===t)}};var M={};const P=3;M.suggestSimilar=function(t,e){if(!e||0===e.length)return"";e=Array.from(new Set(e));const r=t.startsWith("--");r&&(t=t.slice(2),e=e.map((t=>t.slice(2))));let i=[],n=P;return e.forEach((e=>{if(e.length<=1)return;const r=function(t,e){if(Math.abs(t.length-e.length)>P)return Math.max(t.length,e.length);const r=[];for(let e=0;e<=t.length;e++)r[e]=[e];for(let t=0;t<=e.length;t++)r[0][t]=t;for(let i=1;i<=e.length;i++)for(let n=1;n<=t.length;n++){let s=1;s=t[n-1]===e[i-1]?0:1,r[n][i]=Math.min(r[n-1][i]+1,r[n][i-1]+1,r[n-1][i-1]+s),n>1&&i>1&&t[n-1]===e[i-2]&&t[n-2]===e[i-1]&&(r[n][i]=Math.min(r[n][i],r[n-2][i-2]+1))}return r[t.length][e.length]}(t,e),s=Math.max(t.length,e.length);(s-r)/s>.4&&(r<n?(n=r,i=[e]):r===n&&i.push(e))})),i.sort(((t,e)=>t.localeCompare(e))),r&&(i=i.map((t=>`--${t}`))),i.length>1?`\n(Did you mean one of ${i.join(", ")}?)`:1===i.length?`\n(Did you mean ${i[0]}?)`:""};const I=t.EventEmitter,j=e,B=r,L=i,N=n,{Argument:$,humanReadableArgName:W}=E,{CommanderError:U}=x,{Help:z}=T,{Option:H,DualOptions:G}=F,{suggestSimilar:V}=M;function q(t){return t.map((t=>{if(!t.startsWith("--inspect"))return t;let e,r,i="127.0.0.1",n="9229";return null!==(r=t.match(/^(--inspect(-brk)?)$/))?e=r[1]:null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(e=r[1],/^\d+$/.test(r[3])?n=r[3]:i=r[3]):null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(e=r[1],i=r[3],n=r[4]),e&&"0"!==n?`${e}=${i}:${parseInt(n)+1}`:t}))}O.Command=class t extends I{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>N.stdout.write(t),writeErr:t=>N.stderr.write(t),getOutHelpWidth:()=>N.stdout.isTTY?N.stdout.columns:void 0,getErrHelpWidth:()=>N.stderr.isTTY?N.stderr.columns:void 0,outputError:(t,e)=>e(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){const t=[];for(let e=this;e;e=e.parent)t.push(e);return t}command(t,e,r){let i=e,n=r;"object"==typeof i&&null!==i&&(n=i,i=null),n=n||{};const[,s,o]=t.match(/([^ ]+) *(.*)/),a=this.createCommand(s);return i&&(a.description(i),a._executableHandler=!0),n.isDefault&&(this._defaultCommandName=a._name),a._hidden=!(!n.noHelp&&!n.hidden),a._executableFile=n.executableFile||null,o&&a.arguments(o),this._registerCommand(a),a.parent=this,a.copyInheritedSettings(this),i?this:a}createCommand(e){return new t(e)}createHelp(){return Object.assign(new z,this.configureHelp())}configureHelp(t){return void 0===t?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return void 0===t?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return"string"!=typeof t&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,e){if(!t._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(e=e||{}).isDefault&&(this._defaultCommandName=t._name),(e.noHelp||e.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,e){return new $(t,e)}argument(t,e,r,i){const n=this.createArgument(t,e);return"function"==typeof r?n.default(i).argParser(r):n.default(r),this.addArgument(n),this}arguments(t){return t.trim().split(/ +/).forEach((t=>{this.argument(t)})),this}addArgument(t){const e=this.registeredArguments.slice(-1)[0];if(e&&e.variadic)throw new Error(`only the last argument can be variadic '${e.name()}'`);if(t.required&&void 0!==t.defaultValue&&void 0===t.parseArg)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,e){if("boolean"==typeof t)return this._addImplicitHelpCommand=t,this;t=t??"help [command]";const[,r,i]=t.match(/([^ ]+) *(.*)/),n=e??"display help for command",s=this.createCommand(r);return s.helpOption(!1),i&&s.arguments(i),n&&s.description(n),this._addImplicitHelpCommand=!0,this._helpCommand=s,this}addHelpCommand(t,e){return"object"!=typeof t?(this.helpCommand(t,e),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,e){const r=["preSubcommand","preAction","postAction"];if(!r.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${r.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(e):this._lifeCycleHooks[t]=[e],this}exitOverride(t){return this._exitCallback=t||(t=>{if("commander.executeSubCommandAsync"!==t.code)throw t}),this}_exit(t,e,r){this._exitCallback&&this._exitCallback(new U(t,e,r)),N.exit(t)}action(t){return this._actionHandler=e=>{const r=this.registeredArguments.length,i=e.slice(0,r);return this._storeOptionsAsProperties?i[r]=this:i[r]=this.opts(),i.push(this),t.apply(this,i)},this}createOption(t,e){return new H(t,e)}_callParseArg(t,e,r,i){try{return t.parseArg(e,r)}catch(t){if("commander.invalidArgument"===t.code){const e=`${i} ${t.message}`;this.error(e,{exitCode:t.exitCode,code:t.code})}throw t}}_registerOption(t){const e=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(e){const r=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${r}'\n-  already used by option '${e.flags}'`)}this.options.push(t)}_registerCommand(t){const e=t=>[t.name()].concat(t.aliases()),r=e(t).find((t=>this._findCommand(t)));if(r){const i=e(this._findCommand(r)).join("|"),n=e(t).join("|");throw new Error(`cannot add command '${n}' as already have command '${i}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);const e=t.name(),r=t.attributeName();if(t.negate){const e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(r,void 0===t.defaultValue||t.defaultValue,"default")}else void 0!==t.defaultValue&&this.setOptionValueWithSource(r,t.defaultValue,"default");const i=(e,i,n)=>{null==e&&void 0!==t.presetArg&&(e=t.presetArg);const s=this.getOptionValue(r);null!==e&&t.parseArg?e=this._callParseArg(t,e,s,i):null!==e&&t.variadic&&(e=t._concatValue(e,s)),null==e&&(e=!t.negate&&(!(!t.isBoolean()&&!t.optional)||"")),this.setOptionValueWithSource(r,e,n)};return this.on("option:"+e,(e=>{const r=`error: option '${t.flags}' argument '${e}' is invalid.`;i(e,r,"cli")})),t.envVar&&this.on("optionEnv:"+e,(e=>{const r=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;i(e,r,"env")})),this}_optionEx(t,e,r,i,n){if("object"==typeof e&&e instanceof H)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const s=this.createOption(e,r);if(s.makeOptionMandatory(!!t.mandatory),"function"==typeof i)s.default(n).argParser(i);else if(i instanceof RegExp){const t=i;i=(e,r)=>{const i=t.exec(e);return i?i[0]:r},s.default(n).argParser(i)}else s.default(i);return this.addOption(s)}option(t,e,r,i){return this._optionEx({},t,e,r,i)}requiredOption(t,e,r,i){return this._optionEx({mandatory:!0},t,e,r,i)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,e){return this.setOptionValueWithSource(t,e,void 0)}setOptionValueWithSource(t,e,r){return this._storeOptionsAsProperties?this[t]=e:this._optionValues[t]=e,this._optionValueSources[t]=r,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let e;return this._getCommandAndAncestors().forEach((r=>{void 0!==r.getOptionValueSource(t)&&(e=r.getOptionValueSource(t))})),e}_prepareUserArgs(t,e){if(void 0!==t&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");let r;switch(e=e||{},void 0===t&&(t=N.argv,N.versions&&N.versions.electron&&(e.from="electron")),this.rawArgs=t.slice(),e.from){case void 0:case"node":this._scriptPath=t[1],r=t.slice(2);break;case"electron":N.defaultApp?(this._scriptPath=t[1],r=t.slice(2)):r=t.slice(1);break;case"user":r=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${e.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",r}parse(t,e){const r=this._prepareUserArgs(t,e);return this._parseCommand([],r),this}async parseAsync(t,e){const r=this._prepareUserArgs(t,e);return await this._parseCommand([],r),this}_executeSubCommand(t,e){e=e.slice();let r=!1;const i=[".js",".ts",".tsx",".mjs",".cjs"];function n(t,e){const r=B.resolve(t,e);if(L.existsSync(r))return r;if(i.includes(B.extname(e)))return;const n=i.find((t=>L.existsSync(`${r}${t}`)));return n?`${r}${n}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let s,o=t._executableFile||`${this._name}-${t._name}`,a=this._executableDir||"";if(this._scriptPath){let t;try{t=L.realpathSync(this._scriptPath)}catch(e){t=this._scriptPath}a=B.resolve(B.dirname(t),a)}if(a){let e=n(a,o);if(!e&&!t._executableFile&&this._scriptPath){const r=B.basename(this._scriptPath,B.extname(this._scriptPath));r!==this._name&&(e=n(a,`${r}-${t._name}`))}o=e||o}if(r=i.includes(B.extname(o)),"win32"!==N.platform?r?(e.unshift(o),e=q(N.execArgv).concat(e),s=j.spawn(N.argv[0],e,{stdio:"inherit"})):s=j.spawn(o,e,{stdio:"inherit"}):(e.unshift(o),e=q(N.execArgv).concat(e),s=j.spawn(N.execPath,e,{stdio:"inherit"})),!s.killed){["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((t=>{N.on(t,(()=>{!1===s.killed&&null===s.exitCode&&s.kill(t)}))}))}const l=this._exitCallback;s.on("close",((t,e)=>{t=t??1,l?l(new U(t,"commander.executeSubCommandAsync","(close)")):N.exit(t)})),s.on("error",(e=>{if("ENOENT"===e.code){const e=a?`searched for local subcommand relative to directory '${a}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",r=`'${o}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${e}`;throw new Error(r)}if("EACCES"===e.code)throw new Error(`'${o}' not executable`);if(l){const t=new U(1,"commander.executeSubCommandAsync","(error)");t.nestedError=e,l(t)}else N.exit(1)})),this.runningCommand=s}_dispatchSubcommand(t,e,r){const i=this._findCommand(t);let n;return i||this.help({error:!0}),n=this._chainOrCallSubCommandHook(n,i,"preSubcommand"),n=this._chainOrCall(n,(()=>{if(!i._executableHandler)return i._parseCommand(e,r);this._executeSubCommand(i,e.concat(r))})),n}_dispatchHelpCommand(t){t||this.help();const e=this._findCommand(t);return e&&!e._executableHandler&&e.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((t,e)=>{t.required&&null==this.args[e]&&this.missingArgument(t.name())})),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const t=(t,e,r)=>{let i=e;if(null!==e&&t.parseArg){const n=`error: command-argument value '${e}' is invalid for argument '${t.name()}'.`;i=this._callParseArg(t,e,r,n)}return i};this._checkNumberOfArguments();const e=[];this.registeredArguments.forEach(((r,i)=>{let n=r.defaultValue;r.variadic?i<this.args.length?(n=this.args.slice(i),r.parseArg&&(n=n.reduce(((e,i)=>t(r,i,e)),r.defaultValue))):void 0===n&&(n=[]):i<this.args.length&&(n=this.args[i],r.parseArg&&(n=t(r,n,r.defaultValue))),e[i]=n})),this.processedArgs=e}_chainOrCall(t,e){return t&&t.then&&"function"==typeof t.then?t.then((()=>e())):e()}_chainOrCallHooks(t,e){let r=t;const i=[];return this._getCommandAndAncestors().reverse().filter((t=>void 0!==t._lifeCycleHooks[e])).forEach((t=>{t._lifeCycleHooks[e].forEach((e=>{i.push({hookedCommand:t,callback:e})}))})),"postAction"===e&&i.reverse(),i.forEach((t=>{r=this._chainOrCall(r,(()=>t.callback(t.hookedCommand,this)))})),r}_chainOrCallSubCommandHook(t,e,r){let i=t;return void 0!==this._lifeCycleHooks[r]&&this._lifeCycleHooks[r].forEach((t=>{i=this._chainOrCall(i,(()=>t(this,e)))})),i}_parseCommand(t,e){const r=this.parseOptions(e);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(r.operands),e=r.unknown,this.args=t.concat(e),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),e);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(e),this._dispatchSubcommand(this._defaultCommandName,t,e);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),this._outputHelpIfRequested(r.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const i=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},n=`command:${this.name()}`;if(this._actionHandler){let r;return i(),this._processArguments(),r=this._chainOrCallHooks(r,"preAction"),r=this._chainOrCall(r,(()=>this._actionHandler(this.processedArgs))),this.parent&&(r=this._chainOrCall(r,(()=>{this.parent.emit(n,t,e)}))),r=this._chainOrCallHooks(r,"postAction"),r}if(this.parent&&this.parent.listenerCount(n))i(),this._processArguments(),this.parent.emit(n,t,e);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,e);this.listenerCount("command:*")?this.emit("command:*",t,e):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(t){if(t)return this.commands.find((e=>e._name===t||e._aliases.includes(t)))}_findOption(t){return this.options.find((e=>e.is(t)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((t=>{t.options.forEach((e=>{e.mandatory&&void 0===t.getOptionValue(e.attributeName())&&t.missingMandatoryOptionValue(e)}))}))}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const e=t.attributeName();return void 0!==this.getOptionValue(e)&&"default"!==this.getOptionValueSource(e)})),e=t.filter((t=>t.conflictsWith.length>0));e.forEach((e=>{const r=t.find((t=>e.conflictsWith.includes(t.attributeName())));r&&this._conflictingOption(e,r)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((t=>{t._checkForConflictingLocalOptions()}))}parseOptions(t){const e=[],r=[];let i=e;const n=t.slice();function s(t){return t.length>1&&"-"===t[0]}let o=null;for(;n.length;){const t=n.shift();if("--"===t){i===r&&i.push(t),i.push(...n);break}if(!o||s(t)){if(o=null,s(t)){const e=this._findOption(t);if(e){if(e.required){const t=n.shift();void 0===t&&this.optionMissingArgument(e),this.emit(`option:${e.name()}`,t)}else if(e.optional){let t=null;n.length>0&&!s(n[0])&&(t=n.shift()),this.emit(`option:${e.name()}`,t)}else this.emit(`option:${e.name()}`);o=e.variadic?e:null;continue}}if(t.length>2&&"-"===t[0]&&"-"!==t[1]){const e=this._findOption(`-${t[1]}`);if(e){e.required||e.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${e.name()}`,t.slice(2)):(this.emit(`option:${e.name()}`),n.unshift(`-${t.slice(2)}`));continue}}if(/^--[^=]+=/.test(t)){const e=t.indexOf("="),r=this._findOption(t.slice(0,e));if(r&&(r.required||r.optional)){this.emit(`option:${r.name()}`,t.slice(e+1));continue}}if(s(t)&&(i=r),(this._enablePositionalOptions||this._passThroughOptions)&&0===e.length&&0===r.length){if(this._findCommand(t)){e.push(t),n.length>0&&r.push(...n);break}if(this._getHelpCommand()&&t===this._getHelpCommand().name()){e.push(t),n.length>0&&e.push(...n);break}if(this._defaultCommandName){r.push(t),n.length>0&&r.push(...n);break}}if(this._passThroughOptions){i.push(t),n.length>0&&i.push(...n);break}i.push(t)}else this.emit(`option:${o.name()}`,t)}return{operands:e,unknown:r}}opts(){if(this._storeOptionsAsProperties){const t={},e=this.options.length;for(let r=0;r<e;r++){const e=this.options[r].attributeName();t[e]=e===this._versionOptionName?this._version:this[e]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((t,e)=>Object.assign(t,e.opts())),{})}error(t,e){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const r=e||{},i=r.exitCode||1,n=r.code||"commander.error";this._exit(i,n,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in N.env){const e=t.attributeName();(void 0===this.getOptionValue(e)||["default","config","env"].includes(this.getOptionValueSource(e)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,N.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}}))}_parseOptionsImplied(){const t=new G(this.options),e=t=>void 0!==this.getOptionValue(t)&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((r=>void 0!==r.implied&&e(r.attributeName())&&t.valueFromOption(this.getOptionValue(r.attributeName()),r))).forEach((t=>{Object.keys(t.implied).filter((t=>!e(t))).forEach((e=>{this.setOptionValueWithSource(e,t.implied[e],"implied")}))}))}missingArgument(t){const e=`error: missing required argument '${t}'`;this.error(e,{code:"commander.missingArgument"})}optionMissingArgument(t){const e=`error: option '${t.flags}' argument missing`;this.error(e,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const e=`error: required option '${t.flags}' not specified`;this.error(e,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,e){const r=t=>{const e=t.attributeName(),r=this.getOptionValue(e),i=this.options.find((t=>t.negate&&e===t.attributeName())),n=this.options.find((t=>!t.negate&&e===t.attributeName()));return i&&(void 0===i.presetArg&&!1===r||void 0!==i.presetArg&&r===i.presetArg)?i:n||t},i=t=>{const e=r(t),i=e.attributeName();return"env"===this.getOptionValueSource(i)?`environment variable '${e.envVar}'`:`option '${e.flags}'`},n=`error: ${i(t)} cannot be used with ${i(e)}`;this.error(n,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let e="";if(t.startsWith("--")&&this._showSuggestionAfterError){let r=[],i=this;do{const t=i.createHelp().visibleOptions(i).filter((t=>t.long)).map((t=>t.long));r=r.concat(t),i=i.parent}while(i&&!i._enablePositionalOptions);e=V(t,r)}const r=`error: unknown option '${t}'${e}`;this.error(r,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const e=this.registeredArguments.length,r=1===e?"":"s",i=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${e} argument${r} but got ${t.length}.`;this.error(i,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let e="";if(this._showSuggestionAfterError){const r=[];this.createHelp().visibleCommands(this).forEach((t=>{r.push(t.name()),t.alias()&&r.push(t.alias())})),e=V(t,r)}const r=`error: unknown command '${t}'${e}`;this.error(r,{code:"commander.unknownCommand"})}version(t,e,r){if(void 0===t)return this._version;this._version=t,e=e||"-V, --version",r=r||"output the version number";const i=this.createOption(e,r);return this._versionOptionName=i.attributeName(),this._registerOption(i),this.on("option:"+i.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`),this._exit(0,"commander.version",t)})),this}description(t,e){return void 0===t&&void 0===e?this._description:(this._description=t,e&&(this._argsDescription=e),this)}summary(t){return void 0===t?this._summary:(this._summary=t,this)}alias(t){if(void 0===t)return this._aliases[0];let e=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(e=this.commands[this.commands.length-1]),t===e._name)throw new Error("Command alias can't be the same as its name");const r=this.parent?._findCommand(t);if(r){const e=[r.name()].concat(r.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${e}'`)}return e._aliases.push(t),this}aliases(t){return void 0===t?this._aliases:(t.forEach((t=>this.alias(t))),this)}usage(t){if(void 0===t){if(this._usage)return this._usage;const t=this.registeredArguments.map((t=>W(t)));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=t,this}name(t){return void 0===t?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=B.basename(t,B.extname(t)),this}executableDir(t){return void 0===t?this._executableDir:(this._executableDir=t,this)}helpInformation(t){const e=this.createHelp();return void 0===e.helpWidth&&(e.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),e.formatHelp(this,e)}_getHelpContext(t){const e={error:!!(t=t||{}).error};let r;return r=e.error?t=>this._outputConfiguration.writeErr(t):t=>this._outputConfiguration.writeOut(t),e.write=t.write||r,e.command=this,e}outputHelp(t){let e;"function"==typeof t&&(e=t,t=void 0);const r=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach((t=>t.emit("beforeAllHelp",r))),this.emit("beforeHelp",r);let i=this.helpInformation(r);if(e&&(i=e(i),"string"!=typeof i&&!Buffer.isBuffer(i)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(i),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",r),this._getCommandAndAncestors().forEach((t=>t.emit("afterAllHelp",r)))}helpOption(t,e){return"boolean"==typeof t?(this._helpOption=t?this._helpOption??void 0:null,this):(t=t??"-h, --help",e=e??"display help for command",this._helpOption=this.createOption(t,e),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let e=N.exitCode||0;0===e&&t&&"function"!=typeof t&&t.error&&(e=1),this._exit(e,"commander.help","(outputHelp)")}addHelpText(t,e){const r=["beforeAll","before","after","afterAll"];if(!r.includes(t))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${r.join("', '")}'`);const i=`${t}Help`;return this.on(i,(t=>{let r;r="function"==typeof e?e({error:t.error,command:t.command}):e,r&&t.write(`${r}\n`)})),this}_outputHelpIfRequested(t){const e=this._getHelpOption();e&&t.find((t=>e.is(t)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};const{Argument:Y}=E,{Command:Z}=O,{CommanderError:K,InvalidArgumentError:J}=x,{Help:Q}=T,{Option:X}=F;S.program=new Z,S.createCommand=t=>new Z(t),S.createOption=(t,e)=>new X(t,e),S.createArgument=(t,e)=>new Y(t,e),S.Command=Z,S.Option=X,S.Argument=Y,S.Help=Q,S.CommanderError=K,S.InvalidArgumentError=J,S.InvalidOptionArgumentError=J;const{program:tt,createCommand:et,createArgument:rt,createOption:it,CommanderError:nt,InvalidArgumentError:st,InvalidOptionArgumentError:ot,Command:at,Argument:lt,Option:ut,Help:ht}=S;var ct,dt,ft,pt,mt,gt,bt,yt,wt={exports:{}};function vt(){if(pt)return ft;pt=1;const t=dt?ct:(dt=1,ct={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),e={};for(const r of Object.keys(t))e[t[r]]=r;const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ft=r;for(const t of Object.keys(r)){if(!("channels"in r[t]))throw new Error("missing channels property: "+t);if(!("labels"in r[t]))throw new Error("missing channel labels property: "+t);if(r[t].labels.length!==r[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:i}=r[t];delete r[t].channels,delete r[t].labels,Object.defineProperty(r[t],"channels",{value:e}),Object.defineProperty(r[t],"labels",{value:i})}return r.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(e,r,i),s=Math.max(e,r,i),o=s-n;let a,l;s===n?a=0:e===s?a=(r-i)/o:r===s?a=2+(i-e)/o:i===s&&(a=4+(e-r)/o),a=Math.min(60*a,360),a<0&&(a+=360);const u=(n+s)/2;return l=s===n?0:u<=.5?o/(s+n):o/(2-s-n),[a,100*l,100*u]},r.rgb.hsv=function(t){let e,r,i,n,s;const o=t[0]/255,a=t[1]/255,l=t[2]/255,u=Math.max(o,a,l),h=u-Math.min(o,a,l),c=function(t){return(u-t)/6/h+.5};return 0===h?(n=0,s=0):(s=h/u,e=c(o),r=c(a),i=c(l),o===u?n=i-r:a===u?n=1/3+e-i:l===u&&(n=2/3+r-e),n<0?n+=1:n>1&&(n-=1)),[360*n,100*s,100*u]},r.rgb.hwb=function(t){const e=t[0],i=t[1];let n=t[2];const s=r.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(i,n));return n=1-1/255*Math.max(e,Math.max(i,n)),[s,100*o,100*n]},r.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(1-e,1-r,1-i);return[100*((1-e-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*n]},r.rgb.keyword=function(r){const i=e[r];if(i)return i;let n,s=1/0;for(const e of Object.keys(t)){const i=t[e],l=(a=i,((o=r)[0]-a[0])**2+(o[1]-a[1])**2+(o[2]-a[2])**2);l<s&&(s=l,n=e)}var o,a;return n},r.keyword.rgb=function(e){return t[e]},r.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;return[100*(.4124*e+.3576*r+.1805*i),100*(.2126*e+.7152*r+.0722*i),100*(.0193*e+.1192*r+.9505*i)]},r.rgb.lab=function(t){const e=r.rgb.xyz(t);let i=e[0],n=e[1],s=e[2];i/=95.047,n/=100,s/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*n-16,500*(i-n),200*(n-s)]},r.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,i=t[2]/100;let n,s,o;if(0===r)return o=255*i,[o,o,o];n=i<.5?i*(1+r):i+r-i*r;const a=2*i-n,l=[0,0,0];for(let t=0;t<3;t++)s=e+1/3*-(t-1),s<0&&s++,s>1&&s--,o=6*s<1?a+6*(n-a)*s:2*s<1?n:3*s<2?a+(n-a)*(2/3-s)*6:a,l[t]=255*o;return l},r.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,i=t[2]/100,n=r;const s=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,n*=s<=1?s:2-s;return[e,100*(0===i?2*n/(s+n):2*r/(i+r)),100*((i+r)/2)]},r.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let i=t[2]/100;const n=Math.floor(e)%6,s=e-Math.floor(e),o=255*i*(1-r),a=255*i*(1-r*s),l=255*i*(1-r*(1-s));switch(i*=255,n){case 0:return[i,l,o];case 1:return[a,i,o];case 2:return[o,i,l];case 3:return[o,a,i];case 4:return[l,o,i];case 5:return[i,o,a]}},r.hsv.hsl=function(t){const e=t[0],r=t[1]/100,i=t[2]/100,n=Math.max(i,.01);let s,o;o=(2-r)*i;const a=(2-r)*n;return s=r*n,s/=a<=1?a:2-a,s=s||0,o/=2,[e,100*s,100*o]},r.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,i=t[2]/100;const n=r+i;let s;n>1&&(r/=n,i/=n);const o=Math.floor(6*e),a=1-i;s=6*e-o,0!=(1&o)&&(s=1-s);const l=r+s*(a-r);let u,h,c;switch(o){default:case 6:case 0:u=a,h=l,c=r;break;case 1:u=l,h=a,c=r;break;case 2:u=r,h=a,c=l;break;case 3:u=r,h=l,c=a;break;case 4:u=l,h=r,c=a;break;case 5:u=a,h=r,c=l}return[255*u,255*h,255*c]},r.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,i=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]},r.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,i=t[2]/100;let n,s,o;return n=3.2406*e+-1.5372*r+-.4986*i,s=-.9689*e+1.8758*r+.0415*i,o=.0557*e+-.204*r+1.057*i,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,n=Math.min(Math.max(0,n),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[255*n,255*s,255*o]},r.xyz.lab=function(t){let e=t[0],r=t[1],i=t[2];e/=95.047,r/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(e-r),200*(r-i)]},r.lab.xyz=function(t){let e,r,i;r=(t[0]+16)/116,e=t[1]/500+r,i=r-t[2]/200;const n=r**3,s=e**3,o=i**3;return r=n>.008856?n:(r-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,i=o>.008856?o:(i-16/116)/7.787,e*=95.047,r*=100,i*=108.883,[e,r,i]},r.lab.lch=function(t){const e=t[0],r=t[1],i=t[2];let n;n=360*Math.atan2(i,r)/2/Math.PI,n<0&&(n+=360);return[e,Math.sqrt(r*r+i*i),n]},r.lch.lab=function(t){const e=t[0],r=t[1],i=t[2]/360*2*Math.PI;return[e,r*Math.cos(i),r*Math.sin(i)]},r.rgb.ansi16=function(t,e=null){const[i,n,s]=t;let o=null===e?r.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let a=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return 2===o&&(a+=60),a},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){const e=t[0],r=t[1],i=t[2];if(e===r&&r===i)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},r.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},r.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=r.split("").map((t=>t+t)).join(""));const i=parseInt(r,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.max(Math.max(e,r),i),s=Math.min(Math.min(e,r),i),o=n-s;let a,l;return a=o<1?s/(1-o):0,l=o<=0?0:n===e?(r-i)/o%6:n===r?2+(i-e)/o:4+(e-r)/o,l/=6,l%=1,[360*l,100*o,100*a]},r.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,i=r<.5?2*e*r:2*e*(1-r);let n=0;return i<1&&(n=(r-.5*i)/(1-i)),[t[0],100*i,100*n]},r.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,i=e*r;let n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],100*i,100*n]},r.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,i=t[2]/100;if(0===r)return[255*i,255*i,255*i];const n=[0,0,0],s=e%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=a,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=a,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=a}return l=(1-r)*i,[255*(r*n[0]+l),255*(r*n[1]+l),255*(r*n[2]+l)]},r.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let i=0;return r>0&&(i=e/r),[t[0],100*i,100*r]},r.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],100*i,100*r]},r.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},r.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,i=r-e;let n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],100*i,100*n]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=function(t){return[0,0,t[0]]},r.gray.hsv=r.gray.hsl,r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]},ft}function _t(){if(gt)return mt;gt=1;const t=vt();function e(e){const r=function(){const e={},r=Object.keys(t);for(let t=r.length,i=0;i<t;i++)e[r[i]]={distance:-1,parent:null};return e}(),i=[e];for(r[e].distance=0;i.length;){const e=i.pop(),n=Object.keys(t[e]);for(let t=n.length,s=0;s<t;s++){const t=n[s],o=r[t];-1===o.distance&&(o.distance=r[e].distance+1,o.parent=e,i.unshift(t))}}return r}function r(t,e){return function(r){return e(t(r))}}function i(e,i){const n=[i[e].parent,e];let s=t[i[e].parent][e],o=i[e].parent;for(;i[o].parent;)n.unshift(i[o].parent),s=r(t[i[o].parent][o],s),o=i[o].parent;return s.conversion=n,s}return mt=function(t){const r=e(t),n={},s=Object.keys(r);for(let t=s.length,e=0;e<t;e++){const t=s[e];null!==r[t].parent&&(n[t]=i(t,r))}return n}}function Dt(){if(yt)return bt;yt=1;const t=vt(),e=_t(),r={};return Object.keys(t).forEach((i=>{r[i]={},Object.defineProperty(r[i],"channels",{value:t[i].channels}),Object.defineProperty(r[i],"labels",{value:t[i].labels});const n=e(i);Object.keys(n).forEach((t=>{const e=n[t];r[i][t]=function(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const i=t(e);if("object"==typeof i)for(let t=i.length,e=0;e<t;e++)i[e]=Math.round(i[e]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}(e),r[i][t].raw=function(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(e)}))})),bt=r}!function(t){const e=(t,e)=>(...r)=>`[${t(...r)+e}m`,r=(t,e)=>(...r)=>{const i=t(...r);return`[${38+e};5;${i}m`},i=(t,e)=>(...r)=>{const i=t(...r);return`[${38+e};2;${i[0]};${i[1]};${i[2]}m`},n=t=>t,s=(t,e,r)=>[t,e,r],o=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{const i=r();return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0}),i},enumerable:!0,configurable:!0})};let a;const l=(t,e,r,i)=>{void 0===a&&(a=Dt());const n=i?10:0,s={};for(const[i,o]of Object.entries(a)){const a="ansi16"===i?"ansi":i;i===e?s[a]=t(r,n):"object"==typeof o&&(s[a]=t(o[e],n))}return s};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[e,r]of Object.entries(a)){for(const[e,i]of Object.entries(r))a[e]={open:`[${i[0]}m`,close:`[${i[1]}m`},r[e]=a[e],t.set(i[0],i[1]);Object.defineProperty(a,e,{value:r,enumerable:!1})}return Object.defineProperty(a,"codes",{value:t,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",o(a.color,"ansi",(()=>l(e,"ansi16",n,!1))),o(a.color,"ansi256",(()=>l(r,"ansi256",n,!1))),o(a.color,"ansi16m",(()=>l(i,"rgb",s,!1))),o(a.bgColor,"ansi",(()=>l(e,"ansi16",n,!0))),o(a.bgColor,"ansi256",(()=>l(r,"ansi256",n,!0))),o(a.bgColor,"ansi16m",(()=>l(i,"rgb",s,!0))),a}})}(wt);var St=wt.exports;const Et=s,xt=o,kt=(t,e=process.argv)=>{const r=t.startsWith("-")?"":1===t.length?"-":"--",i=e.indexOf(r+t),n=e.indexOf("--");return-1!==i&&(-1===n||i<n)},{env:Ct}=process;let Ot;function Tt(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function At(t,e){if(0===Ot)return 0;if(kt("color=16m")||kt("color=full")||kt("color=truecolor"))return 3;if(kt("color=256"))return 2;if(t&&!e&&void 0===Ot)return 0;const r=Ot||0;if("dumb"===Ct.TERM)return r;if("win32"===process.platform){const t=Et.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Ct)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((t=>t in Ct))||"codeship"===Ct.CI_NAME?1:r;if("TEAMCITY_VERSION"in Ct)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ct.TEAMCITY_VERSION)?1:0;if("truecolor"===Ct.COLORTERM)return 3;if("TERM_PROGRAM"in Ct){const t=parseInt((Ct.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ct.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ct.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ct.TERM)||"COLORTERM"in Ct?1:r}kt("no-color")||kt("no-colors")||kt("color=false")||kt("color=never")?Ot=0:(kt("color")||kt("colors")||kt("color=true")||kt("color=always"))&&(Ot=1),"FORCE_COLOR"in Ct&&(Ot="true"===Ct.FORCE_COLOR?1:"false"===Ct.FORCE_COLOR?0:0===Ct.FORCE_COLOR.length?1:Math.min(parseInt(Ct.FORCE_COLOR,10),3));var Ft={supportsColor:function(t){return Tt(At(t,t&&t.isTTY))},stdout:Tt(At(!0,xt.isatty(1))),stderr:Tt(At(!0,xt.isatty(2)))};var Rt,Mt,Pt={stringReplaceAll:(t,e,r)=>{let i=t.indexOf(e);if(-1===i)return t;const n=e.length;let s=0,o="";do{o+=t.substr(s,i-s)+e+r,s=i+n,i=t.indexOf(e,s)}while(-1!==i);return o+=t.substr(s),o},stringEncaseCRLFWithFirstIndex:(t,e,r,i)=>{let n=0,s="";do{const o="\r"===t[i-1];s+=t.substr(n,(o?i-1:i)-n)+e+(o?"\r\n":"\n")+r,n=i+1,i=t.indexOf("\n",n)}while(-1!==i);return s+=t.substr(n),s}};const It=St,{stdout:jt,stderr:Bt}=Ft,{stringReplaceAll:Lt,stringEncaseCRLFWithFirstIndex:Nt}=Pt,{isArray:$t}=Array,Wt=["ansi","ansi","ansi256","ansi16m"],Ut=Object.create(null);class zt{constructor(t){return Ht(t)}}const Ht=t=>{const e={};return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=jt?jt.level:0;t.level=void 0===e.level?r:e.level})(e,t),e.template=(...t)=>Qt(e.template,...t),Object.setPrototypeOf(e,Gt.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=zt,e.template};function Gt(t){return Ht(t)}for(const[t,e]of Object.entries(It))Ut[t]={get(){const r=Zt(this,Yt(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};Ut.visible={get(){const t=Zt(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};const Vt=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const t of Vt)Ut[t]={get(){const{level:e}=this;return function(...r){const i=Yt(It.color[Wt[e]][t](...r),It.color.close,this._styler);return Zt(this,i,this._isEmpty)}}};for(const t of Vt){Ut["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const{level:e}=this;return function(...r){const i=Yt(It.bgColor[Wt[e]][t](...r),It.bgColor.close,this._styler);return Zt(this,i,this._isEmpty)}}}}const qt=Object.defineProperties((()=>{}),{...Ut,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),Yt=(t,e,r)=>{let i,n;return void 0===r?(i=t,n=e):(i=r.openAll+t,n=e+r.closeAll),{open:t,close:e,openAll:i,closeAll:n,parent:r}},Zt=(t,e,r)=>{const i=(...t)=>$t(t[0])&&$t(t[0].raw)?Kt(i,Qt(i,...t)):Kt(i,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(i,qt),i._generator=t,i._styler=e,i._isEmpty=r,i},Kt=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(void 0===r)return e;const{openAll:i,closeAll:n}=r;if(-1!==e.indexOf(""))for(;void 0!==r;)e=Lt(e,r.close,r.open),r=r.parent;const s=e.indexOf("\n");return-1!==s&&(e=Nt(e,n,i,s)),i+e+n};let Jt;const Qt=(t,...e)=>{const[r]=e;if(!$t(r)||!$t(r.raw))return e.join(" ");const i=e.slice(1),n=[r.raw[0]];for(let t=1;t<r.length;t++)n.push(String(i[t-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[t]));return void 0===Jt&&(Jt=function(){if(Mt)return Rt;Mt=1;const t=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,e=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,r=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,i=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,n=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function s(t){const e="u"===t[0],r="{"===t[1];return e&&!r&&5===t.length||"x"===t[0]&&3===t.length?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):n.get(t)||t}function o(t,e){const n=[],o=e.trim().split(/\s*,\s*/g);let a;for(const e of o){const o=Number(e);if(Number.isNaN(o)){if(!(a=e.match(r)))throw new Error(`Invalid Chalk template style argument: ${e} (in style '${t}')`);n.push(a[2].replace(i,((t,e,r)=>e?s(e):r)))}else n.push(o)}return n}function a(t){e.lastIndex=0;const r=[];let i;for(;null!==(i=e.exec(t));){const t=i[1];if(i[2]){const e=o(t,i[2]);r.push([t].concat(e))}else r.push([t])}return r}function l(t,e){const r={};for(const t of e)for(const e of t.styles)r[e[0]]=t.inverse?null:e.slice(1);let i=t;for(const[t,e]of Object.entries(r))if(Array.isArray(e)){if(!(t in i))throw new Error(`Unknown Chalk style: ${t}`);i=e.length>0?i[t](...e):i[t]}return i}return Rt=(e,r)=>{const i=[],n=[];let o=[];if(r.replace(t,((t,r,u,h,c,d)=>{if(r)o.push(s(r));else if(h){const t=o.join("");o=[],n.push(0===i.length?t:l(e,i)(t)),i.push({inverse:u,styles:a(h)})}else if(c){if(0===i.length)throw new Error("Found extraneous } in Chalk template literal");n.push(l(e,i)(o.join(""))),o=[],i.pop()}else o.push(d)})),n.push(o.join("")),i.length>0){const t=`Chalk template literal is missing ${i.length} closing bracket${1===i.length?"":"s"} (\`}\`)`;throw new Error(t)}return n.join("")},Rt}()),Jt(t,n.join(""))};Object.defineProperties(Gt.prototype,Ut);const Xt=Gt();Xt.supportsColor=jt,Xt.stderr=Gt({level:Bt?Bt.level:0}),Xt.stderr.supportsColor=Bt;var te,ee,re,ie,ne,se,oe,ae,le,ue,he,ce,de,fe,pe,me,ge,be,ye,we,ve,_e,De,Se,Ee,xe,ke,Ce,Oe,Te,Ae,Fe,Re,Me,Pe,Ie,je,Be,Le,Ne,$e,We,Ue,ze,He,Ge,Ve,qe,Ye,Ze,Ke,Je,Qe,Xe,tr,er,rr,ir,nr,sr,or,ar,lr,ur,hr,cr,dr,fr=Xt,pr=v(fr),mr={};function gr(){if(ee)return te;ee=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,TERM:r}=process.env,i={enabled:!e&&"dumb"!==r&&"0"!==t,reset:s(0,0),bold:s(1,22),dim:s(2,22),italic:s(3,23),underline:s(4,24),inverse:s(7,27),hidden:s(8,28),strikethrough:s(9,29),black:s(30,39),red:s(31,39),green:s(32,39),yellow:s(33,39),blue:s(34,39),magenta:s(35,39),cyan:s(36,39),white:s(37,39),gray:s(90,39),grey:s(90,39),bgBlack:s(40,49),bgRed:s(41,49),bgGreen:s(42,49),bgYellow:s(43,49),bgBlue:s(44,49),bgMagenta:s(45,49),bgCyan:s(46,49),bgWhite:s(47,49)};function n(t,e){let r,i=0,n="",s="";for(;i<t.length;i++)r=t[i],n+=r.open,s+=r.close,e.includes(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return n+e+s}function s(t,e){let r={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),void 0===e?this:i.enabled?n(this.keys,e+""):e+""):void 0===e?function(t,e){let r={has:t,keys:e};return r.reset=i.reset.bind(r),r.bold=i.bold.bind(r),r.dim=i.dim.bind(r),r.italic=i.italic.bind(r),r.underline=i.underline.bind(r),r.inverse=i.inverse.bind(r),r.hidden=i.hidden.bind(r),r.strikethrough=i.strikethrough.bind(r),r.black=i.black.bind(r),r.red=i.red.bind(r),r.green=i.green.bind(r),r.yellow=i.yellow.bind(r),r.blue=i.blue.bind(r),r.magenta=i.magenta.bind(r),r.cyan=i.cyan.bind(r),r.white=i.white.bind(r),r.gray=i.gray.bind(r),r.grey=i.grey.bind(r),r.bgBlack=i.bgBlack.bind(r),r.bgRed=i.bgRed.bind(r),r.bgGreen=i.bgGreen.bind(r),r.bgYellow=i.bgYellow.bind(r),r.bgBlue=i.bgBlue.bind(r),r.bgMagenta=i.bgMagenta.bind(r),r.bgCyan=i.bgCyan.bind(r),r.bgWhite=i.bgWhite.bind(r),r}([t],[r]):i.enabled?n([r],e+""):e+""}}return te=i}function br(){return se||(se=1,ne=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return"string"==typeof t?t.replace(r,""):t}),ne}function yr(){if(ae)return oe;ae=1;const t="[",e={to:(e,r)=>r?`${t}${r+1};${e+1}H`:`${t}${e+1}G`,move(e,r){let i="";return e<0?i+=`${t}${-e}D`:e>0&&(i+=`${t}${e}C`),r<0?i+=`${t}${-r}A`:r>0&&(i+=`${t}${r}B`),i},up:(e=1)=>`${t}${e}A`,down:(e=1)=>`${t}${e}B`,forward:(e=1)=>`${t}${e}C`,backward:(e=1)=>`${t}${e}D`,nextLine:(e=1)=>`${t}E`.repeat(e),prevLine:(e=1)=>`${t}F`.repeat(e),left:`${t}G`,hide:`${t}?25l`,show:`${t}?25h`,save:"7",restore:"8"},r={screen:`${t}2J`,up:(e=1)=>`${t}1J`.repeat(e),down:(e=1)=>`${t}J`.repeat(e),line:`${t}2K`,lineEnd:`${t}K`,lineStart:`${t}1K`,lines(t){let r="";for(let i=0;i<t;i++)r+=this.line+(i<t-1?e.up():"");return t&&(r+=e.left),r}};return oe={cursor:e,scroll:{up:(e=1)=>`${t}S`.repeat(e),down:(e=1)=>`${t}T`.repeat(e)},erase:r,beep:""}}function wr(){if(ue)return le;ue=1;const t=br(),{erase:e,cursor:r}=yr();return le=function(i,n){if(!n)return e.line+r.to(0);let s=0;const o=i.split(/\r?\n/);for(let e of o)s+=1+Math.floor(Math.max([...t(e)].length-1,0)/n);return e.lines(s)},le}function vr(){if(ce)return he;ce=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},r="win32"===process.platform?e:t;return he=r}function _r(){if(fe)return de;fe=1;const t=gr(),e=vr(),r=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),i=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return de={styles:r,render:t=>r[t]||r.default,symbols:i,symbol:(t,e,r)=>e?i.aborted:r?i.exited:t?i.done:i.default,delimiter:r=>t.gray(r?e.ellipsis:e.pointerSmall),item:(r,i)=>t.gray(r?i?e.pointerSmall:"+":e.line)},de}function Dr(){if(me)return pe;me=1;const t=br();return pe=function(e,r){let i=String(t(e)||"").split(/\r?\n/);return r?i.map((t=>Math.ceil(t.length/r))).reduce(((t,e)=>t+e)):i.length},pe}function Sr(){return _e||(_e=1,ve={action:ie?re:(ie=1,re=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:wr(),style:_r(),strip:br(),figures:vr(),lines:Dr(),wrap:(be||(be=1,ge=(t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+r.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${r}${e}`),t)),[r]).join("\n"))).join("\n")}),ge),entriesToDisplay:we?ye:(we=1,ye=(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+r,e)}})}),ve}function Er(){if(Se)return De;Se=1;const e=a,{action:r}=Sr(),i=t,{beep:n,cursor:s}=yr(),o=gr();return De=class extends i{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const i=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);const n=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(t,e)=>{let i=r(e,n);!1===i?this._&&this._(t,e):"function"==typeof this[i]?this[i](e):this.bell()};this.close=()=>{this.out.write(s.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(n)}render(){this.onRender(o),this.firstRender&&(this.firstRender=!1)}}}function xr(){if(xe)return Ee;xe=1;const t=gr(),e=Er(),{erase:r,cursor:i}=yr(),{style:n,clear:s,lines:o,figures:a}=Sr();return Ee=class extends e{constructor(t={}){super(t),this.transform=n.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=s("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${r}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(o(this.outputError,this.out.columns)-1)+s(this.outputError,this.out.columns)),this.out.write(s(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,r,i)=>e+`\n${i?" ":a.pointerSmall} ${t.red().italic(r)}`),"")),this.out.write(r.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore+i.move(this.cursorOffset,0)))}}}function kr(){if(Ce)return ke;Ce=1;const t=gr(),e=Er(),{style:r,clear:i,figures:n,wrap:s,entriesToDisplay:o}=Sr(),{cursor:a}=yr();return ke=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=i("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(a.hide):this.out.write(i(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:l}=o(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let r=e;r<l;r++){let i,o,a="",u=this.choices[r];o=r===e&&e>0?n.arrowUp:r===l-1&&l<this.choices.length?n.arrowDown:" ",u.disabled?(i=this.cursor===r?t.gray().underline(u.title):t.strikethrough().gray(u.title),o=(this.cursor===r?t.bold().gray(n.pointer)+" ":"  ")+o):(i=this.cursor===r?t.cyan().underline(u.title):u.title,o=(this.cursor===r?t.cyan(n.pointer)+" ":"  ")+o,u.description&&this.cursor===r&&(a=` - ${u.description}`,(o.length+i.length+a.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(a="\n"+s(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${i}${t.gray(a)}\n`}}this.out.write(this.outputText)}}}function Cr(){if(Te)return Oe;Te=1;const t=gr(),e=Er(),{style:r,clear:i}=Sr(),{cursor:n,erase:s}=yr();return Oe=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(s.line+n.to(0)+this.outputText))}}}function Or(){if(Fe)return Ae;Fe=1;class t{constructor({token:t,date:e,parts:r,locales:i}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=i||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((r,i)=>i>e&&r instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const r=e.indexOf(this);return e.find(((e,i)=>i>r&&e instanceof t))}toString(){return String(this.date)}}return Ae=t}function Tr(){if(Me)return Re;Me=1;const t=Or();return Re=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}},Re}function Ar(){if(Ie)return Pe;Ie=1;const t=Or();return Pe=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(r=t,1==(r%=10)?"st":2===r?"nd":3===r?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var r}},Pe}function Fr(){if(Be)return je;Be=1;const t=Or();return je=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}},je}function Rr(){if(Ne)return Le;Ne=1;const t=Or();return Le=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function Mr(){if(We)return $e;We=1;const t=Or();return $e=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Pr(){if(ze)return Ue;ze=1;const t=Or();return Ue=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}},Ue}function Ir(){if(Ge)return He;Ge=1;const t=Or();return He=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function jr(){if(qe)return Ve;qe=1;const t=Or();return Ve=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}},Ve}function Br(){if(Je)return Ke;Je=1;const t=gr(),e=Er(),{style:r,clear:i,figures:n}=Sr(),{erase:s,cursor:o}=yr(),{DatePart:a,Meridiem:l,Day:u,Hours:h,Milliseconds:c,Minutes:d,Month:f,Seconds:p,Year:m}=Ze?Ye:(Ze=1,Ye={DatePart:Or(),Meridiem:Tr(),Day:Ar(),Hours:Fr(),Milliseconds:Rr(),Minutes:Mr(),Month:Pr(),Seconds:Ir(),Year:jr()}),g=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,b={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new u(t),3:t=>new f(t),4:t=>new m(t),5:t=>new l(t),6:t=>new h(t),7:t=>new d(t),8:t=>new p(t),9:t=>new c(t)},y={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return Ke=class extends e{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(y,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=i("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=g.exec(t);){let t=e.shift(),r=e.findIndex((t=>null!=t));this.parts.push(r in b?b[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof a))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof a))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.parts.reduce(((e,r,i)=>e.concat(i!==this.cursor||this.done?r:t.cyan().underline(r.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((e,r,i)=>e+`\n${i?" ":n.pointerSmall} ${t.red().italic(r)}`),"")),this.out.write(s.line+o.to(0)+this.outputText))}},Ke}function Lr(){if(Xe)return Qe;Xe=1;const t=gr(),e=Er(),{cursor:r,erase:i}=yr(),{style:n,figures:s,clear:o,lines:a}=Sr(),l=/[0-9]/,u=t=>void 0!==t,h=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};return Qe=class extends e{constructor(t={}){super(t),this.transform=n.render(t.style),this.msg=t.message,this.initial=u(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=u(t.min)?t.min:-1/0,this.max=u(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${h(e,this.round)}`),this._value=h(e,this.round)):(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||l.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(a(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:t[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,r,i)=>e+`\n${i?" ":s.pointerSmall} ${t.red().italic(r)}`),"")),this.out.write(i.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore))}}}function Nr(){if(er)return tr;er=1;const t=gr(),{cursor:e}=yr(),r=Er(),{clear:i,figures:n,style:s,wrap:o,entriesToDisplay:a}=Sr();return tr=class extends r{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=i("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,r,i,s){const a=(r.selected?t.green(n.radioOn):n.radioOff)+" "+s+" ";let l,u;return r.disabled?l=e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):(l=e===i?t.cyan().underline(r.title):r.title,e===i&&r.description&&(u=` - ${r.description}`,(a.length+l.length+u.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(u="\n"+o(r.description,{margin:a.length,width:this.out.columns})))),a+l+t.gray(u||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let r,{startIndex:i,endIndex:s}=a(this.cursor,e.length,this.optionsPerPage),o=[];for(let t=i;t<s;t++)r=t===i&&i>0?n.arrowUp:t===s-1&&s<e.length?n.arrowDown:" ",o.push(this.renderOption(this.cursor,e[t],t,r));return"\n"+o.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.value),this.out.write(this.clear+r),this.clear=i(r,this.out.columns)}},tr}function $r(){if(ir)return rr;ir=1;const t=gr(),e=Er(),{erase:r,cursor:i}=yr(),{style:n,clear:s,figures:o,wrap:a,entriesToDisplay:l}=Sr(),u=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),h=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return rr=class extends e{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const r=t.findIndex((t=>t.value===e||t.title===e));return r>-1?r:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=n.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=s("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=u(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),r=await e;if(this.completing!==e)return;this.suggestions=r.map(((t,e,r)=>({title:h(r,e),value:u(r,e),description:t.description}))),this.completing=!1;const i=Math.max(r.length-1,0);this.moveSelect(Math.min(i,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${r}${t}${i}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,i,n){let s,l=i?o.arrowUp:n?o.arrowDown:" ",u=r?t.cyan().underline(e.title):e.title;return l=(r?t.cyan(o.pointer)+" ":"  ")+l,e.description&&(s=` - ${e.description}`,(l.length+u.length+s.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(s="\n"+a(e.description,{margin:3,width:this.out.columns}))),l+" "+u+t.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(i.hide):this.out.write(s(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:o}=l(this.select,this.choices.length,this.limit);if(this.outputText=[n.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),n.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const r=this.suggestions.slice(e,o).map(((t,r)=>this.renderOption(t,this.select===r+e,0===r&&e>0,r+e===o-1&&o<this.choices.length))).join("\n");this.outputText+="\n"+(r||t.gray(this.fallback.title))}this.out.write(r.line+i.to(0)+this.outputText)}},rr}function Wr(){if(sr)return nr;sr=1;const t=gr(),{cursor:e}=yr(),r=Nr(),{clear:i,style:n,figures:s}=Sr();return nr=class extends r{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=i("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${s.arrowUp}/${s.arrowDown}: Highlight option\n    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,r,i){let n;return n=r.disabled?e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):e===i?t.cyan().underline(r.title):r.title,(r.selected?t.green(s.radioOn):s.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+r),this.clear=i(r,this.out.columns)}},nr}function Ur(){if(ar)return or;ar=1;const t=gr(),e=Er(),{style:r,clear:i}=Sr(),{erase:n,cursor:s}=yr();return or=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(n.line+s.to(0)+this.outputText))}}}function zr(){return hr||(hr=1,function(t){const e=mr,r=ur?lr:(ur=1,lr={TextPrompt:xr(),SelectPrompt:kr(),TogglePrompt:Cr(),DatePrompt:Br(),NumberPrompt:Lr(),MultiselectPrompt:Nr(),AutocompletePrompt:$r(),AutocompleteMultiselectPrompt:Wr(),ConfirmPrompt:Ur()}),i=t=>t;function n(t,e,n={}){return new Promise(((s,o)=>{const a=new r[t](e),l=n.onAbort||i,u=n.onSubmit||i,h=n.onExit||i;a.on("state",e.onState||i),a.on("submit",(t=>s(u(t)))),a.on("exit",(t=>s(h(t)))),a.on("abort",(t=>o(l(t))))}))}e.text=t=>n("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>n("NumberPrompt",t),e.date=t=>n("DatePrompt",t),e.confirm=t=>n("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return n("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>n("TogglePrompt",t),e.select=t=>n("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return n("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return n("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const s=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||s,t.choices=[].concat(t.choices||[]),n("AutocompletePrompt",t))}()),mr}var Hr,Gr,Vr,qr,Yr,Zr,Kr,Jr,Qr,Xr,ti,ei,ri,ii,ni,si,oi,ai,li,ui,hi,ci,di,fi,pi,mi,gi,bi,yi,wi,vi,_i,Di,Si,Ei,xi,ki,Ci,Oi,Ti,Ai,Fi,Ri,Mi,Pi,Ii,ji,Bi,Li,Ni,$i,Wi,Ui,zi,Hi,Gi,Vi,qi,Yi,Zi,Ki,Ji,Qi,Xi={};function tn(){return qr||(qr=1,Vr=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return"string"==typeof t?t.replace(r,""):t}),Vr}function en(){if(Zr)return Yr;function t(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw o}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}Zr=1;const r=tn(),i=yr(),n=i.erase,s=i.cursor;return Yr=function(e,i){if(!i)return n.line+s.to(0);let o=0;var a,l=t(e.split(/\r?\n/));try{for(l.s();!(a=l.n()).done;){let t=a.value;o+=1+Math.floor(Math.max([...r(t)].length-1,0)/i)}}catch(t){l.e(t)}finally{l.f()}return n.lines(o)},Yr}function rn(){if(Jr)return Kr;Jr=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},r="win32"===process.platform?e:t;return Kr=r}function nn(){if(Xr)return Qr;Xr=1;const t=gr(),e=rn(),r=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),i=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return Qr={styles:r,render:t=>r[t]||r.default,symbols:i,symbol:(t,e,r)=>e?i.aborted:r?i.exited:t?i.done:i.default,delimiter:r=>t.gray(r?e.ellipsis:e.pointerSmall),item:(r,i)=>t.gray(r?i?e.pointerSmall:"+":e.line)},Qr}function sn(){if(ei)return ti;ei=1;const t=tn();return ti=function(e,r){let i=String(t(e)||"").split(/\r?\n/);return r?i.map((t=>Math.ceil(t.length/r))).reduce(((t,e)=>t+e)):i.length}}function on(){return ai||(ai=1,oi={action:Gr?Hr:(Gr=1,Hr=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:en(),style:nn(),strip:tn(),figures:rn(),lines:sn(),wrap:(ii||(ii=1,ri=(t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+r.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${r}${e}`),t)),[r]).join("\n"))).join("\n")}),ri),entriesToDisplay:si?ni:(si=1,ni=(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+r,e)}})}),oi}function an(){if(ui)return li;ui=1;const e=a,r=on().action,i=t,n=yr(),s=n.beep,o=n.cursor,l=gr();return li=class extends i{constructor(t={}){super(),this.firstRender=!0,this.in=t.stdin||process.stdin,this.out=t.stdout||process.stdout,this.onRender=(t.onRender||(()=>{})).bind(this);const i=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);const n=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(t,e)=>{let i=r(e,n);!1===i?this._&&this._(t,e):"function"==typeof this[i]?this[i](e):this.bell()};this.close=()=>{this.out.write(o.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(s)}render(){this.onRender(l),this.firstRender&&(this.firstRender=!1)}}}function ln(){if(ci)return hi;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(e){return function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))}}ci=1;const r=gr(),i=an(),n=yr(),s=n.erase,o=n.cursor,a=on(),l=a.style,u=a.clear,h=a.lines,c=a.figures;return hi=class extends i{constructor(t={}){super(t),this.transform=l.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=r.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${r}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(h(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),r.bold(this.msg),l.delimiter(this.done),this.red?r.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":c.pointerSmall} ${r.red().italic(e)}`),"")),this.out.write(s.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore+o.move(this.cursorOffset,0)))}}}function un(){if(fi)return di;fi=1;const t=gr(),e=an(),r=on(),i=r.style,n=r.clear,s=r.figures,o=r.wrap,a=r.entriesToDisplay,l=yr().cursor;return di=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=n("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(l.hide):this.out.write(n(this.outputText,this.out.columns)),super.render();let e=a(this.cursor,this.choices.length,this.optionsPerPage),r=e.startIndex,u=e.endIndex;if(this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let e=r;e<u;e++){let i,n,a="",l=this.choices[e];n=e===r&&r>0?s.arrowUp:e===u-1&&u<this.choices.length?s.arrowDown:" ",l.disabled?(i=this.cursor===e?t.gray().underline(l.title):t.strikethrough().gray(l.title),n=(this.cursor===e?t.bold().gray(s.pointer)+" ":"  ")+n):(i=this.cursor===e?t.cyan().underline(l.title):l.title,n=(this.cursor===e?t.cyan(s.pointer)+" ":"  ")+n,l.description&&this.cursor===e&&(a=` - ${l.description}`,(n.length+i.length+a.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(a="\n"+o(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${i}${t.gray(a)}\n`}}this.out.write(this.outputText)}}}function hn(){if(mi)return pi;mi=1;const t=gr(),e=an(),r=on(),i=r.style,n=r.clear,s=yr(),o=s.cursor,a=s.erase;return pi=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(a.line+o.to(0)+this.outputText))}}}function cn(){if(bi)return gi;bi=1;class t{constructor({token:t,date:e,parts:r,locales:i}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=i||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((r,i)=>i>e&&r instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const r=e.indexOf(this);return e.find(((e,i)=>i>r&&e instanceof t))}toString(){return String(this.date)}}return gi=t}function dn(){if(wi)return yi;wi=1;const t=cn();return yi=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}}function fn(){if(_i)return vi;_i=1;const t=cn();return vi=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(r=t,1==(r%=10)?"st":2===r?"nd":3===r?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var r}},vi}function pn(){if(Si)return Di;Si=1;const t=cn();return Di=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}}function mn(){if(xi)return Ei;xi=1;const t=cn();return Ei=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function gn(){if(Ci)return ki;Ci=1;const t=cn();return ki=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function bn(){if(Ti)return Oi;Ti=1;const t=cn();return Oi=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}}}function yn(){if(Fi)return Ai;Fi=1;const t=cn();return Ai=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function wn(){if(Mi)return Ri;Mi=1;const t=cn();return Ri=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}}function vn(){if(Bi)return ji;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(e){return function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))}}Bi=1;const r=gr(),i=an(),n=on(),s=n.style,o=n.clear,a=n.figures,l=yr(),u=l.erase,h=l.cursor,c=Ii?Pi:(Ii=1,Pi={DatePart:cn(),Meridiem:dn(),Day:fn(),Hours:pn(),Milliseconds:mn(),Minutes:gn(),Month:bn(),Seconds:yn(),Year:wn()}),d=c.DatePart,f=c.Meridiem,p=c.Day,m=c.Hours,g=c.Milliseconds,b=c.Minutes,y=c.Month,w=c.Seconds,v=c.Year,_=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,D={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new p(t),3:t=>new y(t),4:t=>new v(t),5:t=>new f(t),6:t=>new m(t),7:t=>new b(t),8:t=>new w(t),9:t=>new g(t)},S={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return ji=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(S,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=o("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=_.exec(t);){let t=e.shift(),r=e.findIndex((t=>null!=t));this.parts.push(r in D?D[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof d))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof d))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[s.symbol(this.done,this.aborted),r.bold(this.msg),s.delimiter(!1),this.parts.reduce(((t,e,i)=>t.concat(i!==this.cursor||this.done?e:r.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":a.pointerSmall} ${r.red().italic(e)}`),"")),this.out.write(u.line+h.to(0)+this.outputText))}},ji}function _n(){if(Ni)return Li;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(e){return function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))}}Ni=1;const r=gr(),i=an(),n=yr(),s=n.cursor,o=n.erase,a=on(),l=a.style,u=a.figures,h=a.clear,c=a.lines,d=/[0-9]/,f=t=>void 0!==t,p=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};return Li=class extends i{constructor(t={}){super(t),this.transform=l.render(t.style),this.msg=t.message,this.initial=f(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=f(t.min)?t.min:-1/0,this.max=f(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${p(t,this.round)}`),this._value=p(t,this.round)):(this.placeholder=!0,this.rendered=r.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||d.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(s.down(c(this.outputError,this.out.columns)-1)+h(this.outputError,this.out.columns)),this.out.write(h(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),r.bold(this.msg),l.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:r[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":u.pointerSmall} ${r.red().italic(e)}`),"")),this.out.write(o.line+s.to(0)+this.outputText+s.save+this.outputError+s.restore))}}}function Dn(){if(Wi)return $i;Wi=1;const t=gr(),e=yr().cursor,r=an(),i=on(),n=i.clear,s=i.figures,o=i.style,a=i.wrap,l=i.entriesToDisplay;return $i=class extends r{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=n("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${s.arrowUp}/${s.arrowDown}: Highlight option\n    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,r,i,n){const o=(r.selected?t.green(s.radioOn):s.radioOff)+" "+n+" ";let l,u;return r.disabled?l=e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):(l=e===i?t.cyan().underline(r.title):r.title,e===i&&r.description&&(u=` - ${r.description}`,(o.length+l.length+u.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(u="\n"+a(r.description,{margin:o.length,width:this.out.columns})))),o+l+t.gray(u||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let r,i=l(this.cursor,e.length,this.optionsPerPage),n=i.startIndex,o=i.endIndex,a=[];for(let t=n;t<o;t++)r=t===n&&n>0?s.arrowUp:t===o-1&&o<e.length?s.arrowDown:" ",a.push(this.renderOption(this.cursor,e[t],t,r));return"\n"+a.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[o.symbol(this.done,this.aborted),t.bold(this.msg),o.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.value),this.out.write(this.clear+r),this.clear=n(r,this.out.columns)}},$i}function Sn(){if(zi)return Ui;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}zi=1;const e=gr(),r=an(),i=yr(),n=i.erase,s=i.cursor,o=on(),a=o.style,l=o.clear,u=o.figures,h=o.wrap,c=o.entriesToDisplay,d=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),f=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return Ui=class extends r{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const r=t.findIndex((t=>t.value===e||t.title===e));return r>-1?r:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=a.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=l("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=d(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(e){var r,i=this;return(r=function*(){const t=i.completing=i.suggest(i.input,i.choices),r=yield t;if(i.completing!==t)return;i.suggestions=r.map(((t,e,r)=>({title:f(r,e),value:d(r,e),description:t.description}))),i.completing=!1;const n=Math.max(r.length-1,0);i.moveSelect(Math.min(n,i.select)),e&&e()},function(){var e=this,i=arguments;return new Promise((function(n,s){var o=r.apply(e,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${r}${t}${i}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,r,i,n){let s,o=i?u.arrowUp:n?u.arrowDown:" ",a=r?e.cyan().underline(t.title):t.title;return o=(r?e.cyan(u.pointer)+" ":"  ")+o,t.description&&(s=` - ${t.description}`,(o.length+a.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(s="\n"+h(t.description,{margin:3,width:this.out.columns}))),o+" "+a+e.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(s.hide):this.out.write(l(this.outputText,this.out.columns)),super.render();let t=c(this.select,this.choices.length,this.limit),r=t.startIndex,i=t.endIndex;if(this.outputText=[a.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(r,i).map(((t,e)=>this.renderOption(t,this.select===e+r,0===e&&r>0,e+r===i-1&&i<this.choices.length))).join("\n");this.outputText+="\n"+(t||e.gray(this.fallback.title))}this.out.write(n.line+s.to(0)+this.outputText)}},Ui}function En(){if(Gi)return Hi;Gi=1;const t=gr(),e=yr().cursor,r=Dn(),i=on(),n=i.clear,s=i.style,o=i.figures;return Hi=class extends r{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=n("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${o.arrowUp}/${o.arrowDown}: Highlight option\n    ${o.arrowLeft}/${o.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,r,i){let n;return n=r.disabled?e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):e===i?t.cyan().underline(r.title):r.title,(r.selected?t.green(o.radioOn):o.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+r),this.clear=n(r,this.out.columns)}},Hi}function xn(){if(qi)return Vi;qi=1;const t=gr(),e=an(),r=on(),i=r.style,n=r.clear,s=yr(),o=s.erase,a=s.cursor;return Vi=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(a.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(o.line+a.to(0)+this.outputText))}}}function kn(){return Ki||(Ki=1,function(t){const e=Xi,r=Zi?Yi:(Zi=1,Yi={TextPrompt:ln(),SelectPrompt:un(),TogglePrompt:hn(),DatePrompt:vn(),NumberPrompt:_n(),MultiselectPrompt:Dn(),AutocompletePrompt:Sn(),AutocompleteMultiselectPrompt:En(),ConfirmPrompt:xn()}),i=t=>t;function n(t,e,n={}){return new Promise(((s,o)=>{const a=new r[t](e),l=n.onAbort||i,u=n.onSubmit||i,h=n.onExit||i;a.on("state",e.onState||i),a.on("submit",(t=>s(u(t)))),a.on("exit",(t=>s(h(t)))),a.on("abort",(t=>o(l(t))))}))}e.text=t=>n("TextPrompt",t),e.password=t=>(t.style="password",e.text(t)),e.invisible=t=>(t.style="invisible",e.text(t)),e.number=t=>n("NumberPrompt",t),e.date=t=>n("DatePrompt",t),e.confirm=t=>n("ConfirmPrompt",t),e.list=t=>{const e=t.separator||",";return n("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},e.toggle=t=>n("TogglePrompt",t),e.select=t=>n("SelectPrompt",t),e.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return n("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},e.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return n("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const s=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));e.autocomplete=t=>(t.suggest=t.suggest||s,t.choices=[].concat(t.choices||[]),n("AutocompletePrompt",t))}()),Xi}var Cn=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}("8.6.0")?function(){if(Qi)return Ji;function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function s(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function a(t){s(o,i,n,a,l,"next",t)}function l(t){s(o,i,n,a,l,"throw",t)}a(void 0)}))}}Qi=1;const a=kn(),l=["suggest","format","onState","validate","onRender","type"],u=()=>{};function h(){return c.apply(this,arguments)}function c(){return c=o((function*(t=[],{onSubmit:r=u,onCancel:n=u}={}){const s={},c=h._override||{};let f,p,m,g,b,y;t=[].concat(t);const w=function(){var t=o((function*(t,e,r=!1){if(r||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,s):e}));return function(e,r){return t.apply(this,arguments)}}();var v,_=i(t);try{for(_.s();!(v=_.n()).done;){p=v.value;var D=p;if(g=D.name,b=D.type,"function"==typeof b&&(b=yield b(f,e({},s),p),p.type=b),b){for(let t in p){if(l.includes(t))continue;let r=p[t];p[t]="function"==typeof r?yield r(f,e({},s),y):r}if(y=p,"string"!=typeof p.message)throw new Error("prompt message is required");var S=p;if(g=S.name,b=S.type,void 0===a[b])throw new Error(`prompt type (${b}) is not defined`);if(void 0===c[p.name]||(f=yield w(p,c[p.name]),void 0===f)){try{f=h._injected?d(h._injected,p.initial):yield a[b](p),s[g]=f=yield w(p,f,!0),m=yield r(p,f,s)}catch(t){m=!(yield n(p,s))}if(m)return s}else s[g]=f}}}catch(t){_.e(t)}finally{_.f()}return s})),c.apply(this,arguments)}function d(t,e){const r=t.shift();if(r instanceof Error)throw r;return void 0===r?e:r}return Ji=Object.assign(h,{prompt:h,prompts:a,inject:function(t){h._injected=(h._injected||[]).concat(t)},override:function(t){h._override=Object.assign({},t)}})}():function(){if(dr)return cr;dr=1;const t=zr(),e=["suggest","format","onState","validate","onRender","type"],r=()=>{};async function i(s=[],{onSubmit:o=r,onCancel:a=r}={}){const l={},u=i._override||{};let h,c,d,f,p,m;s=[].concat(s);const g=async(t,e,r=!1)=>{if(r||!t.validate||!0===t.validate(e))return t.format?await t.format(e,l):e};for(c of s)if(({name:f,type:p}=c),"function"==typeof p&&(p=await p(h,{...l},c),c.type=p),p){for(let t in c){if(e.includes(t))continue;let r=c[t];c[t]="function"==typeof r?await r(h,{...l},m):r}if(m=c,"string"!=typeof c.message)throw new Error("prompt message is required");if(({name:f,type:p}=c),void 0===t[p])throw new Error(`prompt type (${p}) is not defined`);if(void 0===u[c.name]||(h=await g(c,u[c.name]),void 0===h)){try{h=i._injected?n(i._injected,c.initial):await t[p](c),l[f]=h=await g(c,h,!0),d=await o(c,h,l)}catch(t){d=!await a(c,l)}if(d)return l}else l[f]=h}return l}function n(t,e){const r=t.shift();if(r instanceof Error)throw r;return void 0===r?e:r}return cr=Object.assign(i,{prompt:i,prompts:t,inject:function(t){i._injected=(i._injected||[]).concat(t)},override:function(t){i._override=Object.assign({},t)}})}(),On=v(Cn),Tn={exports:{}},An={},Fn={exports:{}},Rn={exports:{}};const Mn=(t,e)=>{for(const r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};Rn.exports=Mn,Rn.exports.default=Mn;const Pn=Rn.exports,In=new WeakMap,jn=(t,e={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let r,i=0;const n=t.displayName||t.name||"<anonymous>",s=function(...o){if(In.set(s,++i),1===i)r=t.apply(this,o),t=null;else if(!0===e.throw)throw new Error(`Function \`${n}\` can only be called once`);return r};return Pn(s,t),In.set(s,i),s};Fn.exports=jn,Fn.exports.default=jn,Fn.exports.callCount=t=>{if(!In.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return In.get(t)};var Bn,Ln=Fn.exports,Nn={exports:{}},$n={exports:{}};var Wn=w.process;const Un=function(t){return t&&"object"==typeof t&&"function"==typeof t.removeListener&&"function"==typeof t.emit&&"function"==typeof t.reallyExit&&"function"==typeof t.listeners&&"function"==typeof t.kill&&"number"==typeof t.pid&&"function"==typeof t.on};if(Un(Wn)){var zn,Hn=l,Gn=(Bn||(Bn=1,(is=$n).exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&is.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&is.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")),$n.exports),Vn=/^win/i.test(Wn.platform),qn=t;"function"!=typeof qn&&(qn=qn.EventEmitter),Wn.__signal_exit_emitter__?zn=Wn.__signal_exit_emitter__:((zn=Wn.__signal_exit_emitter__=new qn).count=0,zn.emitted={}),zn.infinite||(zn.setMaxListeners(1/0),zn.infinite=!0),Nn.exports=function(t,e){if(!Un(w.process))return function(){};Hn.equal(typeof t,"function","a callback must be provided for exit handler"),!1===Jn&&Qn();var r="exit";e&&e.alwaysLast&&(r="afterexit");return zn.on(r,t),function(){zn.removeListener(r,t),0===zn.listeners("exit").length&&0===zn.listeners("afterexit").length&&Yn()}};var Yn=function(){Jn&&Un(w.process)&&(Jn=!1,Gn.forEach((function(t){try{Wn.removeListener(t,Kn[t])}catch(t){}})),Wn.emit=es,Wn.reallyExit=Xn,zn.count-=1)};Nn.exports.unload=Yn;var Zn=function(t,e,r){zn.emitted[t]||(zn.emitted[t]=!0,zn.emit(t,e,r))},Kn={};Gn.forEach((function(t){Kn[t]=function(){Un(w.process)&&(Wn.listeners(t).length===zn.count&&(Yn(),Zn("exit",null,t),Zn("afterexit",null,t),Vn&&"SIGHUP"===t&&(t="SIGINT"),Wn.kill(Wn.pid,t)))}})),Nn.exports.signals=function(){return Gn};var Jn=!1,Qn=function(){!Jn&&Un(w.process)&&(Jn=!0,zn.count+=1,Gn=Gn.filter((function(t){try{return Wn.on(t,Kn[t]),!0}catch(t){return!1}})),Wn.emit=rs,Wn.reallyExit=ts)};Nn.exports.load=Qn;var Xn=Wn.reallyExit,ts=function(t){Un(w.process)&&(Wn.exitCode=t||0,Zn("exit",Wn.exitCode,null),Zn("afterexit",Wn.exitCode,null),Xn.call(Wn,Wn.exitCode))},es=Wn.emit,rs=function(t,e){if("exit"===t&&Un(w.process)){void 0!==e&&(Wn.exitCode=e);var r=es.apply(this,arguments);return Zn("exit",Wn.exitCode,null),Zn("afterexit",Wn.exitCode,null),r}return es.apply(this,arguments)}}else Nn.exports=function(){return function(){}};var is;const ns=Nn.exports;var ss=Ln((()=>{ns((()=>{process.stderr.write("[?25h")}),{alwaysLast:!0})}));!function(t){const e=ss;let r=!1;t.show=(t=process.stderr)=>{t.isTTY&&(r=!1,t.write("[?25h"))},t.hide=(t=process.stderr)=>{t.isTTY&&(e(),r=!0,t.write("[?25l"))},t.toggle=(e,i)=>{void 0!==e&&(r=e),r?t.show(i):t.hide(i)}}(An);var os={dots:{interval:80,frames:["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]},dots2:{interval:80,frames:["⣾","⣽","⣻","⢿","⡿","⣟","⣯","⣷"]},dots3:{interval:80,frames:["⠋","⠙","⠚","⠞","⠖","⠦","⠴","⠲","⠳","⠓"]},dots4:{interval:80,frames:["⠄","⠆","⠇","⠋","⠙","⠸","⠰","⠠","⠰","⠸","⠙","⠋","⠇","⠆"]},dots5:{interval:80,frames:["⠋","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋"]},dots6:{interval:80,frames:["⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠴","⠲","⠒","⠂","⠂","⠒","⠚","⠙","⠉","⠁"]},dots7:{interval:80,frames:["⠈","⠉","⠋","⠓","⠒","⠐","⠐","⠒","⠖","⠦","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈"]},dots8:{interval:80,frames:["⠁","⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈","⠈"]},dots9:{interval:80,frames:["⢹","⢺","⢼","⣸","⣇","⡧","⡗","⡏"]},dots10:{interval:80,frames:["⢄","⢂","⢁","⡁","⡈","⡐","⡠"]},dots11:{interval:100,frames:["⠁","⠂","⠄","⡀","⢀","⠠","⠐","⠈"]},dots12:{interval:80,frames:["⢀⠀","⡀⠀","⠄⠀","⢂⠀","⡂⠀","⠅⠀","⢃⠀","⡃⠀","⠍⠀","⢋⠀","⡋⠀","⠍⠁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⢈⠩","⡀⢙","⠄⡙","⢂⠩","⡂⢘","⠅⡘","⢃⠨","⡃⢐","⠍⡐","⢋⠠","⡋⢀","⠍⡁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⠈⠩","⠀⢙","⠀⡙","⠀⠩","⠀⢘","⠀⡘","⠀⠨","⠀⢐","⠀⡐","⠀⠠","⠀⢀","⠀⡀"]},dots13:{interval:80,frames:["⣼","⣹","⢻","⠿","⡟","⣏","⣧","⣶"]},dots8Bit:{interval:80,frames:["⠀","⠁","⠂","⠃","⠄","⠅","⠆","⠇","⡀","⡁","⡂","⡃","⡄","⡅","⡆","⡇","⠈","⠉","⠊","⠋","⠌","⠍","⠎","⠏","⡈","⡉","⡊","⡋","⡌","⡍","⡎","⡏","⠐","⠑","⠒","⠓","⠔","⠕","⠖","⠗","⡐","⡑","⡒","⡓","⡔","⡕","⡖","⡗","⠘","⠙","⠚","⠛","⠜","⠝","⠞","⠟","⡘","⡙","⡚","⡛","⡜","⡝","⡞","⡟","⠠","⠡","⠢","⠣","⠤","⠥","⠦","⠧","⡠","⡡","⡢","⡣","⡤","⡥","⡦","⡧","⠨","⠩","⠪","⠫","⠬","⠭","⠮","⠯","⡨","⡩","⡪","⡫","⡬","⡭","⡮","⡯","⠰","⠱","⠲","⠳","⠴","⠵","⠶","⠷","⡰","⡱","⡲","⡳","⡴","⡵","⡶","⡷","⠸","⠹","⠺","⠻","⠼","⠽","⠾","⠿","⡸","⡹","⡺","⡻","⡼","⡽","⡾","⡿","⢀","⢁","⢂","⢃","⢄","⢅","⢆","⢇","⣀","⣁","⣂","⣃","⣄","⣅","⣆","⣇","⢈","⢉","⢊","⢋","⢌","⢍","⢎","⢏","⣈","⣉","⣊","⣋","⣌","⣍","⣎","⣏","⢐","⢑","⢒","⢓","⢔","⢕","⢖","⢗","⣐","⣑","⣒","⣓","⣔","⣕","⣖","⣗","⢘","⢙","⢚","⢛","⢜","⢝","⢞","⢟","⣘","⣙","⣚","⣛","⣜","⣝","⣞","⣟","⢠","⢡","⢢","⢣","⢤","⢥","⢦","⢧","⣠","⣡","⣢","⣣","⣤","⣥","⣦","⣧","⢨","⢩","⢪","⢫","⢬","⢭","⢮","⢯","⣨","⣩","⣪","⣫","⣬","⣭","⣮","⣯","⢰","⢱","⢲","⢳","⢴","⢵","⢶","⢷","⣰","⣱","⣲","⣳","⣴","⣵","⣶","⣷","⢸","⢹","⢺","⢻","⢼","⢽","⢾","⢿","⣸","⣹","⣺","⣻","⣼","⣽","⣾","⣿"]},sand:{interval:80,frames:["⠁","⠂","⠄","⡀","⡈","⡐","⡠","⣀","⣁","⣂","⣄","⣌","⣔","⣤","⣥","⣦","⣮","⣶","⣷","⣿","⡿","⠿","⢟","⠟","⡛","⠛","⠫","⢋","⠋","⠍","⡉","⠉","⠑","⠡","⢁"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["⠂","-","–","—","–","-"]},pipe:{interval:100,frames:["┤","┘","┴","└","├","┌","┬","┐"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["✶","✸","✹","✺","✹","✷"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","´","-","_","_","_"]},hamburger:{interval:100,frames:["☱","☲","☴"]},growVertical:{interval:120,frames:["▁","▃","▄","▅","▆","▇","▆","▅","▄","▃"]},growHorizontal:{interval:120,frames:["▏","▎","▍","▌","▋","▊","▉","▊","▋","▌","▍","▎"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","°","O","o","."]},noise:{interval:100,frames:["▓","▒","░"]},bounce:{interval:120,frames:["⠁","⠂","⠄","⠂"]},boxBounce:{interval:120,frames:["▖","▘","▝","▗"]},boxBounce2:{interval:100,frames:["▌","▀","▐","▄"]},triangle:{interval:50,frames:["◢","◣","◤","◥"]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["◜","◠","◝","◞","◡","◟"]},circle:{interval:120,frames:["◡","⊙","◠"]},squareCorners:{interval:180,frames:["◰","◳","◲","◱"]},circleQuarters:{interval:120,frames:["◴","◷","◶","◵"]},circleHalves:{interval:50,frames:["◐","◓","◑","◒"]},squish:{interval:100,frames:["╫","╪"]},toggle:{interval:250,frames:["⊶","⊷"]},toggle2:{interval:80,frames:["▫","▪"]},toggle3:{interval:120,frames:["□","■"]},toggle4:{interval:100,frames:["■","□","▪","▫"]},toggle5:{interval:100,frames:["▮","▯"]},toggle6:{interval:300,frames:["ဝ","၀"]},toggle7:{interval:80,frames:["⦾","⦿"]},toggle8:{interval:100,frames:["◍","◌"]},toggle9:{interval:100,frames:["◉","◎"]},toggle10:{interval:100,frames:["㊂","㊀","㊁"]},toggle11:{interval:50,frames:["⧇","⧆"]},toggle12:{interval:120,frames:["☗","☖"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["←","↖","↑","↗","→","↘","↓","↙"]},arrow2:{interval:80,frames:["⬆️ ","↗️ ","➡️ ","↘️ ","⬇️ ","↙️ ","⬅️ ","↖️ "]},arrow3:{interval:120,frames:["▹▹▹▹▹","▸▹▹▹▹","▹▸▹▹▹","▹▹▸▹▹","▹▹▹▸▹","▹▹▹▹▸"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( ●    )","(  ●   )","(   ●  )","(    ● )","(     ●)","(    ● )","(   ●  )","(  ●   )","( ●    )","(●     )"]},smiley:{interval:200,frames:["😄 ","😝 "]},monkey:{interval:300,frames:["🙈 ","🙈 ","🙉 ","🙊 "]},hearts:{interval:100,frames:["💛 ","💙 ","💜 ","💚 ","❤️ "]},clock:{interval:100,frames:["🕛 ","🕐 ","🕑 ","🕒 ","🕓 ","🕔 ","🕕 ","🕖 ","🕗 ","🕘 ","🕙 ","🕚 "]},earth:{interval:180,frames:["🌍 ","🌎 ","🌏 "]},material:{interval:17,frames:["█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███████▁▁▁▁▁▁▁▁▁▁▁▁▁","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","██████████▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","█████████████▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁██████████████▁▁▁▁","▁▁▁██████████████▁▁▁","▁▁▁▁█████████████▁▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁▁▁████████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁██████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","██████▁▁▁▁▁▁▁▁▁▁▁▁▁█","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁▁█████████████▁▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁▁███████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁▁█████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁"]},moon:{interval:80,frames:["🌑 ","🌒 ","🌓 ","🌔 ","🌕 ","🌖 ","🌗 ","🌘 "]},runner:{interval:140,frames:["🚶 ","🏃 "]},pong:{interval:80,frames:["▐⠂       ▌","▐⠈       ▌","▐ ⠂      ▌","▐ ⠠      ▌","▐  ⡀     ▌","▐  ⠠     ▌","▐   ⠂    ▌","▐   ⠈    ▌","▐    ⠂   ▌","▐    ⠠   ▌","▐     ⡀  ▌","▐     ⠠  ▌","▐      ⠂ ▌","▐      ⠈ ▌","▐       ⠂▌","▐       ⠠▌","▐       ⡀▌","▐      ⠠ ▌","▐      ⠂ ▌","▐     ⠈  ▌","▐     ⠂  ▌","▐    ⠠   ▌","▐    ⡀   ▌","▐   ⠠    ▌","▐   ⠂    ▌","▐  ⠈     ▌","▐  ⠂     ▌","▐ ⠠      ▌","▐ ⡀      ▌","▐⠠       ▌"]},shark:{interval:120,frames:["▐|\\____________▌","▐_|\\___________▌","▐__|\\__________▌","▐___|\\_________▌","▐____|\\________▌","▐_____|\\_______▌","▐______|\\______▌","▐_______|\\_____▌","▐________|\\____▌","▐_________|\\___▌","▐__________|\\__▌","▐___________|\\_▌","▐____________|\\▌","▐____________/|▌","▐___________/|_▌","▐__________/|__▌","▐_________/|___▌","▐________/|____▌","▐_______/|_____▌","▐______/|______▌","▐_____/|_______▌","▐____/|________▌","▐___/|_________▌","▐__/|__________▌","▐_/|___________▌","▐/|____________▌"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["☀️ ","☀️ ","☀️ ","🌤 ","⛅️ ","🌥 ","☁️ ","🌧 ","🌨 ","🌧 ","🌨 ","🌧 ","🌨 ","⛈ ","🌨 ","🌧 ","🌨 ","☁️ ","🌥 ","⛅️ ","🌤 ","☀️ ","☀️ "]},christmas:{interval:400,frames:["🌲","🎄"]},grenade:{interval:80,frames:["،  ","′  "," ´ "," ‾ ","  ⸌","  ⸊","  |","  ⁎","  ⁕"," ෴ ","  ⁓","   ","   ","   "]},point:{interval:125,frames:["∙∙∙","●∙∙","∙●∙","∙∙●","∙∙∙"]},layer:{interval:150,frames:["-","=","≡"]},betaWave:{interval:80,frames:["ρββββββ","βρβββββ","ββρββββ","βββρβββ","ββββρββ","βββββρβ","ββββββρ"]},fingerDance:{interval:160,frames:["🤘 ","🤟 ","🖖 ","✋ ","🤚 ","👆 "]},fistBump:{interval:80,frames:["🤜　　　　🤛 ","🤜　　　　🤛 ","🤜　　　　🤛 ","　🤜　　🤛　 ","　　🤜🤛　　 ","　🤜✨🤛　　 ","🤜　✨　🤛　 "]},soccerHeader:{interval:80,frames:[" 🧑⚽️       🧑 ","🧑  ⚽️      🧑 ","🧑   ⚽️     🧑 ","🧑    ⚽️    🧑 ","🧑     ⚽️   🧑 ","🧑      ⚽️  🧑 ","🧑       ⚽️🧑  ","🧑      ⚽️  🧑 ","🧑     ⚽️   🧑 ","🧑    ⚽️    🧑 ","🧑   ⚽️     🧑 ","🧑  ⚽️      🧑 "]},mindblown:{interval:160,frames:["😐 ","😐 ","😮 ","😮 ","😦 ","😦 ","😧 ","😧 ","🤯 ","💥 ","✨ ","　 ","　 ","　 "]},speaker:{interval:160,frames:["🔈 ","🔉 ","🔊 ","🔉 "]},orangePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 "]},bluePulse:{interval:100,frames:["🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},orangeBluePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 ","🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},timeTravel:{interval:100,frames:["🕛 ","🕚 ","🕙 ","🕘 ","🕗 ","🕖 ","🕕 ","🕔 ","🕓 ","🕒 ","🕑 ","🕐 "]},aesthetic:{interval:80,frames:["▰▱▱▱▱▱▱","▰▰▱▱▱▱▱","▰▰▰▱▱▱▱","▰▰▰▰▱▱▱","▰▰▰▰▰▱▱","▰▰▰▰▰▰▱","▰▰▰▰▰▰▰","▰▱▱▱▱▱▱"]},dwarfFortress:{interval:80,frames:[" ██████£££  ","☺██████£££  ","☺██████£££  ","☺▓█████£££  ","☺▓█████£££  ","☺▒█████£££  ","☺▒█████£££  ","☺░█████£££  ","☺░█████£££  ","☺ █████£££  "," ☺█████£££  "," ☺█████£££  "," ☺▓████£££  "," ☺▓████£££  "," ☺▒████£££  "," ☺▒████£££  "," ☺░████£££  "," ☺░████£££  "," ☺ ████£££  ","  ☺████£££  ","  ☺████£££  ","  ☺▓███£££  ","  ☺▓███£££  ","  ☺▒███£££  ","  ☺▒███£££  ","  ☺░███£££  ","  ☺░███£££  ","  ☺ ███£££  ","   ☺███£££  ","   ☺███£££  ","   ☺▓██£££  ","   ☺▓██£££  ","   ☺▒██£££  ","   ☺▒██£££  ","   ☺░██£££  ","   ☺░██£££  ","   ☺ ██£££  ","    ☺██£££  ","    ☺██£££  ","    ☺▓█£££  ","    ☺▓█£££  ","    ☺▒█£££  ","    ☺▒█£££  ","    ☺░█£££  ","    ☺░█£££  ","    ☺ █£££  ","     ☺█£££  ","     ☺█£££  ","     ☺▓£££  ","     ☺▓£££  ","     ☺▒£££  ","     ☺▒£££  ","     ☺░£££  ","     ☺░£££  ","     ☺ £££  ","      ☺£££  ","      ☺£££  ","      ☺▓££  ","      ☺▓££  ","      ☺▒££  ","      ☺▒££  ","      ☺░££  ","      ☺░££  ","      ☺ ££  ","       ☺££  ","       ☺££  ","       ☺▓£  ","       ☺▓£  ","       ☺▒£  ","       ☺▒£  ","       ☺░£  ","       ☺░£  ","       ☺ £  ","        ☺£  ","        ☺£  ","        ☺▓  ","        ☺▓  ","        ☺▒  ","        ☺▒  ","        ☺░  ","        ☺░  ","        ☺   ","        ☺  &","        ☺ ☼&","       ☺ ☼ &","       ☺☼  &","      ☺☼  & ","      ‼   & ","     ☺   &  ","    ‼    &  ","   ☺    &   ","  ‼     &   "," ☺     &    ","‼      &    ","      &     ","      &     ","     &   ░  ","     &   ▒  ","    &    ▓  ","    &    £  ","   &    ░£  ","   &    ▒£  ","  &     ▓£  ","  &     ££  "," &     ░££  "," &     ▒££  ","&      ▓££  ","&      £££  ","      ░£££  ","      ▒£££  ","      ▓£££  ","      █£££  ","     ░█£££  ","     ▒█£££  ","     ▓█£££  ","     ██£££  ","    ░██£££  ","    ▒██£££  ","    ▓██£££  ","    ███£££  ","   ░███£££  ","   ▒███£££  ","   ▓███£££  ","   ████£££  ","  ░████£££  ","  ▒████£££  ","  ▓████£££  ","  █████£££  "," ░█████£££  "," ▒█████£££  "," ▓█████£££  "," ██████£££  "," ██████£££  "]}};const as=Object.assign({},os),ls=Object.keys(as);Object.defineProperty(as,"random",{get(){const t=Math.floor(Math.random()*ls.length),e=ls[t];return as[e]}});var us=as,hs=()=>"win32"!==process.platform||(Boolean(process.env.CI)||Boolean(process.env.WT_SESSION)||"vscode"===process.env.TERM_PROGRAM||"xterm-256color"===process.env.TERM||"alacritty"===process.env.TERM);const cs=fr,ds=hs,fs={info:cs.blue("ℹ"),success:cs.green("✔"),warning:cs.yellow("⚠"),error:cs.red("✖")},ps={info:cs.blue("i"),success:cs.green("√"),warning:cs.yellow("‼"),error:cs.red("×")};var ms=ds()?fs:ps;const gs=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")};var bs=t=>"string"==typeof t?t.replace(gs(),""):t,ys={exports:{}},ws={exports:{}};!function(t){var e=function(){function t(e,i,n,s){"object"==typeof i&&(n=i.depth,s=i.prototype,i.filter,i=i.circular);var o=[],a=[],l="undefined"!=typeof Buffer;return void 0===i&&(i=!0),void 0===n&&(n=1/0),function e(n,u){if(null===n)return null;if(0==u)return n;var h,c;if("object"!=typeof n)return n;if(t.__isArray(n))h=[];else if(t.__isRegExp(n))h=new RegExp(n.source,r(n)),n.lastIndex&&(h.lastIndex=n.lastIndex);else if(t.__isDate(n))h=new Date(n.getTime());else{if(l&&Buffer.isBuffer(n))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(n.length):new Buffer(n.length),n.copy(h),h;void 0===s?(c=Object.getPrototypeOf(n),h=Object.create(c)):(h=Object.create(s),c=s)}if(i){var d=o.indexOf(n);if(-1!=d)return a[d];o.push(n),a.push(h)}for(var f in n){var p;c&&(p=Object.getOwnPropertyDescriptor(c,f)),p&&null==p.set||(h[f]=e(n[f],u-1))}return h}(e,n)}function e(t){return Object.prototype.toString.call(t)}function r(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=r,t}();t.exports&&(t.exports=e)}(ws);var vs=ws.exports,_s=function(t,e){return t=t||{},Object.keys(e).forEach((function(r){void 0===t[r]&&(t[r]=vs(e[r]))})),t},Ds=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],Ss={nul:0,control:0};function Es(t,e){if("string"!=typeof t)return xs(t,e);for(var r=0,i=0;i<t.length;i++){var n=xs(t.charCodeAt(i),e);if(n<0)return-1;r+=n}return r}function xs(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,r=0,i=Ds.length-1;if(t<Ds[0][0]||t>Ds[i][1])return!1;for(;i>=r;)if(e=Math.floor((r+i)/2),t>Ds[e][1])r=e+1;else{if(!(t<Ds[e][0]))return!0;i=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}ys.exports=function(t){return Es(t,Ss)},ys.exports.config=function(t){return t=_s(t||{},Ss),function(e){return Es(e,t)}};var ks,Cs,Os,Ts,As,Fs,Rs=ys.exports,Ms={exports:{}},Ps={exports:{}};function Is(){return Cs?ks:(Cs=1,ks=u)}function js(){if(Ts)return Os;function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}function n(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}Ts=1;var s=h.Buffer,o=c.inspect,a=o&&o.custom||"inspect";function l(t,e,r){s.prototype.copy.call(t,e,r)}return Os=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var r,n,u;return r=t,n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e=s.allocUnsafe(t>>>0),r=this.head,i=0;r;)l(r.data,e,i),i+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,i=e.data;for(t-=i.length;e=e.next;){var n=e.data,s=t>n.length?n.length:t;if(s===n.length?i+=n:i+=n.slice(0,t),0==(t-=s)){s===n.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,i=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var n=r.data,o=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,o),0==(t-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,e}},{key:a,value:function(t,r){return o(this,e(e({},r),{},{depth:0,customInspect:!1}))}}],n&&i(r.prototype,n),u&&i(r,u),Object.defineProperty(r,"prototype",{writable:!1}),t}(),Os}function Bs(){if(Fs)return As;function t(t,i){r(t,i),e(t)}function e(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function r(t,e){t.emit("error",e)}return Fs=1,As={destroy:function(i,n){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(n?n(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,i)):process.nextTick(r,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,(function(r){!n&&r?s._writableState?s._writableState.errorEmitted?process.nextTick(e,s):(s._writableState.errorEmitted=!0,process.nextTick(t,s,r)):process.nextTick(t,s,r):n?(process.nextTick(e,s),n(r)):process.nextTick(e,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}},As}var Ls,Ns,$s,Ws={};function Us(){if(Ls)return Ws;Ls=1;const t={};function e(e,r,i){i||(i=Error);class n extends i{constructor(t,e,i){super(function(t,e,i){return"string"==typeof r?r:r(t,e,i)}(t,e,i))}}n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function r(t,e){if(Array.isArray(t)){const r=t.length;return t=t.map((t=>String(t))),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:2===r?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}return`of ${e} ${String(t)}`}return e("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),e("ERR_INVALID_ARG_TYPE",(function(t,e,i){let n;var s,o;let a;if("string"==typeof e&&(s="not ",e.substr(!o||o<0?0:+o,s.length)===s)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))a=`The ${t} ${n} ${r(e,"type")}`;else{const i=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";a=`The "${t}" ${i} ${n} ${r(e,"type")}`}return a+=". Received type "+typeof i,a}),TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ws.codes=t,Ws}function zs(){if($s)return Ns;$s=1;var t=Us().codes.ERR_INVALID_OPT_VALUE;return Ns={getHighWaterMark:function(e,r,i,n){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(r,n,i);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new t(n?i:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}},Ns}var Hs,Gs={exports:{}},Vs={exports:{}};try{var qs=require("util");if("function"!=typeof qs.inherits)throw"";Gs.exports=qs.inherits}catch(t){Gs.exports=(Hs||(Hs=1,"function"==typeof Object.create?Vs.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Vs.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}),Vs.exports)}var Ys,Zs,Ks,Js,Qs,Xs,to=Gs.exports;function eo(){return Zs?Ys:(Zs=1,Ys=c.deprecate)}function ro(){if(Js)return Ks;function t(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;t.entry=null;for(;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}var e;Js=1,Ks=S,S.WritableState=D;var r={deprecate:eo()},i=Is(),n=h.Buffer,s=(void 0!==w?w:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,a=Bs(),l=zs().getHighWaterMark,u=Us().codes,c=u.ERR_INVALID_ARG_TYPE,d=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,p=u.ERR_STREAM_CANNOT_PIPE,m=u.ERR_STREAM_DESTROYED,g=u.ERR_STREAM_NULL_VALUES,b=u.ERR_STREAM_WRITE_AFTER_END,y=u.ERR_UNKNOWN_ENCODING,v=a.errorOrDestroy;function _(){}function D(r,i,n){e=e||io(),r=r||{},"boolean"!=typeof n&&(n=i instanceof e),this.objectMode=!!r.objectMode,n&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=l(this,r,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===r.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new f;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(T,t,e),t._writableState.errorEmitted=!0,v(t,i)):(n(i),t._writableState.errorEmitted=!0,v(t,i),T(t,e))}(t,r,i,e,n);else{var s=C(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||k(t,r),i?process.nextTick(x,t,r,s,n):x(t,r,s,n)}}(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function S(t){var r=this instanceof(e=e||io());if(!r&&!o.call(S,this))return new S(t);this._writableState=new D(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),i.call(this)}function E(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function x(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),T(t,e)}function k(e,r){r.bufferProcessing=!0;var i=r.bufferedRequest;if(e._writev&&i&&i.next){var n=r.bufferedRequestCount,s=new Array(n),o=r.corkedRequestsFree;o.entry=i;for(var a=0,l=!0;i;)s[a]=i,i.isBuf||(l=!1),i=i.next,a+=1;s.allBuffers=l,E(e,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new t(r),r.bufferedRequestCount=0}else{for(;i;){var u=i.chunk,h=i.encoding,c=i.callback;if(E(e,r,!1,r.objectMode?1:u.length,u,h,c),i=i.next,r.bufferedRequestCount--,r.writing)break}null===i&&(r.lastBufferedRequest=null)}r.bufferedRequest=i,r.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(r){e.pendingcb--,r&&v(t,r),e.prefinished=!0,t.emit("prefinish"),T(t,e)}))}function T(t,e){var r=C(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}return to(S,i),D.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(D.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===S&&(t&&t._writableState instanceof D)}})):o=function(t){return t instanceof this},S.prototype.pipe=function(){v(this,new p)},S.prototype.write=function(t,e,r){var i,o=this._writableState,a=!1,l=!o.objectMode&&(i=t,n.isBuffer(i)||i instanceof s);return l&&!n.isBuffer(t)&&(t=function(t){return n.from(t)}(t)),"function"==typeof e&&(r=e,e=null),l?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=_),o.ending?function(t,e){var r=new b;v(t,r),process.nextTick(e,r)}(this,r):(l||function(t,e,r,i){var n;return null===r?n=new g:"string"==typeof r||e.objectMode||(n=new c("chunk",["string","Buffer"],r)),!n||(v(t,n),process.nextTick(i,n),!1)}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,r,i,s,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=n.from(e,r));return e}(e,i,s);i!==a&&(r=!0,s="buffer",i=a)}var l=e.objectMode?1:i.length;e.length+=l;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:s,isBuf:r,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else E(t,e,!1,l,i,s,o);return u}(this,o,l,t,e,r)),a},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||k(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new y(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,r){r(new d("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,T(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=a.destroy,S.prototype._undestroy=a.undestroy,S.prototype._destroy=function(t,e){e(t)},Ks}function io(){if(Xs)return Qs;Xs=1;var t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Qs=o;var e=Co(),r=ro();to(o,e);for(var i=t(r.prototype),n=0;n<i.length;n++){var s=i[n];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(t){if(!(this instanceof o))return new o(t);e.call(this,t),r.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||process.nextTick(l,this)}function l(t){t.end()}return Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),Qs}var no,so,oo,ao,lo,uo,ho,co,fo,po,mo,go,bo,yo,wo,vo,_o={},Do={exports:{}};function So(){if(so)return _o;so=1;var t=(no||(no=1,function(t,e){var r=h,i=r.Buffer;function n(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),n(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(Do,Do.exports)),Do.exports).Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var i;switch(this.encoding=function(r){var i=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof i&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return i||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,i=4;break;case"utf8":this.fillLast=n,i=4;break;case"base64":this.text=a,this.end=l,i=3;break;default:return this.write=u,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(i)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function c(t){return t&&t.length?this.write(t):""}return _o.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var s=i(e[n]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},_o}function Eo(){if(ao)return oo;ao=1;var t=Us().codes.ERR_STREAM_PREMATURE_CLOSE;function e(){}return oo=function r(i,n,s){if("function"==typeof n)return r(i,null,n);n||(n={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}(s||e);var o=n.readable||!1!==n.readable&&i.readable,a=n.writable||!1!==n.writable&&i.writable,l=function(){i.writable||h()},u=i._writableState&&i._writableState.finished,h=function(){a=!1,u=!0,o||s.call(i)},c=i._readableState&&i._readableState.endEmitted,d=function(){o=!1,c=!0,a||s.call(i)},f=function(t){s.call(i,t)},p=function(){var e;return o&&!c?(i._readableState&&i._readableState.ended||(e=new t),s.call(i,e)):a&&!u?(i._writableState&&i._writableState.ended||(e=new t),s.call(i,e)):void 0},m=function(){i.req.on("finish",h)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(i)?a&&!i._writableState&&(i.on("end",l),i.on("close",l)):(i.on("complete",h),i.on("abort",p),i.req?m():i.on("request",m)),i.on("end",d),i.on("finish",h),!1!==n.error&&i.on("error",f),i.on("close",p),function(){i.removeListener("complete",h),i.removeListener("abort",p),i.removeListener("request",m),i.req&&i.req.removeListener("finish",h),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",h),i.removeListener("end",d),i.removeListener("error",f),i.removeListener("close",p)}},oo}function xo(){if(uo)return lo;var t;function e(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}uo=1;var r=Eo(),i=Symbol("lastResolve"),n=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function h(t,e){return{value:t,done:e}}function c(t){var e=t[i];if(null!==e){var r=t[u].read();null!==r&&(t[a]=null,t[i]=null,t[n]=null,e(h(r,!1)))}}function d(t){process.nextTick(c,t)}var f=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var t=this,e=this[s];if(null!==e)return Promise.reject(e);if(this[o])return Promise.resolve(h(void 0,!0));if(this[u].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[s]?r(t[s]):e(h(void 0,!0))}))}));var r,i=this[a];if(i)r=new Promise(function(t,e){return function(r,i){t.then((function(){e[o]?r(h(void 0,!0)):e[l](r,i)}),i)}}(i,this));else{var n=this[u].read();if(null!==n)return Promise.resolve(h(n,!1));r=new Promise(this[l])}return this[a]=r,r}},e(t,Symbol.asyncIterator,(function(){return this})),e(t,"return",(function(){var t=this;return new Promise((function(e,r){t[u].destroy(null,(function(t){t?r(t):e(h(void 0,!0))}))}))})),t),f);return lo=function(t){var c,f=Object.create(p,(e(c={},u,{value:t,writable:!0}),e(c,i,{value:null,writable:!0}),e(c,n,{value:null,writable:!0}),e(c,s,{value:null,writable:!0}),e(c,o,{value:t._readableState.endEmitted,writable:!0}),e(c,l,{value:function(t,e){var r=f[u].read();r?(f[a]=null,f[i]=null,f[n]=null,t(h(r,!1))):(f[i]=t,f[n]=e)},writable:!0}),c));return f[a]=null,r(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=f[n];return null!==e&&(f[a]=null,f[i]=null,f[n]=null,e(t)),void(f[s]=t)}var r=f[i];null!==r&&(f[a]=null,f[i]=null,f[n]=null,r(h(void 0,!0))),f[o]=!0})),t.on("readable",d.bind(null,f)),f},lo}function ko(){if(co)return ho;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function r(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}co=1;var i=Us().codes.ERR_INVALID_ARG_TYPE;return ho=function(n,s,o){var a;if(s&&"function"==typeof s.next)a=s;else if(s&&s[Symbol.asyncIterator])a=s[Symbol.asyncIterator]();else{if(!s||!s[Symbol.iterator])throw new i("iterable",["Iterable"],s);a=s[Symbol.iterator]()}var l=new n(function(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?e(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({objectMode:!0},o)),u=!1;function h(){return c.apply(this,arguments)}function c(){var e;return e=function*(){try{var t=yield a.next(),e=t.value;t.done?l.push(null):l.push(yield e)?h():u=!1}catch(t){l.destroy(t)}},c=function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))},c.apply(this,arguments)}return l._read=function(){u||(u=!0,h())},l},ho}function Co(){if(po)return fo;var e;po=1,fo=x,x.ReadableState=E,t.EventEmitter;var r=function(t,e){return t.listeners(e).length},i=Is(),n=h.Buffer,s=(void 0!==w?w:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,a=c;o=a&&a.debuglog?a.debuglog("stream"):function(){};var l,u,d,f=js(),p=Bs(),m=zs().getHighWaterMark,g=Us().codes,b=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,v=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;to(x,i);var D=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function E(t,r,i){e=e||io(),t=t||{},"boolean"!=typeof i&&(i=r instanceof e),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=m(this,t,"readableHighWaterMark",i),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(l||(l=So().StringDecoder),this.decoder=new l(t.encoding),this.encoding=t.encoding)}function x(t){if(e=e||io(),!(this instanceof x))return new x(t);var r=this instanceof e;this._readableState=new E(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),i.call(this)}function k(t,e,r,i,a){o("readableAddChunk",e);var l,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(o("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?A(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,F(t)))}(t,u);else if(a||(l=function(t,e){var r;i=e,n.isBuffer(i)||i instanceof s||"string"==typeof e||void 0===e||t.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],e));var i;return r}(u,e)),l)D(t,l);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===n.prototype||(e=function(t){return n.from(t)}(e)),i)u.endEmitted?D(t,new _):C(t,u,e,!0);else if(u.ended)D(t,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?C(t,u,e,!1):R(t,u)):C(t,u,e,!1)}else i||(u.reading=!1,R(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function C(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&A(t)),R(t,e)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=p.destroy,x.prototype._undestroy=p.undestroy,x.prototype._destroy=function(t,e){e(t)},x.prototype.push=function(t,e){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=n.from(t,e),e=""),r=!0),k(this,t,e,!1,r)},x.prototype.unshift=function(t){return k(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){l||(l=So().StringDecoder);var e=new l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=O?t=O:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function A(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(F,t))}function F(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,B(t)}function R(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(M,t,e))}function M(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(o("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function I(t){o("readable nexttick read 0"),t.read(0)}function j(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),B(t),e.flowing&&!e.reading&&t.read(0)}function B(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function L(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function N(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick($,e,t))}function $(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function W(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}return x.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?N(this):A(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&N(this),null;var i,n=e.needReadable;return o("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",n=!0),e.ended||e.reading?o("reading or ended",n=!1):n&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(i=t>0?L(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&N(this)),null!==i&&this.emit("data",i),i},x.prototype._read=function(t){D(this,new v("_read()"))},x.prototype.pipe=function(t,e){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,o("pipe count=%d opts=%j",n.pipesCount,e);var s=(!e||!1!==e.end)&&t!==process.stdout&&t!==process.stderr?l:m;function a(e,r){o("onunpipe"),e===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,o("cleanup"),t.removeListener("close",f),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",d),t.removeListener("unpipe",a),i.removeListener("end",l),i.removeListener("end",m),i.removeListener("data",c),h=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}function l(){o("onend"),t.end()}n.endEmitted?process.nextTick(s):i.once("end",s),t.on("unpipe",a);var u=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&r(t,"data")&&(e.flowing=!0,B(t))}}(i);t.on("drain",u);var h=!1;function c(e){o("ondata");var r=t.write(e);o("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==W(n.pipes,t))&&!h&&(o("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function d(e){o("onerror",e),m(),t.removeListener("error",d),0===r(t,"error")&&D(t,e)}function f(){t.removeListener("finish",p),m()}function p(){o("onfinish"),t.removeListener("close",f),m()}function m(){o("unpipe"),i.unpipe(t)}return i.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",d),t.once("close",f),t.once("finish",p),t.emit("pipe",i),n.flowing||(o("pipe resume"),i.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=W(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},x.prototype.on=function(t,e){var r=i.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,o("on readable",n.length,n.reading),n.length?A(this):n.reading||process.nextTick(I,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(t,e){var r=i.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(P,this),r},x.prototype.removeAllListeners=function(t){var e=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(P,this),e},x.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(j,t,e))}(this,t)),t.paused=!1,this},x.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(n){(o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))})),t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var s=0;s<S.length;s++)t.on(S[s],this.emit.bind(this,S[s]));return this._read=function(e){o("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=xo()),u(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),x._fromList=L,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(t,e){return void 0===d&&(d=ko()),d(x,t,e)}),fo}function Oo(){if(go)return mo;go=1,mo=a;var t=Us().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,i=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=t.ERR_TRANSFORM_WITH_LENGTH_0,s=io();function o(t,e){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new r);i.writechunk=null,i.writecb=null,null!=e&&this.push(e),n(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);s.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?u(this,null,null):this._flush((function(e,r){u(t,e,r)}))}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new n;if(t._transformState.transforming)throw new i;return t.push(null)}return to(a,s),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},a.prototype._transform=function(t,r,i){i(new e("_transform()"))},a.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},a.prototype._destroy=function(t,e){s.prototype._destroy.call(this,t,(function(t){e(t)}))},mo}function To(){if(vo)return wo;var t;vo=1;var e=Us().codes,r=e.ERR_MISSING_ARGS,i=e.ERR_STREAM_DESTROYED;function n(t){if(t)throw t}function s(t){t()}function o(t,e){return t.pipe(e)}return wo=function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];var u,h=function(t){return t.length?"function"!=typeof t[t.length-1]?n:t.pop():n}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new r("streams");var c=a.map((function(e,r){var n=r<a.length-1;return function(e,r,n,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var o=!1;e.on("close",(function(){o=!0})),void 0===t&&(t=Eo()),t(e,{readable:r,writable:n},(function(t){if(t)return s(t);o=!0,s()}));var a=!1;return function(t){if(!o&&!a)return a=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new i("pipe"))}}(e,n,r>0,(function(t){u||(u=t),t&&c.forEach(s),n||(c.forEach(s),h(u))}))}));return a.reduce(o)},wo}!function(t,e){var r=u;"disable"===process.env.READABLE_STREAM&&r?(t.exports=r.Readable,Object.assign(t.exports,r),t.exports.Stream=r):((e=t.exports=Co()).Stream=r||e,e.Readable=e,e.Writable=ro(),e.Duplex=io(),e.Transform=Oo(),e.PassThrough=function(){if(yo)return bo;yo=1,bo=e;var t=Oo();function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return to(e,t),e.prototype._transform=function(t,e,r){r(null,t)},bo}(),e.finished=Eo(),e.pipeline=To())}(Ps,Ps.exports);var Ao=Ps.exports;const{Buffer:Fo}=h,Ro=Symbol.for("BufferList");function Mo(t){if(!(this instanceof Mo))return new Mo(t);Mo._init.call(this,t)}Mo._init=function(t){Object.defineProperty(this,Ro,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},Mo.prototype._new=function(t){return new Mo(t)},Mo.prototype._offset=function(t){if(0===t)return[0,0];let e=0;for(let r=0;r<this._bufs.length;r++){const i=e+this._bufs[r].length;if(t<i||r===this._bufs.length-1)return[r,t-e];e=i}},Mo.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let t=0;t<e;t++)r+=this._bufs[t].length;return r},Mo.prototype.get=function(t){if(t>this.length||t<0)return;const e=this._offset(t);return this._bufs[e[0]][e[1]]},Mo.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},Mo.prototype.copy=function(t,e,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return t||Fo.alloc(0);if(i<=0)return t||Fo.alloc(0);const n=!!t,s=this._offset(r),o=i-r;let a=o,l=n&&e||0,u=s[1];if(0===r&&i===this.length){if(!n)return 1===this._bufs.length?this._bufs[0]:Fo.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,l),l+=this._bufs[e].length;return t}if(a<=this._bufs[s[0]].length-u)return n?this._bufs[s[0]].copy(t,e,u,u+a):this._bufs[s[0]].slice(u,u+a);n||(t=Fo.allocUnsafe(o));for(let e=s[0];e<this._bufs.length;e++){const r=this._bufs[e].length-u;if(!(a>r)){this._bufs[e].copy(t,l,u,u+a),l+=r;break}this._bufs[e].copy(t,l,u),l+=r,a-=r,u&&(u=0)}return t.length>l?t.slice(0,l):t},Mo.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();const r=this._offset(t),i=this._offset(e),n=this._bufs.slice(r[0],i[0]+1);return 0===i[1]?n.pop():n[n.length-1]=n[n.length-1].slice(0,i[1]),0!==r[1]&&(n[0]=n[0].slice(r[1])),this._new(n)},Mo.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},Mo.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},Mo.prototype.duplicate=function(){const t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},Mo.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(Fo.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(let e=0;e<t._bufs.length;e++)this.append(t._bufs[e]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(Fo.from(t));return this},Mo.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},Mo.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=Fo.from([t]):"string"==typeof t?t=Fo.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Fo.from(t.buffer,t.byteOffset,t.byteLength):Fo.isBuffer(t)||(t=Fo.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;const i=this._offset(e);let n=i[0],s=i[1];for(;n<this._bufs.length;n++){const e=this._bufs[n];for(;s<e.length;){if(e.length-s>=t.length){const r=e.indexOf(t,s);if(-1!==r)return this._reverseOffset([n,r]);s=e.length-t.length+1}else{const e=this._reverseOffset([n,s]);if(this._match(e,t))return e;s++}}s=0}return-1},Mo.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)!function(e){Mo.prototype[e]=null===t[e]?function(t,r){return this.slice(t,t+r)[e](0,r)}:function(r=0){return this.slice(r,r+t[e])[e](0)}}(e)}(),Mo.prototype._isBufferList=function(t){return t instanceof Mo||Mo.isBufferList(t)},Mo.isBufferList=function(t){return null!=t&&t[Ro]};var Po=Mo;const Io=Ao.Duplex,jo=Po;function Bo(t){if(!(this instanceof Bo))return new Bo(t);if("function"==typeof t){this._callback=t;const e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)})),t=null}jo._init.call(this,t),Io.call(this)}to(Bo,Io),Object.assign(Bo.prototype,jo.prototype),Bo.prototype._new=function(t){return new Bo(t)},Bo.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},Bo.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},Bo.prototype.end=function(t){Io.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},Bo.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},Bo.prototype._isBufferList=function(t){return t instanceof Bo||t instanceof jo||Bo.isBufferList(t)},Bo.isBufferList=jo.isBufferList,Ms.exports=Bo,Ms.exports.BufferListStream=Bo,Ms.exports.BufferList=jo;var Lo=Ms.exports;const No=a,$o=fr,Wo=An,Uo=us,zo=ms,Ho=bs,Go=Rs,Vo=({stream:t=process.stdout}={})=>Boolean(t&&t.isTTY&&"dumb"!==process.env.TERM&&!("CI"in process.env)),qo=hs,{BufferListStream:Yo}=Lo,Zo=Symbol("text"),Ko=Symbol("prefixText");class Jo{constructor(){this.requests=0,this.mutedStream=new Yo,this.mutedStream.pipe(process.stdout);const t=this;this.ourEmit=function(e,r,...i){const{stdin:n}=process;if(t.requests>0||n.emit===t.ourEmit){if("keypress"===e)return;"data"===e&&r.includes(3)&&process.emit("SIGINT"),Reflect.apply(t.oldEmit,this,[e,r,...i])}else Reflect.apply(process.stdin.emit,this,[e,r,...i])}}start(){this.requests++,1===this.requests&&this.realStart()}stop(){if(this.requests<=0)throw new Error("`stop` called more times than `start`");this.requests--,0===this.requests&&this.realStop()}realStart(){"win32"!==process.platform&&(this.rl=No.createInterface({input:process.stdin,output:this.mutedStream}),this.rl.on("SIGINT",(()=>{0===process.listenerCount("SIGINT")?process.emit("SIGINT"):(this.rl.close(),process.kill(process.pid,"SIGINT"))})))}realStop(){"win32"!==process.platform&&(this.rl.close(),this.rl=void 0)}}let Qo;class Xo{constructor(t){Qo||(Qo=new Jo),"string"==typeof t&&(t={text:t}),this.options={text:"",color:"cyan",stream:process.stderr,discardStdin:!0,...t},this.spinner=this.options.spinner,this.color=this.options.color,this.hideCursor=!1!==this.options.hideCursor,this.interval=this.options.interval||this.spinner.interval||100,this.stream=this.options.stream,this.id=void 0,this.isEnabled="boolean"==typeof this.options.isEnabled?this.options.isEnabled:Vo({stream:this.stream}),this.isSilent="boolean"==typeof this.options.isSilent&&this.options.isSilent,this.text=this.options.text,this.prefixText=this.options.prefixText,this.linesToClear=0,this.indent=this.options.indent,this.discardStdin=this.options.discardStdin,this.isDiscardingStdin=!1}get indent(){return this._indent}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");this._indent=t}_updateInterval(t){void 0!==t&&(this.interval=t)}get spinner(){return this._spinner}set spinner(t){if(this.frameIndex=0,"object"==typeof t){if(void 0===t.frames)throw new Error("The given spinner must have a `frames` property");this._spinner=t}else if(qo())if(void 0===t)this._spinner=Uo.dots;else{if("default"===t||!Uo[t])throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`);this._spinner=Uo[t]}else this._spinner=Uo.line;this._updateInterval(this._spinner.interval)}get text(){return this[Zo]}set text(t){this[Zo]=t,this.updateLineCount()}get prefixText(){return this[Ko]}set prefixText(t){this[Ko]=t,this.updateLineCount()}get isSpinning(){return void 0!==this.id}getFullPrefixText(t=this[Ko],e=" "){return"string"==typeof t?t+e:"function"==typeof t?t()+e:""}updateLineCount(){const t=this.stream.columns||80,e=this.getFullPrefixText(this.prefixText,"-");this.lineCount=0;for(const r of Ho(e+"--"+this[Zo]).split("\n"))this.lineCount+=Math.max(1,Math.ceil(Go(r)/t))}get isEnabled(){return this._isEnabled&&!this.isSilent}set isEnabled(t){if("boolean"!=typeof t)throw new TypeError("The `isEnabled` option must be a boolean");this._isEnabled=t}get isSilent(){return this._isSilent}set isSilent(t){if("boolean"!=typeof t)throw new TypeError("The `isSilent` option must be a boolean");this._isSilent=t}frame(){const{frames:t}=this.spinner;let e=t[this.frameIndex];this.color&&(e=$o[this.color](e)),this.frameIndex=++this.frameIndex%t.length;return("string"==typeof this.prefixText&&""!==this.prefixText?this.prefixText+" ":"")+e+("string"==typeof this.text?" "+this.text:"")}clear(){if(!this.isEnabled||!this.stream.isTTY)return this;for(let t=0;t<this.linesToClear;t++)t>0&&this.stream.moveCursor(0,-1),this.stream.clearLine(),this.stream.cursorTo(this.indent);return this.linesToClear=0,this}render(){return this.isSilent||(this.clear(),this.stream.write(this.frame()),this.linesToClear=this.lineCount),this}start(t){return t&&(this.text=t),this.isSilent?this:this.isEnabled?(this.isSpinning||(this.hideCursor&&Wo.hide(this.stream),this.discardStdin&&process.stdin.isTTY&&(this.isDiscardingStdin=!0,Qo.start()),this.render(),this.id=setInterval(this.render.bind(this),this.interval)),this):(this.text&&this.stream.write(`- ${this.text}\n`),this)}stop(){return this.isEnabled?(clearInterval(this.id),this.id=void 0,this.frameIndex=0,this.clear(),this.hideCursor&&Wo.show(this.stream),this.discardStdin&&process.stdin.isTTY&&this.isDiscardingStdin&&(Qo.stop(),this.isDiscardingStdin=!1),this):this}succeed(t){return this.stopAndPersist({symbol:zo.success,text:t})}fail(t){return this.stopAndPersist({symbol:zo.error,text:t})}warn(t){return this.stopAndPersist({symbol:zo.warning,text:t})}info(t){return this.stopAndPersist({symbol:zo.info,text:t})}stopAndPersist(t={}){if(this.isSilent)return this;const e=t.prefixText||this.prefixText,r=t.text||this.text,i="string"==typeof r?" "+r:"";return this.stop(),this.stream.write(`${this.getFullPrefixText(e," ")}${t.symbol||" "}${i}\n`),this}}Tn.exports=function(t){return new Xo(t)},Tn.exports.promise=(t,e)=>{if("function"!=typeof t.then)throw new TypeError("Parameter `action` must be a Promise");const r=new Xo(e);return r.start(),(async()=>{try{await t,r.succeed()}catch{r.fail()}})(),r};var ta=v(Tn.exports),ea={},ra={},ia={},na=w&&w.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),sa=w&&w.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oa=w&&w.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&na(e,t,r);return sa(e,t),e};Object.defineProperty(ia,"__esModule",{value:!0}),ia.parseFile=ia.parse=ia.NginxParser=ia.NginxParseTreeNode=void 0;const aa=oa(i);class la{constructor(t,e,r,i){this.comments=[],this.isVerbatim=!1,this.isBlock=!1,this.name=t,this.value=(e||"").toString(),this.parent=r,this.children=i||[],this.isBlock=!!i}}ia.NginxParseTreeNode=la;class ua{constructor(t){this.source="",this.index=-1,this.context=null,this.tree=null,this.error=null,this.options={templateSyntax:!1},this.source="",this.index=-1,this.tree=null,this.context=null,this.error=null,this.options=t||{templateSyntax:!1}}parse(t,e){this.source=t,this.index=0,this.tree=new la("[root]","",null,[]),this.context=new la("",null,this.tree),this.error=null;do{if(this.parseNext(),this.error)return void(e&&e(this.error,this.tree))}while(this.index<this.source.length);e&&e(this.error,this.tree)}setError(t){const e=(this.source.substring(0,this.index).match(/\n/g)||[]).length+1;this.error={message:t,index:this.index,line:e}}parseNext(){if(!this.context)throw new Error("context was not initialized");let t,e=this.source.charAt(this.index);if(e)switch(e){case"{":if(this.options.templateSyntax&&this.index<this.source.length-1&&"{"==this.source.charAt(this.index+1)){this.context.value+=this.readBlockPattern();break}case";":if(this.context.value=this.context.value.trim(),!this.context.parent)throw new Error("context.parent does not exist");if(!Array.isArray(this.context.parent.children))throw new Error("context.parent.children is not an array");if(this.context.parent.children.push(this.context),"{"===e&&this.context.name&&/_by_lua_block$/.test(this.context.name)){if(this.context.value){this.setError("Already a value set for Lua block (alert nginx-conf developers if your syntax is valid)");break}this.context.value=this.readVerbatimBlock(),this.context.isVerbatim=!0,this.context=new la("",null,this.context.parent)}else"{"===e&&(this.context.isBlock=!0),this.context=new la("",null,"{"===e?this.context:this.context.parent);this.index++;break;case"}":if(!this.context.parent)throw new Error("context.parent does not exist");this.context=new la("",null,this.context.parent.parent),this.index++;break;case"\n":case"\r":this.context.value&&(this.context.value+=e),this.index++;break;case"'":case'"':this.context.name?this.context.value+=this.readString():this.context.name=this.readString();break;case"#":this.context.comments.push(this.readComment());break;default:t=this.readWord();if("#"===t.trim()){this.index--;break}if(this.context.name)this.context.value+=t;else{this.context.name=t.trim();const e=/^\s*/.exec(this.source.substring(this.index));e&&(this.index+=e[0].length)}}}readString(){const t=this.source.charAt(this.index);let e=t;for(let r=this.index+1;r<this.source.length;r++)if("\\"!==this.source.charAt(r)){if(this.source.charAt(r)===t){e+=t;break}e+=this.source.charAt(r)}else e+=this.source.charAt(r)+this.source.charAt(r+1),r++;return e.length<2||e.charAt(e.length-1)!==t?(this.setError("Unable to parse quote-delimited value (probably an unclosed string)"),""):(this.index+=e.length,e)}readWord(){let t=/^(.+?)[\s;{}'"]/.exec(this.source.substring(this.index));if(!t)return this.setError("Word not terminated. Are you missing a semicolon?"),"";this.index+=t[1].length;let e=t[1];if("$"===e[e.length-1]&&"{"===this.source[this.index]){if(t=/^(.+?})/.exec(this.source.substring(this.index)),!t)return this.setError('Expected closing bracket "}" for interpolated variable'),e;e+=t[1],this.index+=t[1].length,/[\s{;]/.test(this.source[this.index])||(e+=this.readWord())}return e}readComment(){const t=/(.*?)(?:\r\n|\n|$)/.exec(this.source.substring(this.index));return this.index+=t?t[0].length:0,t?t[1].substring(1):""}readVerbatimBlock(){let t,e=0,r=0,i="";for(;t=this.source.charAt(this.index);){switch(t){case"}":r++;break;case"{":e++}if(i+=t,this.index++,e===r)break}return e!==r?(this.setError("Verbatim bock not terminated. Are you missing a closing curly bracket?"),""):i.replace(/^{/,"").replace(/}$/,"")}readBlockPattern(){const t=/^({{)(.+?)(}})/.exec(this.source.substring(this.index));return t?(this.index+=t[0].length,t[0]):(this.setError('Block not terminated. Are you missing "}}" ?'),"")}parseFile(t,e="utf8",r){aa.readFile(t,e,((t,e)=>{t?r&&r(t):this.parse(e,r)}))}}ia.NginxParser=ua;ia.parse=(t,e,r)=>{new ua(r).parse(t,e)};ia.parseFile=(t,e,r,i)=>{new ua(i).parseFile(t,e,r)};var ha=w&&w.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),ca=w&&w.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),da=w&&w.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&ha(e,t,r);return ca(e,t),e};Object.defineProperty(ra,"__esModule",{value:!0}),ra.NginxConfFile=void 0;const fa=da(i),pa=da(t),ma=da(ia),ga={_name:1,_value:1,_remove:1,_add:1,_getString:1,_root:1,toString:1,_comments:1,_isVerbatim:1,_addVerbatimBlock:1,__isBlock:1},ba=(t,e,r,i=!1)=>{const n=r.name;let s=r.value;const o=r.children,a=r.comments||[],l={_remove:(e,r)=>{r=Math.max(r||0,0);const i=l,n=i[e];if(!n)return l;if(n[r]){const e=n.splice(r,1);e.length&&t.emit("removed",e[0])}return i},_add:function(e,r,i,n,s={}){if(e in ga)throw new Error(`The name "${e}" is reserved`);const o=l,a=ba(t,o,{name:e,value:(r||"").toString(),children:i||null,comments:n||[],isVerbatim:!!s.isVerbatim,isBlock:!!i,parent:null});return t.emit("added",a),o},_addVerbatimBlock:function(t,e,r){return l._add(t,e,null,r,{isVerbatim:!0})},_getString:function(e){const r=l;e=e||+!r._root;const i=new Array(e).join(t.tab);let n,s="";if(r._comments.length)for(n=0;n<r._comments.length;n++)s+="#"+r._comments[n]+"\n";s+=i+(r._root?"":r._name),r._isVerbatim?s+=" {"+(r._value||"")+"}":r._value&&(s+=" "+r._value);const o=Object.keys(l).filter((function(t){return"function"!=typeof r[t]})).map((function(t){return r[t]}));if(r.__isBlock||o.length){for(r._root||(s+=" {\n"),n=0;n<o.length;n++){const t=o[n];if(Array.isArray(t))for(let r=0;r<t.length;r++)s+=t[r]._getString(e+1)}r._root||(s+=i+"}\n")}else r._root||(r._isVerbatim||(s+=";"),s+="\n");return s},toString:function(){return l._getString(0)}};Object.defineProperty(l,"_value",{enumerable:!1,get:()=>s,set:e=>{if(e=e.toString(),s===e)return;const r=s;s=e,t.emit("changed",l,r)}});const u=(t,e)=>{Object.defineProperty(l,t,{enumerable:!1,value:e,writable:!1})};u("__isBlock",r.isBlock),u("_isVerbatim",r.isVerbatim),u("_name",n),u("_comments",a),i&&u("_root",!0);const h=l;if(n){const t=e[n];t?t.push(h):i||(e[n]=[h])}if(o)for(let e=0;e<o.length;e++)ba(t,h,o[e]);return h};class ya extends pa.EventEmitter{constructor(t,e={}){super(),this.files=[],this.tab=e.tab||"    ",this._name="NginxConfFile",this.liveListener=()=>{this.flush()},this.writeTimeout=null,this.nginx=ba(this,this,{name:"nginx",children:null,comments:[],isBlock:!1,isVerbatim:!1,parent:null,value:""},!0);const r=t.children||[];for(let t=0;t<r.length;t++){const e=r[t];ba(this,this.nginx,e)}}live(t){return-1===this.files.indexOf(t)&&(this.files.push(t),1===this.files.length&&(this.on("added",this.liveListener),this.on("removed",this.liveListener),this.on("changed",this.liveListener))),this}die(t){const e=this.files.indexOf(t);return-1!==e&&(this.files.splice(e,1),this.files.length||this.removeListener("added removed changed",this.liveListener)),this}write(t){if(!this.files.length)return void(t&&t(null,!1));const e=this.toString(),r=this.files.length,i=[];let n=0;for(const s of this.files)fa.writeFile(s,e,"utf8",(function(e){e&&i.push(e),n++,n===r&&t&&t(i.length?i:null,!0)}))}flush(t){this.writeTimeout&&clearTimeout(this.writeTimeout),this.writeTimeout=setTimeout((()=>{this.write(((e,r)=>{!e&&r&&this.emit("flushed"),t&&t(e)}))}),1)}toString(){return this.nginx.toString()}static create(t,e,r){let i;"function"==typeof e?(r=e,i={}):i=e||{},ma.parseFile(t,"utf8",((e,n)=>{e?r&&r(e):n?r&&r(null,new ya(n,i).live(t)):r&&r(new Error("tree could not be generated"))}))}static createFromSource(t,e,r){let i;"function"==typeof e?(r=e,i={}):i=e||{},ma.parse(t,((t,e)=>{t?r&&r(t):e?r&&r(null,new ya(e,i)):r&&r(new Error("tree could not be generated"))}))}}ra.NginxConfFile=ya,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.parseFile=t.NginxParser=t.NginxConfFile=void 0;var e=ra;Object.defineProperty(t,"NginxConfFile",{enumerable:!0,get:function(){return e.NginxConfFile}});var r=ia;Object.defineProperty(t,"NginxParser",{enumerable:!0,get:function(){return r.NginxParser}}),Object.defineProperty(t,"parseFile",{enumerable:!0,get:function(){return r.parseFile}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.parse}})}(ea);const wa={info:pr.blue("ℹ"),success:pr.green("✨"),warning:pr.yellow("⚠️"),error:pr.red("✖️"),star:pr.cyan("✵"),arrow:pr.yellow("➦")},va={info:pr.blue("i"),success:pr.green("✔"),warning:pr.yellow("‼"),error:pr.red("✖️"),star:pr.cyan("✵"),arrow:pr.yellow("->")},_a=("win32"!==process.platform?"linux"!==process.env.TERM:Boolean(process.env.CI)||Boolean(process.env.WT_SESSION)||Boolean(process.env.TERMINUS_SUBLIME)||"{cmd::Cmder}"===process.env.ConEmuTask||"Terminus-Sublime"===process.env.TERM_PROGRAM||"vscode"===process.env.TERM_PROGRAM||"xterm-256color"===process.env.TERM||"alacritty"===process.env.TERM||"JetBrains-JediTerm"===process.env.TERMINAL_EMULATOR)?wa:va,Da=t=>/^\/(?:[^/]+\/)*[^/]+$/.test(t),Sa=()=>{try{return require(`${process.cwd()}/publish.config.js`)}catch(t){return console.log(_a.warning,pr.yellowBright(`当前项目 ${process.cwd()}/publish.config.js 目录下未配置 publish.config.js 文件，需要手动输入配置信息`)),null}},Ea=async({host:t,port:e,username:r,password:i,ssh:n})=>{try{await n.connect({host:t,username:r,port:e,password:i,tryKeyboard:!0})}catch(t){console.log(_a.error,pr.red(`连接服务器失败: ${t}`)),process.exit(1)}},xa=(t,e,r,i)=>{var n;return(null===(n=null==t?void 0:t[e])||void 0===n?void 0:n[r])?t[e][r]:void(i&&console.log("\n"+_a.warning,pr.yellowBright(`未找到项目 ${pr.cyan(e)}.${pr.cyan(r)} 的配置信息，请手动输入!\n`)))},ka=(t,e,r,i)=>{var n;const s=null===(n=null==t?void 0:t.projectInfo[e])||void 0===n?void 0:n[r];return"isServer"===r&&void 0!==s?s:s||void(i&&console.log("\n"+_a.warning,pr.yellowBright(`未找到项目 ${pr.cyan(e)}.${pr.cyan(r)} 的配置信息，请手动输入!\n`)))},Ca=async({host:t,port:e,username:r,password:i,projectName:n,publishConfig:s,command:o,nginxRemoteFilePath:a,nginxRestartPath:l,serviceRestartPath:u})=>{try{return await On([{name:"host",type:t||xa(s,"serverInfo","host",!0)?null:"text",message:"host:",initial:xa(s,"serverInfo","host")||"",validate:t=>!!t||"请输入host"},{name:"port",type:e||xa(s,"serverInfo","port",!0)?null:"text",message:"端口号:",initial:xa(s,"serverInfo","port")||"",validate:t=>!!t||"请输入端口号"},{name:"username",type:r||xa(s,"serverInfo","username",!0)?null:"text",message:"用户名称:",initial:xa(s,"serverInfo","username")||"",validate:t=>!!t||"请输入用户名称"},{name:"nginxRemoteFilePath",type:a||xa(s,"nginxInfo","remoteFilePath","node"!==n)||"node"===n?null:"text",message:"服务器 nginx.conf 文件路径:",initial:xa(s,"nginxInfo","remoteFilePath")||"",validate:t=>!!Da(t)||"输入的服务器 nginx.conf 文件路径必须以 / 开头"},{name:"nginxRestartPath",type:l||xa(s,"nginxInfo","restartPath","pull"!==o&&"nginx"===n||"push"===o)||!l&&!xa(s,"nginxInfo","restartPath")&&"pull"===o||"node"===n?null:"text",message:"服务器 nginx 重启路径:",initial:xa(s,"nginxInfo","restartPath")||"",validate:t=>!!Da(t)||"输入的服务器 nginx 重启路径必须以 / 开头"},{name:"serviceRestartPath",type:u||xa(s,"serviceInfo","restartPath","restart"===o&&"node"===n)||!u&&!xa(s,"serviceInfo","restartPath")&&"restart"!==o||"nginx"===n?null:"text",message:"服务器 node 重启路径:",initial:xa(s,"serviceInfo","restartPath")||"",validate:t=>!!Da(t)||"输入的服务器 node 重启路径必须以 / 开头"},{name:"password",type:i?null:"password",message:"密码:",initial:"",validate:t=>!!t||"请输入密码"}],{onCancel:()=>{console.log(`\n${pr.red("已取消输入配置信息")}\n`),process.exit(1)}})}catch(t){console.log(_a.error,pr.red(t)),process.exit(1)}},Oa=async t=>{const e=ta({text:pr.yellowBright(`正在删除本地文件: ${pr.cyan(t)}`)}).start();return new Promise(((n,s)=>{try{const s=r.resolve(t);i.unlink(s,(r=>{null===r&&(e.succeed(pr.greenBright(`删除本地文件: ${pr.cyan(t)} 成功`)),n(1))}))}catch(r){console.error(pr.red(`Failed to delete file ${t}: ${r}`)),e.fail(pr.redBright(`删除本地文件: ${pr.cyan(t)} 失败`)),s(r),process.exit(1)}}))},Ta=async(t,e,r)=>{await(async(t,e,r)=>{const i=ta({text:pr.yellowBright(`正在检查服务器 ${t} 文件是否有效`)}).start();try{const{code:n,stderr:s}=await r.execCommand(`cd ${e} && ./nginx -t -c ${t}`);0===n&&s.includes("test is successful")?i.succeed(pr.greenBright(`服务器 ${pr.cyan(t)} 文件配置无误`)):(i.fail(pr.redBright(`服务器 ${pr.cyan(t)} 文件配置存在问题`)),process.exit(0))}catch(e){i.fail(pr.redBright(`服务器 ${pr.cyan(t)} 文件校验失败`)),process.exit(0)}})(t,e,r);const i=ta({text:pr.yellowBright("正在重启 nginx 服务")}).start();try{await r.execCommand(`cd ${e} && ./nginx -s reload`),i.succeed(pr.greenBright(`nginx 服务已重启: ${e}`)),await Oa(`${process.cwd()}/nginx.conf`),console.log(`\n${_a.success}`,pr.greenBright(`${pr.bold(`🎉 🎉 🎉 nginx 服务重启成功 ${e} 🎉 🎉 🎉`)}\n`))}catch(t){i.fail(pr.redBright(`重启 nginx 服务失败: ${t}`)),process.exit(0)}},Aa=async(t,e)=>{const r=ta({text:pr.yellowBright(pr.cyan("正在重启服务..."))}).start();try{const{code:i,stderr:n}=await e.execCommand("pm2 delete 0"),{code:s,stderr:o}=await e.execCommand(`pm2 start ${t}/src/main.js`),{code:a,stdout:l}=await e.execCommand("pm2 list");0===i&&0===s&&0===a?(r.succeed(pr.greenBright(`服务启动成功: \n${l}`)),await Oa(`${process.cwd()}/nginx.conf`),console.log(`\n${_a.success}`,pr.greenBright(`${pr.bold(`🎉 🎉 🎉 node 服务重启成功: ${pr.cyan(`${t}`)}!!! 🎉 🎉 🎉 \n`)}`))):(r.fail(pr.redBright(`服务启动失败: ${n||o}`)),process.exit(1))}catch(t){r.fail(pr.redBright(`服务启动失败: ${t}`)),process.exit(1)}};var Fa={},Ra={fromCallback:function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise(((r,i)=>{e.push(((t,e)=>null!=t?i(t):r(e))),t.apply(this,e)}));t.apply(this,e)}),"name",{value:t.name})},fromPromise:function(t){return Object.defineProperty((function(...e){const r=e[e.length-1];if("function"!=typeof r)return t.apply(this,e);e.pop(),t.apply(this,e).then((t=>r(null,t)),r)}),"name",{value:t.name})}},Ma=f,Pa=process.cwd,Ia=null,ja=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Ia||(Ia=Pa.call(process)),Ia};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var Ba=process.chdir;process.chdir=function(t){Ia=null,Ba.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Ba)}var La=function(t){Ma.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,r,i){t.open(e,Ma.O_WRONLY|Ma.O_SYMLINK,r,(function(e,n){e?i&&i(e):t.fchmod(n,r,(function(e){t.close(n,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,r){var i,n=t.openSync(e,Ma.O_WRONLY|Ma.O_SYMLINK,r),s=!0;try{i=t.fchmodSync(n,r),s=!1}finally{if(s)try{t.closeSync(n)}catch(t){}else t.closeSync(n)}return i}}(t);t.lutimes||function(t){Ma.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,r,i,n){t.open(e,Ma.O_SYMLINK,(function(e,s){e?n&&n(e):t.futimes(s,r,i,(function(e){t.close(s,(function(t){n&&n(e||t)}))}))}))},t.lutimesSync=function(e,r,i){var n,s=t.openSync(e,Ma.O_SYMLINK),o=!0;try{n=t.futimesSync(s,r,i),o=!1}finally{if(o)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return n}):t.futimes&&(t.lutimes=function(t,e,r,i){i&&process.nextTick(i)},t.lutimesSync=function(){})}(t);t.chown=i(t.chown),t.fchown=i(t.fchown),t.lchown=i(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=n(t.chownSync),t.fchownSync=n(t.fchownSync),t.lchownSync=n(t.lchownSync),t.chmodSync=r(t.chmodSync),t.fchmodSync=r(t.fchmodSync),t.lchmodSync=r(t.lchmodSync),t.stat=s(t.stat),t.fstat=s(t.fstat),t.lstat=s(t.lstat),t.statSync=o(t.statSync),t.fstatSync=o(t.fstatSync),t.lstatSync=o(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,r){r&&process.nextTick(r)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,e,r,i){i&&process.nextTick(i)},t.lchownSync=function(){});"win32"===ja&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function r(r,i,n){var s=Date.now(),o=0;e(r,i,(function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code||"EBUSY"===l.code)&&Date.now()-s<6e4)return setTimeout((function(){t.stat(i,(function(t,s){t&&"ENOENT"===t.code?e(r,i,a):n(l)}))}),o),void(o<100&&(o+=10));n&&n(l)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.rename));function e(e){return e?function(r,i,n){return e.call(t,r,i,(function(t){a(t)&&(t=null),n&&n.apply(this,arguments)}))}:e}function r(e){return e?function(r,i){try{return e.call(t,r,i)}catch(t){if(!a(t))throw t}}:e}function i(e){return e?function(r,i,n,s){return e.call(t,r,i,n,(function(t){a(t)&&(t=null),s&&s.apply(this,arguments)}))}:e}function n(e){return e?function(r,i,n){try{return e.call(t,r,i,n)}catch(t){if(!a(t))throw t}}:e}function s(e){return e?function(r,i,n){function s(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),n&&n.apply(this,arguments)}return"function"==typeof i&&(n=i,i=null),i?e.call(t,r,i,s):e.call(t,r,s)}:e}function o(e){return e?function(r,i){var n=i?e.call(t,r,i):e.call(t,r);return n&&(n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296)),n}:e}function a(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read="function"!=typeof t.read?t.read:function(e){function r(r,i,n,s,o,a){var l;if(a&&"function"==typeof a){var u=0;l=function(h,c,d){if(h&&"EAGAIN"===h.code&&u<10)return u++,e.call(t,r,i,n,s,o,l);a.apply(this,arguments)}}return e.call(t,r,i,n,s,o,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(l=t.readSync,function(e,r,i,n,s){for(var o=0;;)try{return l.call(t,e,r,i,n,s)}catch(t){if("EAGAIN"===t.code&&o<10){o++;continue}throw t}});var l};var Na=u.Stream,$a=function(t){return{ReadStream:function e(r,i){if(!(this instanceof e))return new e(r,i);Na.call(this);var n=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){n._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return n.emit("error",t),void(n.readable=!1);n.fd=e,n.emit("open",e),n._read()}))},WriteStream:function e(r,i){if(!(this instanceof e))return new e(r,i);Na.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var n=Object.keys(i),s=0,o=n.length;s<o;s++){var a=n[s];this[a]=i[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};var Wa=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:Ua(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e},Ua=Object.getPrototypeOf||function(t){return t.__proto__};var za,Ha,Ga=i,Va=La,qa=$a,Ya=Wa,Za=c;function Ka(t,e){Object.defineProperty(t,za,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(za=Symbol.for("graceful-fs.queue"),Ha=Symbol.for("graceful-fs.previous")):(za="___graceful-fs.queue",Ha="___graceful-fs.previous");var Ja=function(){};if(Za.debuglog?Ja=Za.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ja=function(){var t=Za.format.apply(Za,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!Ga[za]){var Qa=w[za]||[];Ka(Ga,Qa),Ga.close=function(t){function e(e,r){return t.call(Ga,e,(function(t){t||il(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(e,Ha,{value:t}),e}(Ga.close),Ga.closeSync=function(t){function e(e){t.apply(Ga,arguments),il()}return Object.defineProperty(e,Ha,{value:t}),e}(Ga.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){Ja(Ga[za]),l.equal(Ga[za].length,0)}))}w[za]||Ka(w,Ga[za]);var Xa,tl=el(Ya(Ga));function el(t){Va(t),t.gracefulify=el,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,i){"function"==typeof r&&(i=r,r=null);return function t(r,i,n,s){return e(r,i,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof n&&n.apply(this,arguments):rl([t,[r,i,n],e,s||Date.now(),Date.now()])}))}(t,r,i)};var r=t.writeFile;t.writeFile=function(t,e,i,n){"function"==typeof i&&(n=i,i=null);return function t(e,i,n,s,o){return r(e,i,n,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):rl([t,[e,i,n,s],r,o||Date.now(),Date.now()])}))}(t,e,i,n)};var i=t.appendFile;i&&(t.appendFile=function(t,e,r,n){"function"==typeof r&&(n=r,r=null);return function t(e,r,n,s,o){return i(e,r,n,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):rl([t,[e,r,n,s],i,o||Date.now(),Date.now()])}))}(t,e,r,n)});var n=t.copyFile;n&&(t.copyFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=0);return function t(e,r,i,s,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):rl([t,[e,r,i,s],n,o||Date.now(),Date.now()])}))}(t,e,r,i)});var s=t.readdir;t.readdir=function(t,e,r){"function"==typeof e&&(r=e,e=null);var i=o.test(process.version)?function(t,e,r,i){return s(t,n(t,e,r,i))}:function(t,e,r,i){return s(t,e,n(t,e,r,i))};return i(t,e,r);function n(t,e,r,n){return function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof r&&r.call(this,s,o)):rl([i,[t,e,r],s,n||Date.now(),Date.now()])}}};var o=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var a=qa(t);d=a.ReadStream,f=a.WriteStream}var l=t.ReadStream;l&&(d.prototype=Object.create(l.prototype),d.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))});var u=t.WriteStream;u&&(f.prototype=Object.create(u.prototype),f.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var h=d;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var c=f;function d(t,e){return this instanceof d?(l.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function f(t,e){return this instanceof f?(u.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var p=t.open;function m(t,e,r,i){return"function"==typeof r&&(i=r,r=null),function t(e,r,i,n,s){return p(e,r,i,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof n&&n.apply(this,arguments):rl([t,[e,r,i,n],o,s||Date.now(),Date.now()])}))}(t,e,r,i)}return t.open=m,t}function rl(t){Ja("ENQUEUE",t[0].name,t[1]),Ga[za].push(t),nl()}function il(){for(var t=Date.now(),e=0;e<Ga[za].length;++e)Ga[za][e].length>2&&(Ga[za][e][3]=t,Ga[za][e][4]=t);nl()}function nl(){if(clearTimeout(Xa),Xa=void 0,0!==Ga[za].length){var t=Ga[za].shift(),e=t[0],r=t[1],i=t[2],n=t[3],s=t[4];if(void 0===n)Ja("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-n>=6e4){Ja("TIMEOUT",e.name,r);var o=r.pop();"function"==typeof o&&o.call(null,i)}else{var a=Date.now()-s,l=Math.max(s-n,1);a>=Math.min(1.2*l,100)?(Ja("RETRY",e.name,r),e.apply(null,r.concat([n]))):Ga[za].push(t)}void 0===Xa&&(Xa=setTimeout(nl,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ga.__patched&&(tl=el(Ga),Ga.__patched=!0),function(t){const e=Ra.fromCallback,r=tl,i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof r[t]));Object.assign(t,r),i.forEach((i=>{t[i]=e(r[i])})),t.exists=function(t,e){return"function"==typeof e?r.exists(t,e):new Promise((e=>r.exists(t,e)))},t.read=function(t,e,i,n,s,o){return"function"==typeof o?r.read(t,e,i,n,s,o):new Promise(((o,a)=>{r.read(t,e,i,n,s,((t,e,r)=>{if(t)return a(t);o({bytesRead:e,buffer:r})}))}))},t.write=function(t,e,...i){return"function"==typeof i[i.length-1]?r.write(t,e,...i):new Promise(((n,s)=>{r.write(t,e,...i,((t,e,r)=>{if(t)return s(t);n({bytesWritten:e,buffer:r})}))}))},t.readv=function(t,e,...i){return"function"==typeof i[i.length-1]?r.readv(t,e,...i):new Promise(((n,s)=>{r.readv(t,e,...i,((t,e,r)=>{if(t)return s(t);n({bytesRead:e,buffers:r})}))}))},t.writev=function(t,e,...i){return"function"==typeof i[i.length-1]?r.writev(t,e,...i):new Promise(((n,s)=>{r.writev(t,e,...i,((t,e,r)=>{if(t)return s(t);n({bytesWritten:e,buffers:r})}))}))},"function"==typeof r.realpath.native?t.realpath.native=e(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(Fa);var sl={},ol={};const al=r;ol.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(al.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}};const ll=Fa,{checkPath:ul}=ol,hl=t=>"number"==typeof t?t:{mode:511,...t}.mode;sl.makeDir=async(t,e)=>(ul(t),ll.mkdir(t,{mode:hl(e),recursive:!0})),sl.makeDirSync=(t,e)=>(ul(t),ll.mkdirSync(t,{mode:hl(e),recursive:!0}));const cl=Ra.fromPromise,{makeDir:dl,makeDirSync:fl}=sl,pl=cl(dl);var ml={mkdirs:pl,mkdirsSync:fl,mkdirp:pl,mkdirpSync:fl,ensureDir:pl,ensureDirSync:fl};const gl=Ra.fromPromise,bl=Fa;var yl={pathExists:gl((function(t){return bl.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:bl.existsSync};const wl=Fa;var vl={utimesMillis:(0,Ra.fromPromise)((async function(t,e,r){const i=await wl.open(t,"r+");let n=null;try{await wl.futimes(i,e,r)}finally{try{await wl.close(i)}catch(t){n=t}}if(n)throw n})),utimesMillisSync:function(t,e,r){const i=wl.openSync(t,"r+");return wl.futimesSync(i,e,r),wl.closeSync(i)}};const _l=Fa,Dl=r,Sl=Ra.fromPromise;function El(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function xl(t,e){const r=Dl.resolve(t).split(Dl.sep).filter((t=>t)),i=Dl.resolve(e).split(Dl.sep).filter((t=>t));return r.every(((t,e)=>i[e]===t))}function kl(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}var Cl={checkPaths:Sl((async function(t,e,r,i){const{srcStat:n,destStat:s}=await function(t,e,r){const i=r.dereference?t=>_l.stat(t,{bigint:!0}):t=>_l.lstat(t,{bigint:!0});return Promise.all([i(t),i(e).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((([t,e])=>({srcStat:t,destStat:e})))}(t,e,i);if(s){if(El(n,s)){const i=Dl.basename(t),o=Dl.basename(e);if("move"===r&&i!==o&&i.toLowerCase()===o.toLowerCase())return{srcStat:n,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!n.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(n.isDirectory()&&xl(t,e))throw new Error(kl(t,e,r));return{srcStat:n,destStat:s}})),checkPathsSync:function(t,e,r,i){const{srcStat:n,destStat:s}=function(t,e,r){let i;const n=r.dereference?t=>_l.statSync(t,{bigint:!0}):t=>_l.lstatSync(t,{bigint:!0}),s=n(t);try{i=n(e)}catch(t){if("ENOENT"===t.code)return{srcStat:s,destStat:null};throw t}return{srcStat:s,destStat:i}}(t,e,i);if(s){if(El(n,s)){const i=Dl.basename(t),o=Dl.basename(e);if("move"===r&&i!==o&&i.toLowerCase()===o.toLowerCase())return{srcStat:n,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!n.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(n.isDirectory()&&xl(t,e))throw new Error(kl(t,e,r));return{srcStat:n,destStat:s}},checkParentPaths:Sl((async function t(e,r,i,n){const s=Dl.resolve(Dl.dirname(e)),o=Dl.resolve(Dl.dirname(i));if(o===s||o===Dl.parse(o).root)return;let a;try{a=await _l.stat(o,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(El(r,a))throw new Error(kl(e,i,n));return t(e,r,o,n)})),checkParentPathsSync:function t(e,r,i,n){const s=Dl.resolve(Dl.dirname(e)),o=Dl.resolve(Dl.dirname(i));if(o===s||o===Dl.parse(o).root)return;let a;try{a=_l.statSync(o,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(El(r,a))throw new Error(kl(e,i,n));return t(e,r,o,n)},isSrcSubdir:xl,areIdentical:El};const Ol=Fa,Tl=r,{mkdirs:Al}=ml,{pathExists:Fl}=yl,{utimesMillis:Rl}=vl,Ml=Cl;async function Pl(t,e,r){return!r.filter||r.filter(t,e)}async function Il(t,e,r,i){const n=i.dereference?Ol.stat:Ol.lstat,s=await n(e);if(s.isDirectory())return async function(t,e,r,i,n){e||await Ol.mkdir(i);const s=await Ol.readdir(r);await Promise.all(s.map((async t=>{const e=Tl.join(r,t),s=Tl.join(i,t);if(!await Pl(e,s,n))return;const{destStat:o}=await Ml.checkPaths(e,s,"copy",n);return Il(o,e,s,n)}))),e||await Ol.chmod(i,t.mode)}(s,t,e,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return async function(t,e,r,i,n){if(!e)return jl(t,r,i,n);if(n.overwrite)return await Ol.unlink(i),jl(t,r,i,n);if(n.errorOnExist)throw new Error(`'${i}' already exists`)}(s,t,e,r,i);if(s.isSymbolicLink())return async function(t,e,r,i){let n=await Ol.readlink(e);i.dereference&&(n=Tl.resolve(process.cwd(),n));if(!t)return Ol.symlink(n,r);let s=null;try{s=await Ol.readlink(r)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return Ol.symlink(n,r);throw t}i.dereference&&(s=Tl.resolve(process.cwd(),s));if(Ml.isSrcSubdir(n,s))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${s}'.`);if(Ml.isSrcSubdir(s,n))throw new Error(`Cannot overwrite '${s}' with '${n}'.`);return await Ol.unlink(r),Ol.symlink(n,r)}(t,e,r,i);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}async function jl(t,e,r,i){if(await Ol.copyFile(e,r),i.preserveTimestamps){0==(128&t.mode)&&await function(t,e){return Ol.chmod(t,128|e)}(r,t.mode);const i=await Ol.stat(e);await Rl(r,i.atime,i.mtime)}return Ol.chmod(r,t.mode)}var Bl=async function(t,e,r={}){"function"==typeof r&&(r={filter:r}),r.clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:i,destStat:n}=await Ml.checkPaths(t,e,"copy",r);if(await Ml.checkParentPaths(t,i,e,"copy"),!await Pl(t,e,r))return;const s=Tl.dirname(e);await Fl(s)||await Al(s),await Il(n,t,e,r)};const Ll=tl,Nl=r,$l=ml.mkdirsSync,Wl=vl.utimesMillisSync,Ul=Cl;function zl(t,e,r,i){const n=(i.dereference?Ll.statSync:Ll.lstatSync)(e);if(n.isDirectory())return function(t,e,r,i,n){return e?Vl(r,i,n):function(t,e,r,i){return Ll.mkdirSync(r),Vl(e,r,i),Gl(r,t)}(t.mode,r,i,n)}(n,t,e,r,i);if(n.isFile()||n.isCharacterDevice()||n.isBlockDevice())return function(t,e,r,i,n){return e?function(t,e,r,i){if(i.overwrite)return Ll.unlinkSync(r),Hl(t,e,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(t,r,i,n):Hl(t,r,i,n)}(n,t,e,r,i);if(n.isSymbolicLink())return function(t,e,r,i){let n=Ll.readlinkSync(e);i.dereference&&(n=Nl.resolve(process.cwd(),n));if(t){let t;try{t=Ll.readlinkSync(r)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return Ll.symlinkSync(n,r);throw t}if(i.dereference&&(t=Nl.resolve(process.cwd(),t)),Ul.isSrcSubdir(n,t))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${t}'.`);if(Ul.isSrcSubdir(t,n))throw new Error(`Cannot overwrite '${t}' with '${n}'.`);return function(t,e){return Ll.unlinkSync(e),Ll.symlinkSync(t,e)}(n,r)}return Ll.symlinkSync(n,r)}(t,e,r,i);if(n.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(n.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function Hl(t,e,r,i){return Ll.copyFileSync(e,r),i.preserveTimestamps&&function(t,e,r){(function(t){return 0==(128&t)})(t)&&function(t,e){Gl(t,128|e)}(r,t);(function(t,e){const r=Ll.statSync(t);Wl(e,r.atime,r.mtime)})(e,r)}(t.mode,e,r),Gl(r,t.mode)}function Gl(t,e){return Ll.chmodSync(t,e)}function Vl(t,e,r){Ll.readdirSync(t).forEach((i=>function(t,e,r,i){const n=Nl.join(e,t),s=Nl.join(r,t);if(i.filter&&!i.filter(n,s))return;const{destStat:o}=Ul.checkPathsSync(n,s,"copy",i);return zl(o,n,s,i)}(i,t,e,r)))}var ql=function(t,e,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:i,destStat:n}=Ul.checkPathsSync(t,e,"copy",r);if(Ul.checkParentPathsSync(t,i,e,"copy"),r.filter&&!r.filter(t,e))return;const s=Nl.dirname(e);return Ll.existsSync(s)||$l(s),zl(n,t,e,r)};var Yl={copy:(0,Ra.fromPromise)(Bl),copySync:ql};const Zl=tl;var Kl={remove:(0,Ra.fromCallback)((function(t,e){Zl.rm(t,{recursive:!0,force:!0},e)})),removeSync:function(t){Zl.rmSync(t,{recursive:!0,force:!0})}};const Jl=Ra.fromPromise,Ql=Fa,Xl=r,tu=ml,eu=Kl,ru=Jl((async function(t){let e;try{e=await Ql.readdir(t)}catch{return tu.mkdirs(t)}return Promise.all(e.map((e=>eu.remove(Xl.join(t,e)))))}));function iu(t){let e;try{e=Ql.readdirSync(t)}catch{return tu.mkdirsSync(t)}e.forEach((e=>{e=Xl.join(t,e),eu.removeSync(e)}))}var nu={emptyDirSync:iu,emptydirSync:iu,emptyDir:ru,emptydir:ru};const su=Ra.fromPromise,ou=r,au=Fa,lu=ml;var uu={createFile:su((async function(t){let e;try{e=await au.stat(t)}catch{}if(e&&e.isFile())return;const r=ou.dirname(t);let i=null;try{i=await au.stat(r)}catch(e){if("ENOENT"===e.code)return await lu.mkdirs(r),void await au.writeFile(t,"");throw e}i.isDirectory()?await au.writeFile(t,""):await au.readdir(r)})),createFileSync:function(t){let e;try{e=au.statSync(t)}catch{}if(e&&e.isFile())return;const r=ou.dirname(t);try{au.statSync(r).isDirectory()||au.readdirSync(r)}catch(t){if(!t||"ENOENT"!==t.code)throw t;lu.mkdirsSync(r)}au.writeFileSync(t,"")}};const hu=Ra.fromPromise,cu=r,du=Fa,fu=ml,{pathExists:pu}=yl,{areIdentical:mu}=Cl;var gu={createLink:hu((async function(t,e){let r,i;try{r=await du.lstat(e)}catch{}try{i=await du.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}if(r&&mu(i,r))return;const n=cu.dirname(e);await pu(n)||await fu.mkdirs(n),await du.link(t,e)})),createLinkSync:function(t,e){let r;try{r=du.lstatSync(e)}catch{}try{const e=du.lstatSync(t);if(r&&mu(e,r))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const i=cu.dirname(e);return du.existsSync(i)||fu.mkdirsSync(i),du.linkSync(t,e)}};const bu=r,yu=Fa,{pathExists:wu}=yl;var vu={symlinkPaths:(0,Ra.fromPromise)((async function(t,e){if(bu.isAbsolute(t)){try{await yu.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:t}}const r=bu.dirname(e),i=bu.join(r,t);if(await wu(i))return{toCwd:i,toDst:t};try{await yu.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:bu.relative(r,t)}})),symlinkPathsSync:function(t,e){if(bu.isAbsolute(t)){if(!yu.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}const r=bu.dirname(e),i=bu.join(r,t);if(yu.existsSync(i))return{toCwd:i,toDst:t};if(!yu.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:bu.relative(r,t)}}};const _u=Fa;var Du={symlinkType:(0,Ra.fromPromise)((async function(t,e){if(e)return e;let r;try{r=await _u.lstat(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"})),symlinkTypeSync:function(t,e){if(e)return e;let r;try{r=_u.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}};const Su=Ra.fromPromise,Eu=r,xu=Fa,{mkdirs:ku,mkdirsSync:Cu}=ml,{symlinkPaths:Ou,symlinkPathsSync:Tu}=vu,{symlinkType:Au,symlinkTypeSync:Fu}=Du,{pathExists:Ru}=yl,{areIdentical:Mu}=Cl;var Pu={createSymlink:Su((async function(t,e,r){let i;try{i=await xu.lstat(e)}catch{}if(i&&i.isSymbolicLink()){const[r,i]=await Promise.all([xu.stat(t),xu.stat(e)]);if(Mu(r,i))return}const n=await Ou(t,e);t=n.toDst;const s=await Au(n.toCwd,r),o=Eu.dirname(e);return await Ru(o)||await ku(o),xu.symlink(t,e,s)})),createSymlinkSync:function(t,e,r){let i;try{i=xu.lstatSync(e)}catch{}if(i&&i.isSymbolicLink()){const r=xu.statSync(t),i=xu.statSync(e);if(Mu(r,i))return}const n=Tu(t,e);t=n.toDst,r=Fu(n.toCwd,r);const s=Eu.dirname(e);return xu.existsSync(s)||Cu(s),xu.symlinkSync(t,e,r)}};const{createFile:Iu,createFileSync:ju}=uu,{createLink:Bu,createLinkSync:Lu}=gu,{createSymlink:Nu,createSymlinkSync:$u}=Pu;var Wu={createFile:Iu,createFileSync:ju,ensureFile:Iu,ensureFileSync:ju,createLink:Bu,createLinkSync:Lu,ensureLink:Bu,ensureLinkSync:Lu,createSymlink:Nu,createSymlinkSync:$u,ensureSymlink:Nu,ensureSymlinkSync:$u};var Uu={stringify:function(t,{EOL:e="\n",finalEOL:r=!0,replacer:i=null,spaces:n}={}){const s=r?e:"";return JSON.stringify(t,i,n).replace(/\n/g,e)+s},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}};let zu;try{zu=tl}catch(t){zu=i}const Hu=Ra,{stringify:Gu,stripBom:Vu}=Uu;const qu=Hu.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||zu,i=!("throws"in e)||e.throws;let n,s=await Hu.fromCallback(r.readFile)(t,e);s=Vu(s);try{n=JSON.parse(s,e?e.reviver:null)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}return n}));const Yu=Hu.fromPromise((async function(t,e,r={}){const i=r.fs||zu,n=Gu(e,r);await Hu.fromCallback(i.writeFile)(t,n,r)}));const Zu={readFile:qu,readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||zu,i=!("throws"in e)||e.throws;try{let i=r.readFileSync(t,e);return i=Vu(i),JSON.parse(i,e.reviver)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:Yu,writeFileSync:function(t,e,r={}){const i=r.fs||zu,n=Gu(e,r);return i.writeFileSync(t,n,r)}};var Ku={readJson:Zu.readFile,readJsonSync:Zu.readFileSync,writeJson:Zu.writeFile,writeJsonSync:Zu.writeFileSync};const Ju=Ra.fromPromise,Qu=Fa,Xu=r,th=ml,eh=yl.pathExists;var rh={outputFile:Ju((async function(t,e,r="utf-8"){const i=Xu.dirname(t);return await eh(i)||await th.mkdirs(i),Qu.writeFile(t,e,r)})),outputFileSync:function(t,...e){const r=Xu.dirname(t);Qu.existsSync(r)||th.mkdirsSync(r),Qu.writeFileSync(t,...e)}};const{stringify:ih}=Uu,{outputFile:nh}=rh;var sh=async function(t,e,r={}){const i=ih(e,r);await nh(t,i,r)};const{stringify:oh}=Uu,{outputFileSync:ah}=rh;var lh=function(t,e,r){const i=oh(e,r);ah(t,i,r)};const uh=Ra.fromPromise,hh=Ku;hh.outputJson=uh(sh),hh.outputJsonSync=lh,hh.outputJSON=hh.outputJson,hh.outputJSONSync=hh.outputJsonSync,hh.writeJSON=hh.writeJson,hh.writeJSONSync=hh.writeJsonSync,hh.readJSON=hh.readJson,hh.readJSONSync=hh.readJsonSync;var ch=hh;const dh=Fa,fh=r,{copy:ph}=Yl,{remove:mh}=Kl,{mkdirp:gh}=ml,{pathExists:bh}=yl,yh=Cl;var wh=async function(t,e,r={}){const i=r.overwrite||r.clobber||!1,{srcStat:n,isChangingCase:s=!1}=await yh.checkPaths(t,e,"move",r);await yh.checkParentPaths(t,n,e,"move");const o=fh.dirname(e);return fh.parse(o).root!==o&&await gh(o),async function(t,e,r,i){if(!i)if(r)await mh(e);else if(await bh(e))throw new Error("dest already exists.");try{await dh.rename(t,e)}catch(i){if("EXDEV"!==i.code)throw i;await async function(t,e,r){const i={overwrite:r,errorOnExist:!0,preserveTimestamps:!0};return await ph(t,e,i),mh(t)}(t,e,r)}}(t,e,i,s)};const vh=tl,_h=r,Dh=Yl.copySync,Sh=Kl.removeSync,Eh=ml.mkdirpSync,xh=Cl;function kh(t,e,r){try{vh.renameSync(t,e)}catch(i){if("EXDEV"!==i.code)throw i;return function(t,e,r){const i={overwrite:r,errorOnExist:!0,preserveTimestamps:!0};return Dh(t,e,i),Sh(t)}(t,e,r)}}var Ch=function(t,e,r){const i=(r=r||{}).overwrite||r.clobber||!1,{srcStat:n,isChangingCase:s=!1}=xh.checkPathsSync(t,e,"move",r);return xh.checkParentPathsSync(t,n,e,"move"),function(t){const e=_h.dirname(t),r=_h.parse(e);return r.root===e}(e)||Eh(_h.dirname(e)),function(t,e,r,i){if(i)return kh(t,e,r);if(r)return Sh(e),kh(t,e,r);if(vh.existsSync(e))throw new Error("dest already exists.");return kh(t,e,r)}(t,e,i,s)};var Oh={move:(0,Ra.fromPromise)(wh),moveSync:Ch},Th=v({...Fa,...Yl,...nu,...Wu,...ch,...ml,...Oh,...rh,...yl,...Kl});var Ah=class{constructor(t,e,r){this.etaBufferLength=t||100,this.valueBuffer=[r],this.timeBuffer=[e],this.eta="0"}update(t,e,r){this.valueBuffer.push(e),this.timeBuffer.push(t),this.calculate(r-e)}getTime(){return this.eta}calculate(t){const e=this.valueBuffer.length,r=Math.min(this.etaBufferLength,e),i=(this.valueBuffer[e-1]-this.valueBuffer[e-r])/(this.timeBuffer[e-1]-this.timeBuffer[e-r]);this.valueBuffer=this.valueBuffer.slice(-this.etaBufferLength),this.timeBuffer=this.timeBuffer.slice(-this.etaBufferLength);const n=Math.ceil(t/i/1e3);isNaN(n)?this.eta="NULL":isFinite(n)?this.eta=n>1e7?"INF":n<0?0:n:this.eta="INF"}};const Fh=a;var Rh=class{constructor(t){this.stream=t,this.linewrap=!0,this.dy=0}cursorSave(){this.stream.isTTY&&this.stream.write("7")}cursorRestore(){this.stream.isTTY&&this.stream.write("8")}cursor(t){this.stream.isTTY&&(t?this.stream.write("[?25h"):this.stream.write("[?25l"))}cursorTo(t=null,e=null){this.stream.isTTY&&Fh.cursorTo(this.stream,t,e)}cursorRelative(t=null,e=null){this.stream.isTTY&&(this.dy=this.dy+e,Fh.moveCursor(this.stream,t,e))}cursorRelativeReset(){this.stream.isTTY&&(Fh.moveCursor(this.stream,0,-this.dy),Fh.cursorTo(this.stream,0,null),this.dy=0)}clearRight(){this.stream.isTTY&&Fh.clearLine(this.stream,1)}clearLine(){this.stream.isTTY&&Fh.clearLine(this.stream,0)}clearBottom(){this.stream.isTTY&&Fh.clearScreenDown(this.stream)}newline(){this.stream.write("\n"),this.dy++}write(t,e=!1){!0===this.linewrap&&!1===e?this.stream.write(t.substr(0,this.getWidth())):this.stream.write(t)}lineWrapping(t){this.stream.isTTY&&(this.linewrap=t,t?this.stream.write("[?7h"):this.stream.write("[?7l"))}isTTY(){return!0===this.stream.isTTY}getWidth(){return this.stream.columns||(this.stream.isTTY?80:200)}},Mh={exports:{}},Ph={exports:{}};const Ih=t=>!Number.isNaN(t)&&(t>=4352&&(t<=4447||9001===t||9002===t||11904<=t&&t<=12871&&12351!==t||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141));Ph.exports=Ih,Ph.exports.default=Ih;var jh=Ph.exports;const Bh=bs,Lh=jh,Nh=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},$h=t=>{if("string"!=typeof t||0===t.length)return 0;if(0===(t=Bh(t)).length)return 0;t=t.replace(Nh(),"  ");let e=0;for(let r=0;r<t.length;r++){const i=t.codePointAt(r);i<=31||i>=127&&i<=159||(i>=768&&i<=879||(i>65535&&r++,e+=Lh(i)?2:1))}return e};Mh.exports=$h,Mh.exports.default=$h;var Wh=function(t,e,r){if(!0!==e.autopadding)return t;return"percentage"===r?(i=t,n=3,(e.autopaddingChar+i).slice(-n)):t;var i,n},Uh=function(t,e){const r=Math.round(t*e.barsize),i=e.barsize-r;return e.barCompleteString.substr(0,r)+e.barGlue+e.barIncompleteString.substr(0,i)},zh=function(t,e,r){function i(t){return r?r*Math.round(t/r):t}function n(t){return(e.autopaddingChar+t).slice(-2)}return t>3600?n(Math.floor(t/3600))+"h"+n(i(t%3600/60))+"m":t>60?n(Math.floor(t/60))+"m"+n(i(t%60))+"s":t>10?n(i(t))+"s":n(t)+"s"};const Hh=Mh.exports,Gh=Wh,Vh=Uh,qh=zh;var Yh=function(t,e,r){let i=t.format;const n=t.formatTime||qh,s=t.formatValue||Gh,o=t.formatBar||Vh,a=Math.floor(100*e.progress)+"",l=e.stopTime||Date.now(),u=Math.round((l-e.startTime)/1e3),h=Object.assign({},r,{bar:o(e.progress,t),percentage:s(a,t,"percentage"),total:s(e.total,t,"total"),value:s(e.value,t,"value"),eta:s(e.eta,t,"eta"),eta_formatted:n(e.eta,t,5),duration:s(u,t,"duration"),duration_formatted:n(u,t,1)});i=i.replace(/\{(\w+)\}/g,(function(t,e){return void 0!==h[e]?h[e]:t}));const c=Math.max(0,e.maxWidth-Hh(i)-2),d=Math.floor(c/2);switch(t.align){case"right":i=c>0?" ".repeat(c)+i:i;break;case"center":i=d>0?" ".repeat(d)+i:i}return i};function Zh(t,e){return null==t?e:t}var Kh={parse:function(t,e){const r={},i=Object.assign({},e,t);return r.throttleTime=1e3/Zh(i.fps,10),r.stream=Zh(i.stream,process.stderr),r.terminal=Zh(i.terminal,null),r.clearOnComplete=Zh(i.clearOnComplete,!1),r.stopOnComplete=Zh(i.stopOnComplete,!1),r.barsize=Zh(i.barsize,40),r.align=Zh(i.align,"left"),r.hideCursor=Zh(i.hideCursor,!1),r.linewrap=Zh(i.linewrap,!1),r.barGlue=Zh(i.barGlue,""),r.barCompleteChar=Zh(i.barCompleteChar,"="),r.barIncompleteChar=Zh(i.barIncompleteChar,"-"),r.format=Zh(i.format,"progress [{bar}] {percentage}% | ETA: {eta}s | {value}/{total}"),r.formatTime=Zh(i.formatTime,null),r.formatValue=Zh(i.formatValue,null),r.formatBar=Zh(i.formatBar,null),r.etaBufferLength=Zh(i.etaBuffer,10),r.etaAsynchronousUpdate=Zh(i.etaAsynchronousUpdate,!1),r.progressCalculationRelative=Zh(i.progressCalculationRelative,!1),r.synchronousUpdate=Zh(i.synchronousUpdate,!0),r.noTTYOutput=Zh(i.noTTYOutput,!1),r.notTTYSchedule=Zh(i.notTTYSchedule,2e3),r.emptyOnZero=Zh(i.emptyOnZero,!1),r.forceRedraw=Zh(i.forceRedraw,!1),r.autopadding=Zh(i.autopadding,!1),r.gracefulExit=Zh(i.gracefulExit,!1),r},assignDerivedOptions:function(t){return t.barCompleteString=t.barCompleteChar.repeat(t.barsize+1),t.barIncompleteString=t.barIncompleteChar.repeat(t.barsize+1),t.autopaddingChar=t.autopadding?Zh(t.autopaddingChar,"   "):"",t}};const Jh=Ah,Qh=Rh,Xh=Yh,tc=Kh,ec=t;var rc=class extends ec{constructor(t){super(),this.options=tc.assignDerivedOptions(t),this.terminal=this.options.terminal?this.options.terminal:new Qh(this.options.stream),this.value=0,this.startValue=0,this.total=100,this.lastDrawnString=null,this.startTime=null,this.stopTime=null,this.lastRedraw=Date.now(),this.eta=new Jh(this.options.etaBufferLength,0,0),this.payload={},this.isActive=!1,this.formatter="function"==typeof this.options.format?this.options.format:Xh}render(t=!1){const e={progress:this.getProgress(),eta:this.eta.getTime(),startTime:this.startTime,stopTime:this.stopTime,total:this.total,value:this.value,maxWidth:this.terminal.getWidth()};this.options.etaAsynchronousUpdate&&this.updateETA();const r=this.formatter(this.options,e,this.payload);(t||this.options.forceRedraw||this.options.noTTYOutput&&!this.terminal.isTTY()||this.lastDrawnString!=r)&&(this.emit("redraw-pre"),this.terminal.cursorTo(0,null),this.terminal.write(r),this.terminal.clearRight(),this.lastDrawnString=r,this.lastRedraw=Date.now(),this.emit("redraw-post"))}start(t,e,r){this.value=e||0,this.total=void 0!==t&&t>=0?t:100,this.startValue=e||0,this.payload=r||{},this.startTime=Date.now(),this.stopTime=null,this.lastDrawnString="",this.eta=new Jh(this.options.etaBufferLength,this.startTime,this.value),this.isActive=!0,this.emit("start",t,e)}stop(){this.isActive=!1,this.stopTime=Date.now(),this.emit("stop",this.total,this.value)}update(t,e={}){"number"==typeof t&&(this.value=t,this.eta.update(Date.now(),t,this.total));const r=("object"==typeof t?t:e)||{};this.emit("update",this.total,this.value);for(const t in r)this.payload[t]=r[t];this.value>=this.getTotal()&&this.options.stopOnComplete&&this.stop()}getProgress(){let t=this.value/this.total;return this.options.progressCalculationRelative&&(t=(this.value-this.startValue)/(this.total-this.startValue)),isNaN(t)&&(t=this.options&&this.options.emptyOnZero?0:1),t=Math.min(Math.max(t,0),1),t}increment(t=1,e={}){"object"==typeof t?this.update(this.value+1,t):this.update(this.value+t,e)}getTotal(){return this.total}setTotal(t){void 0!==t&&t>=0&&(this.total=t)}updateETA(){this.eta.update(Date.now(),this.value,this.total)}};const ic=rc,nc=Kh;const sc=Rh,oc=rc,ac=Kh,lc=t;var uc={legacy:{format:"progress [{bar}] {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"=",barIncompleteChar:"-"},shades_classic:{format:" {bar} {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"█",barIncompleteChar:"░"},shades_grey:{format:" [90m{bar}[0m {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"█",barIncompleteChar:"░"},rect:{format:" {bar}■ {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"■",barIncompleteChar:" "}};const hc=class extends ic{constructor(t,e){super(nc.parse(t,e)),this.timer=null,this.options.noTTYOutput&&!1===this.terminal.isTTY()&&(this.options.synchronousUpdate=!1),this.schedulingRate=this.terminal.isTTY()?this.options.throttleTime:this.options.notTTYSchedule,this.sigintCallback=null}render(){this.timer&&(clearTimeout(this.timer),this.timer=null),super.render(),this.options.noTTYOutput&&!1===this.terminal.isTTY()&&this.terminal.newline(),this.timer=setTimeout(this.render.bind(this),this.schedulingRate)}update(t,e){this.timer&&(super.update(t,e),this.options.synchronousUpdate&&this.lastRedraw+2*this.options.throttleTime<Date.now()&&this.render())}start(t,e,r){!1===this.options.noTTYOutput&&!1===this.terminal.isTTY()||(null===this.sigintCallback&&this.options.gracefulExit&&(this.sigintCallback=this.stop.bind(this),process.once("SIGINT",this.sigintCallback),process.once("SIGTERM",this.sigintCallback)),this.terminal.cursorSave(),!0===this.options.hideCursor&&this.terminal.cursor(!1),!1===this.options.linewrap&&this.terminal.lineWrapping(!1),super.start(t,e,r),this.render())}stop(){this.timer&&(this.sigintCallback&&(process.removeListener("SIGINT",this.sigintCallback),process.removeListener("SIGTERM",this.sigintCallback),this.sigintCallback=null),this.render(),super.stop(),clearTimeout(this.timer),this.timer=null,!0===this.options.hideCursor&&this.terminal.cursor(!0),!1===this.options.linewrap&&this.terminal.lineWrapping(!0),this.terminal.cursorRestore(),this.options.clearOnComplete?(this.terminal.cursorTo(0,null),this.terminal.clearLine()):this.terminal.newline())}},cc=class extends lc{constructor(t,e){super(),this.bars=[],this.options=ac.parse(t,e),this.options.synchronousUpdate=!1,this.terminal=this.options.terminal?this.options.terminal:new sc(this.options.stream),this.timer=null,this.isActive=!1,this.schedulingRate=this.terminal.isTTY()?this.options.throttleTime:this.options.notTTYSchedule,this.loggingBuffer=[],this.sigintCallback=null}create(t,e,r,i={}){const n=new oc(Object.assign({},this.options,{terminal:this.terminal},i));return this.bars.push(n),!1===this.options.noTTYOutput&&!1===this.terminal.isTTY()||(null===this.sigintCallback&&this.options.gracefulExit&&(this.sigintCallback=this.stop.bind(this),process.once("SIGINT",this.sigintCallback),process.once("SIGTERM",this.sigintCallback)),this.isActive||(!0===this.options.hideCursor&&this.terminal.cursor(!1),!1===this.options.linewrap&&this.terminal.lineWrapping(!1),this.timer=setTimeout(this.update.bind(this),this.schedulingRate)),this.isActive=!0,n.start(t,e,r),this.emit("start")),n}remove(t){const e=this.bars.indexOf(t);return!(e<0)&&(this.bars.splice(e,1),this.update(),this.terminal.newline(),this.terminal.clearBottom(),!0)}update(){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.emit("update-pre"),this.terminal.cursorRelativeReset(),this.emit("redraw-pre"),this.loggingBuffer.length>0)for(this.terminal.clearLine();this.loggingBuffer.length>0;)this.terminal.write(this.loggingBuffer.shift(),!0);for(let t=0;t<this.bars.length;t++)t>0&&this.terminal.newline(),this.bars[t].render();this.emit("redraw-post"),this.options.noTTYOutput&&!1===this.terminal.isTTY()&&(this.terminal.newline(),this.terminal.newline()),this.timer=setTimeout(this.update.bind(this),this.schedulingRate),this.emit("update-post"),this.options.stopOnComplete&&!this.bars.find((t=>t.isActive))&&this.stop()}stop(){if(clearTimeout(this.timer),this.timer=null,this.sigintCallback&&(process.removeListener("SIGINT",this.sigintCallback),process.removeListener("SIGTERM",this.sigintCallback),this.sigintCallback=null),this.isActive=!1,!0===this.options.hideCursor&&this.terminal.cursor(!0),!1===this.options.linewrap&&this.terminal.lineWrapping(!0),this.terminal.cursorRelativeReset(),this.emit("stop-pre-clear"),this.options.clearOnComplete)this.terminal.clearBottom();else{for(let t=0;t<this.bars.length;t++)t>0&&this.terminal.newline(),this.bars[t].render(),this.bars[t].stop();this.terminal.newline()}this.emit("stop")}log(t){this.loggingBuffer.push(t)}};var dc=v({Bar:hc,SingleBar:hc,MultiBar:cc,Presets:uc,Format:{Formatter:Yh,BarFormat:Uh,ValueFormat:Wh,TimeFormat:zh}});var fc="object"==typeof process&&process&&"win32"===process.platform?{sep:"\\"}:{sep:"/"},pc=mc;function mc(t,e,r){t instanceof RegExp&&(t=gc(t,r)),e instanceof RegExp&&(e=gc(e,r));var i=bc(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function gc(t,e){var r=e.match(t);return r?r[0]:null}function bc(t,e,r){var i,n,s,o,a,l=r.indexOf(t),u=r.indexOf(e,l+1),h=l;if(l>=0&&u>0){if(t===e)return[l,u];for(i=[],s=r.length;h>=0&&!a;)h==l?(i.push(h),l=r.indexOf(t,h+1)):1==i.length?a=[i.pop(),u]:((n=i.pop())<s&&(s=n,o=u),u=r.indexOf(e,h+1)),h=l<u&&l>=0?l:u;i.length&&(a=[s,o])}return a}mc.range=bc;var yc=pc,wc=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Rc(function(t){return t.split("\\\\").join(vc).split("\\{").join(_c).split("\\}").join(Dc).split("\\,").join(Sc).split("\\.").join(Ec)}(t),!0).map(kc)},vc="\0SLASH"+Math.random()+"\0",_c="\0OPEN"+Math.random()+"\0",Dc="\0CLOSE"+Math.random()+"\0",Sc="\0COMMA"+Math.random()+"\0",Ec="\0PERIOD"+Math.random()+"\0";function xc(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function kc(t){return t.split(vc).join("\\").split(_c).join("{").split(Dc).join("}").split(Sc).join(",").split(Ec).join(".")}function Cc(t){if(!t)return[""];var e=[],r=yc("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=Cc(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Oc(t){return"{"+t+"}"}function Tc(t){return/^-?0\d/.test(t)}function Ac(t,e){return t<=e}function Fc(t,e){return t>=e}function Rc(t,e){var r=[],i=yc("{","}",t);if(!i)return[t];var n=i.pre,s=i.post.length?Rc(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=n+"{"+i.body+"}"+s[o];r.push(a)}else{var l,u,h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),d=h||c,f=i.body.indexOf(",")>=0;if(!d&&!f)return i.post.match(/,.*\}/)?Rc(t=i.pre+"{"+i.body+Dc+i.post):[t];if(d)l=i.body.split(/\.\./);else if(1===(l=Cc(i.body)).length&&1===(l=Rc(l[0],!1).map(Oc)).length)return s.map((function(t){return i.pre+l[0]+t}));if(d){var p=xc(l[0]),m=xc(l[1]),g=Math.max(l[0].length,l[1].length),b=3==l.length?Math.abs(xc(l[2])):1,y=Ac;m<p&&(b*=-1,y=Fc);var w=l.some(Tc);u=[];for(var v=p;y(v,m);v+=b){var _;if(c)"\\"===(_=String.fromCharCode(v))&&(_="");else if(_=String(v),w){var D=g-_.length;if(D>0){var S=new Array(D+1).join("0");_=v<0?"-"+S+_.slice(1):S+_}}u.push(_)}}else{u=[];for(var E=0;E<l.length;E++)u.push.apply(u,Rc(l[E],!1))}for(E=0;E<u.length;E++)for(o=0;o<s.length;o++){a=n+u[E]+s[o];(!e||d||a)&&r.push(a)}}return r}const Mc=(t,e,r={})=>(qc(e),!(!r.nocomment&&"#"===e.charAt(0))&&new Kc(e,r).match(t));var Pc=Mc;const Ic=fc;Mc.sep=Ic.sep;const jc=Symbol("globstar **");Mc.GLOBSTAR=jc;const Bc=wc,Lc={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Nc="[^/]",$c=Nc+"*?",Wc=t=>t.split("").reduce(((t,e)=>(t[e]=!0,t)),{}),Uc=Wc("().*{}+?[]^$\\!"),zc=Wc("[.("),Hc=/\/+/;Mc.filter=(t,e={})=>(r,i,n)=>Mc(r,t,e);const Gc=(t,e={})=>{const r={};return Object.keys(t).forEach((e=>r[e]=t[e])),Object.keys(e).forEach((t=>r[t]=e[t])),r};Mc.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return Mc;const e=Mc,r=(r,i,n)=>e(r,i,Gc(t,n));return r.Minimatch=class extends e.Minimatch{constructor(e,r){super(e,Gc(t,r))}},r.Minimatch.defaults=r=>e.defaults(Gc(t,r)).Minimatch,r.filter=(r,i)=>e.filter(r,Gc(t,i)),r.defaults=r=>e.defaults(Gc(t,r)),r.makeRe=(r,i)=>e.makeRe(r,Gc(t,i)),r.braceExpand=(r,i)=>e.braceExpand(r,Gc(t,i)),r.match=(r,i,n)=>e.match(r,i,Gc(t,n)),r},Mc.braceExpand=(t,e)=>Vc(t,e);const Vc=(t,e={})=>(qc(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:Bc(t)),qc=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},Yc=Symbol("subparse");Mc.makeRe=(t,e)=>new Kc(t,e||{}).makeRe(),Mc.match=(t,e,r={})=>{const i=new Kc(e,r);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t};const Zc=t=>t.replace(/[[\]\\]/g,"\\$&");let Kc=class{constructor(t,e){qc(t),e||(e={}),this.options=e,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,r),r=this.globParts=r.map((t=>t.split(Hc))),this.debug(this.pattern,r),r=r.map(((t,e,r)=>t.map(this.parse,this))),this.debug(this.pattern,r),r=r.filter((t=>-1===t.indexOf(!1))),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var l,u=e[s],h=t[n];if(this.debug(e,u,h),!1===u)return!1;if(u===jc){this.debug("GLOBSTAR",[e,u,h]);var c=n,d=s+1;if(d===a){for(this.debug("** at the end");n<o;n++)if("."===t[n]||".."===t[n]||!i.dot&&"."===t[n].charAt(0))return!1;return!0}for(;c<o;){var f=t[c];if(this.debug("\nglobstar while",t,c,e,d,f),this.matchOne(t.slice(c),e.slice(d),r))return this.debug("globstar found match!",c,o,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,c,e,d);break}this.debug("globstar swallow a segment, and continue"),c++}return!(!r||(this.debug("\n>>> no match, partial?",t,c,e,d),c!==o))}if("string"==typeof u?(l=h===u,this.debug("string match",u,h,l)):(l=h.match(u),this.debug("pattern match",u,h,l)),!l)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a)return n===o-1&&""===t[n];throw new Error("wtf?")}braceExpand(){return Vc(this.pattern,this.options)}parse(t,e){qc(t);const r=this.options;if("**"===t){if(!r.noglobstar)return jc;t="*"}if(""===t)return"";let i="",n=!1,s=!1;const o=[],a=[];let l,u,h,c,d=!1,f=-1,p=-1,m="."===t.charAt(0),g=r.dot||m;const b=t=>"."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=()=>{if(l){switch(l){case"*":i+=$c,n=!0;break;case"?":i+=Nc,n=!0;break;default:i+="\\"+l}this.debug("clearStateChar %j %j",l,i),l=!1}};for(let e,c=0;c<t.length&&(e=t.charAt(c));c++)if(this.debug("%s\t%s %s %j",t,c,i,e),s){if("/"===e)return!1;Uc[e]&&(i+="\\"),i+=e,s=!1}else switch(e){case"/":return!1;case"\\":if(d&&"-"===t.charAt(c+1)){i+=e;continue}y(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,c,i,e),d){this.debug("  in class"),"!"===e&&c===p+1&&(e="^"),i+=e;continue}this.debug("call clearStateChar %j",l),y(),l=e,r.noext&&y();continue;case"(":{if(d){i+="(";continue}if(!l){i+="\\(";continue}const e={type:l,start:c-1,reStart:i.length,open:Lc[l].open,close:Lc[l].close};this.debug(this.pattern,"\t",e),o.push(e),i+=e.open,0===e.start&&"!"!==e.type&&(m=!0,i+=b(t.slice(c+1))),this.debug("plType %j %j",l,i),l=!1;continue}case")":{const t=o[o.length-1];if(d||!t){i+="\\)";continue}o.pop(),y(),n=!0,h=t,i+=h.close,"!"===h.type&&a.push(Object.assign(h,{reEnd:i.length}));continue}case"|":{const e=o[o.length-1];if(d||!e){i+="\\|";continue}y(),i+="|",0===e.start&&"!"!==e.type&&(m=!0,i+=b(t.slice(c+1)));continue}case"[":if(y(),d){i+="\\"+e;continue}d=!0,p=c,f=i.length,i+=e;continue;case"]":if(c===p+1||!d){i+="\\"+e;continue}u=t.substring(p+1,c);try{RegExp("["+Zc(u.replace(/\\([^-\]])/g,"$1"))+"]"),i+=e}catch(t){i=i.substring(0,f)+"(?:$.)"}n=!0,d=!1;continue;default:y(),!Uc[e]||"^"===e&&d||(i+="\\"),i+=e}for(d&&(u=t.slice(p+1),c=this.parse(u,Yc),i=i.substring(0,f)+"\\["+c[0],n=n||c[1]),h=o.pop();h;h=o.pop()){let t;t=i.slice(h.reStart+h.open.length),this.debug("setting tail",i,h),t=t.replace(/((?:\\{2}){0,64})(\\?)\|/g,((t,e,r)=>(r||(r="\\"),e+e+r+"|"))),this.debug("tail=%j\n   %s",t,t,h,i);const e="*"===h.type?$c:"?"===h.type?Nc:"\\"+h.type;n=!0,i=i.slice(0,h.reStart)+e+"\\("+t}y(),s&&(i+="\\\\");const w=zc[i.charAt(0)];for(let t=a.length-1;t>-1;t--){const r=a[t],n=i.slice(0,r.reStart),s=i.slice(r.reStart,r.reEnd-8);let o=i.slice(r.reEnd);const l=i.slice(r.reEnd-8,r.reEnd)+o,u=n.split(")").length,h=n.split("(").length-u;let c=o;for(let t=0;t<h;t++)c=c.replace(/\)[+*?]?/,"");o=c;i=n+s+o+(""===o&&e!==Yc?"(?:$|\\/)":"")+l}if(""!==i&&n&&(i="(?=.)"+i),w&&(i=(m?"":g?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+i),e===Yc)return[i,n];if(r.nocase&&!n&&(n=t.toUpperCase()!==t.toLowerCase()),!n)return(t=>t.replace(/\\(.)/g,"$1"))(t);const v=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",v),{_glob:t,_src:i})}catch(t){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?$c:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=e.nocase?"i":"";let n=t.map((t=>(t=t.map((t=>"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===jc?jc:t._src)).reduce(((t,e)=>(t[t.length-1]===jc&&e===jc||t.push(e),t)),[]),t.forEach(((e,i)=>{e===jc&&t[i-1]!==jc&&(0===i?t.length>1?t[i+1]="(?:\\/|"+r+"\\/)?"+t[i+1]:t[i]=r:i===t.length-1?t[i-1]+="(?:\\/|"+r+")?":(t[i-1]+="(?:\\/|\\/"+r+"\\/)"+t[i+1],t[i+1]=jc))})),t.filter((t=>t!==jc)).join("/")))).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch(t){this.regexp=!1}return this.regexp}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;"/"!==Ic.sep&&(t=t.split(Ic.sep).join("/")),t=t.split(Hc),this.debug(this.pattern,"split",t);const i=this.set;let n;this.debug(this.pattern,"set",i);for(let e=t.length-1;e>=0&&(n=t[e],!n);e--);for(let s=0;s<i.length;s++){const o=i[s];let a=t;r.matchBase&&1===o.length&&(a=[n]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return Mc.defaults(t).Minimatch}};Mc.Minimatch=Kc;var Jc=sd;const Qc=i,{EventEmitter:Xc}=t,{Minimatch:td}=Pc,{resolve:ed}=r;function rd(t,e){return new Promise(((r,i)=>{(e?Qc.stat:Qc.lstat)(t,((i,n)=>{if(i)if("ENOENT"===i.code)r(e?rd(t,!1):null);else r(null);else r(n)}))}))}async function*id(t,e,r,i,n,s){let o=await function(t,e){return new Promise(((r,i)=>{Qc.readdir(t,{withFileTypes:!0},((t,n)=>{if(t)switch(t.code){case"ENOTDIR":e?i(t):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;default:i(t)}else r(n)}))}))}(e+t,s);for(const s of o){let o=s.name;void 0===o&&(o=s,i=!0);const a=t+"/"+o,l=a.slice(1),u=e+"/"+l;let h=null;(i||r)&&(h=await rd(u,r)),h||void 0===s.name||(h=s),null===h&&(h={isDirectory:()=>!1}),h.isDirectory()?n(l)||(yield{relative:l,absolute:u,stats:h},yield*id(a,e,r,i,n,!1)):yield{relative:l,absolute:u,stats:h}}}class nd extends Xc{constructor(t,e,r){if(super(),"function"==typeof e&&(r=e,e=null),this.options=function(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}(e||{}),this.matchers=[],this.options.pattern){const t=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=t.map((t=>new td(t,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase})))}if(this.ignoreMatchers=[],this.options.ignore){const t=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=t.map((t=>new td(t,{dot:!0})))}if(this.skipMatchers=[],this.options.skip){const t=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=t.map((t=>new td(t,{dot:!0})))}this.iterator=async function*(t,e,r,i){yield*id("",t,e,r,i,!0)}(ed(t||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,r&&(this._matches=[],this.on("match",(t=>this._matches.push(this.options.absolute?t.absolute:t.relative))),this.on("error",(t=>r(t))),this.on("end",(()=>r(null,this._matches)))),setTimeout((()=>this._next()),0)}_shouldSkipDirectory(t){return this.skipMatchers.some((e=>e.match(t)))}_fileMatches(t,e){const r=t+(e?"/":"");return(0===this.matchers.length||this.matchers.some((t=>t.match(r))))&&!this.ignoreMatchers.some((t=>t.match(r)))&&(!this.options.nodir||!e)}_next(){this.paused||this.aborted?this.inactive=!0:this.iterator.next().then((t=>{if(t.done)this.emit("end");else{const e=t.value.stats.isDirectory();if(this._fileMatches(t.value.relative,e)){let r=t.value.relative,i=t.value.absolute;this.options.mark&&e&&(r+="/",i+="/"),this.options.stat?this.emit("match",{relative:r,absolute:i,stat:t.value.stats}):this.emit("match",{relative:r,absolute:i})}this._next(this.iterator)}})).catch((t=>{this.abort(),this.emit("error",t),t.code||this.options.silent||console.error(t)}))}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}}function sd(t,e,r){return new nd(t,e,r)}function od(t,...e){return(...r)=>t(...e,...r)}function ad(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}sd.ReaddirGlob=nd;var ld="function"==typeof queueMicrotask&&queueMicrotask,ud="function"==typeof setImmediate&&setImmediate,hd="object"==typeof process&&"function"==typeof process.nextTick;function cd(t){setTimeout(t,0)}function dd(t){return(e,...r)=>t((()=>e(...r)))}var fd=dd(ld?queueMicrotask:ud?setImmediate:hd?process.nextTick:cd);function pd(t){return bd(t)?function(...e){const r=e.pop();return md(t.apply(this,e),r)}:ad((function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}if(i&&"function"==typeof i.then)return md(i,r);r(null,i)}))}function md(t,e){return t.then((t=>{gd(e,null,t)}),(t=>{gd(e,t&&(t instanceof Error||t.message)?t:new Error(t))}))}function gd(t,e,r){try{t(e,r)}catch(t){fd((t=>{throw t}),t)}}function bd(t){return"AsyncFunction"===t[Symbol.toStringTag]}function yd(t){if("function"!=typeof t)throw new Error("expected a function");return bd(t)?pd(t):t}function wd(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise(((i,n)=>{r[e-1]=(t,...e)=>{if(t)return n(t);i(e.length>1?e:e[0])},t.apply(this,r)}))}}function vd(t){return function(e,...r){return wd((function(i){var n=this;return t(e,((t,e)=>{yd(t).apply(n,r.concat(e))}),i)}))}}function _d(t,e,r,i){e=e||[];var n=[],s=0,o=yd(r);return t(e,((t,e,r)=>{var i=s++;o(t,((t,e)=>{n[i]=e,r(t)}))}),(t=>{i(t,n)}))}function Dd(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}var Sd={};function Ed(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function xd(t){if(Dd(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,i,n,s=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}(t);return s?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(s):(r=(e=t)?Object.keys(e):[],i=-1,n=r.length,function t(){var s=r[++i];return"__proto__"===s?t():i<n?{value:e[s],key:s}:null})}function kd(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function Cd(t,e,r,i){let n=!1,s=!1,o=!1,a=0,l=0;function u(){a>=e||o||n||(o=!0,t.next().then((({value:t,done:e})=>{if(!s&&!n){if(o=!1,e)return n=!0,void(a<=0&&i(null));a++,r(t,l,h),l++,u()}})).catch(c))}function h(t,e){if(a-=1,!s)return t?c(t):!1===t?(n=!0,void(s=!0)):e===Sd||n&&a<=0?(n=!0,i(null)):void u()}function c(t){s||(o=!1,n=!0,i(t))}u()}var Od=t=>(e,r,i)=>{if(i=Ed(i),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return i(null);if("AsyncGenerator"===e[Symbol.toStringTag])return Cd(e,t,r,i);if(function(t){return"function"==typeof t[Symbol.asyncIterator]}(e))return Cd(e[Symbol.asyncIterator](),t,r,i);var n=xd(e),s=!1,o=!1,a=0,l=!1;function u(t,e){if(!o)if(a-=1,t)s=!0,i(t);else if(!1===t)s=!0,o=!0;else{if(e===Sd||s&&a<=0)return s=!0,i(null);l||h()}}function h(){for(l=!0;a<t&&!s;){var e=n();if(null===e)return s=!0,void(a<=0&&i(null));a+=1,r(e.value,e.key,kd(u))}l=!1}h()};var Td=wd((function(t,e,r,i){return Od(e)(t,yd(r),i)}),4);function Ad(t,e,r){r=Ed(r);var i=0,n=0,{length:s}=t,o=!1;function a(t,e){!1===t&&(o=!0),!0!==o&&(t?r(t):++n!==s&&e!==Sd||r(null))}for(0===s&&r(null);i<s;i++)e(t[i],i,kd(a))}function Fd(t,e,r){return Td(t,1/0,e,r)}var Rd=wd((function(t,e,r){return(Dd(t)?Ad:Fd)(t,yd(e),r)}),3);var Md=wd((function(t,e,r){return _d(Rd,t,e,r)}),3),Pd=vd(Md);var Id=wd((function(t,e,r){return Td(t,1,e,r)}),3);var jd=wd((function(t,e,r){return _d(Id,t,e,r)}),3),Bd=vd(jd);const Ld=Symbol("promiseCallback");function Nd(){let t,e;function r(r,...i){if(r)return e(r);t(i.length>1?i:i[0])}return r[Ld]=new Promise(((r,i)=>{t=r,e=i})),r}function $d(t,e,r){"number"!=typeof e&&(r=e,e=null),r=Ed(r||Nd());var i=Object.keys(t).length;if(!i)return r(null);e||(e=i);var n={},s=0,o=!1,a=!1,l=Object.create(null),u=[],h=[],c={};function d(t,e){u.push((()=>function(t,e){if(a)return;var i=kd(((e,...i)=>{if(s--,!1!==e)if(i.length<2&&([i]=i),e){var u={};if(Object.keys(n).forEach((t=>{u[t]=n[t]})),u[t]=i,a=!0,l=Object.create(null),o)return;r(e,u)}else n[t]=i,(l[t]||[]).forEach((t=>t())),f();else o=!0}));s++;var u=yd(e[e.length-1]);e.length>1?u(n,i):u(i)}(t,e)))}function f(){if(!o){if(0===u.length&&0===s)return r(null,n);for(;u.length&&s<e;){u.shift()()}}}function p(e){var r=[];return Object.keys(t).forEach((i=>{const n=t[i];Array.isArray(n)&&n.indexOf(e)>=0&&r.push(i)})),r}return Object.keys(t).forEach((e=>{var r=t[e];if(!Array.isArray(r))return d(e,[r]),void h.push(e);var i=r.slice(0,r.length-1),n=i.length;if(0===n)return d(e,r),void h.push(e);c[e]=n,i.forEach((s=>{if(!t[s])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+s+"` in "+i.join(", "));!function(t,e){var r=l[t];r||(r=l[t]=[]);r.push(e)}(s,(()=>{0===--n&&d(e,r)}))}))})),function(){var t=0;for(;h.length;)t++,p(h.pop()).forEach((t=>{0==--c[t]&&h.push(t)}));if(t!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),f(),r[Ld]}var Wd=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,Ud=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,zd=/,/,Hd=/(=.+)?(\s*)$/;function Gd(t,e){var r={};return Object.keys(t).forEach((e=>{var i,n=t[e],s=bd(n),o=!s&&1===n.length||s&&0===n.length;if(Array.isArray(n))i=[...n],n=i.pop(),r[e]=i.concat(i.length>0?a:n);else if(o)r[e]=n;else{if(i=function(t){const e=function(t){let e="",r=0,i=t.indexOf("*/");for(;r<t.length;)if("/"===t[r]&&"/"===t[r+1]){let e=t.indexOf("\n",r);r=-1===e?t.length:e}else if(-1!==i&&"/"===t[r]&&"*"===t[r+1]){let n=t.indexOf("*/",r);-1!==n?(r=n+2,i=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}(t.toString());let r=e.match(Wd);if(r||(r=e.match(Ud)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,i]=r;return i.replace(/\s/g,"").split(zd).map((t=>t.replace(Hd,"").trim()))}(n),0===n.length&&!s&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");s||i.pop(),r[e]=i.concat(a)}function a(t,e){var r=i.map((e=>t[e]));r.push(e),yd(n)(...r)}})),$d(r,e)}class Vd{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):qd(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):qd(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function qd(t,e){t.length=1,t.head=t.tail=e}function Yd(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var i=yd(t),n=0,s=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(t,e){return t?e?void(o[t]=o[t].filter((t=>t!==e))):o[t]=[]:Object.keys(o).forEach((t=>o[t]=[]))}function l(t,...e){o[t].forEach((t=>t(...e)))}var u=!1;function h(t,e,r,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");var n,s;function o(t,...e){return t?r?s(t):n():e.length<=1?n(e[0]):void n(e)}m.started=!0;var a=m._createTaskItem(t,r?o:i||o);if(e?m._tasks.unshift(a):m._tasks.push(a),u||(u=!0,fd((()=>{u=!1,m.process()}))),r||!i)return new Promise(((t,e)=>{n=t,s=e}))}function c(t){return function(e,...r){n-=1;for(var i=0,o=t.length;i<o;i++){var a=t[i],u=s.indexOf(a);0===u?s.shift():u>0&&s.splice(u,1),a.callback(e,...r),null!=e&&l("error",e,a.data)}n<=m.concurrency-m.buffer&&l("unsaturated"),m.idle()&&l("drain"),m.process()}}function d(t){return!(0!==t.length||!m.idle())&&(fd((()=>l("drain"))),!0)}const f=t=>e=>{if(!e)return new Promise(((e,r)=>{!function(t,e){const r=(...i)=>{a(t,r),e(...i)};o[t].push(r)}(t,((t,i)=>{if(t)return r(t);e(i)}))}));a(t),function(t,e){o[t].push(e)}(t,e)};var p=!1,m={_tasks:new Vd,_createTaskItem:(t,e)=>({data:t,callback:e}),*[Symbol.iterator](){yield*m._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!1,!1,e)))}return h(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!1,!0,e)))}return h(t,!1,!0,e)},kill(){a(),m._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!0,!1,e)))}return h(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!0,!0,e)))}return h(t,!0,!0,e)},remove(t){m._tasks.remove(t)},process(){if(!p){for(p=!0;!m.paused&&n<m.concurrency&&m._tasks.length;){var t=[],e=[],r=m._tasks.length;m.payload&&(r=Math.min(r,m.payload));for(var o=0;o<r;o++){var a=m._tasks.shift();t.push(a),s.push(a),e.push(a.data)}n+=1,0===m._tasks.length&&l("empty"),n===m.concurrency&&l("saturated");var u=kd(c(t));i(e,u)}p=!1}},length:()=>m._tasks.length,running:()=>n,workersList:()=>s,idle:()=>m._tasks.length+n===0,pause(){m.paused=!0},resume(){!1!==m.paused&&(m.paused=!1,fd(m.process))}};return Object.defineProperties(m,{saturated:{writable:!1,value:f("saturated")},unsaturated:{writable:!1,value:f("unsaturated")},empty:{writable:!1,value:f("empty")},drain:{writable:!1,value:f("drain")},error:{writable:!1,value:f("error")}}),m}function Zd(t,e){return Yd(t,1,e)}function Kd(t,e,r){return Yd(t,e,r)}var Jd=wd((function(t,e,r,i){i=Ed(i);var n=yd(r);return Id(t,((t,r,i)=>{n(e,t,((t,r)=>{e=r,i(t)}))}),(t=>i(t,e)))}),4);function Qd(...t){var e=t.map(yd);return function(...t){var r=this,i=t[t.length-1];return"function"==typeof i?t.pop():i=Nd(),Jd(e,t,((t,e,i)=>{e.apply(r,t.concat(((t,...e)=>{i(t,e)})))}),((t,e)=>i(t,...e))),i[Ld]}}function Xd(...t){return Qd(...t.reverse())}var tf=wd((function(t,e,r,i){return _d(Od(e),t,r,i)}),4);var ef=wd((function(t,e,r,i){var n=yd(r);return tf(t,e,((t,e)=>{n(t,((t,...r)=>t?e(t):e(t,r)))}),((t,e)=>{for(var r=[],n=0;n<e.length;n++)e[n]&&(r=r.concat(...e[n]));return i(t,r)}))}),4);var rf=wd((function(t,e,r){return ef(t,1/0,e,r)}),3);var nf=wd((function(t,e,r){return ef(t,1,e,r)}),3);function sf(...t){return function(...e){return e.pop()(null,...t)}}function of(t,e){return(r,i,n,s)=>{var o,a=!1;const l=yd(n);r(i,((r,i,n)=>{l(r,((i,s)=>i||!1===i?n(i):t(s)&&!o?(a=!0,o=e(!0,r),n(null,Sd)):void n()))}),(t=>{if(t)return s(t);s(null,a?o:e(!1))}))}}var af=wd((function(t,e,r){return of((t=>t),((t,e)=>e))(Rd,t,e,r)}),3);var lf=wd((function(t,e,r,i){return of((t=>t),((t,e)=>e))(Od(e),t,r,i)}),4);var uf=wd((function(t,e,r){return of((t=>t),((t,e)=>e))(Od(1),t,e,r)}),3);function hf(t){return(e,...r)=>yd(e)(...r,((e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach((e=>console[t](e))))}))}var cf=hf("dir");var df=wd((function(t,e,r){r=kd(r);var i,n=yd(t),s=yd(e);function o(t,...e){if(t)return r(t);!1!==t&&(i=e,s(...e,a))}function a(t,e){return t?r(t):!1!==t?e?void n(o):r(null,...i):void 0}return a(null,!0)}),3);function ff(t,e,r){const i=yd(e);return df(t,((...t)=>{const e=t.pop();i(...t,((t,r)=>e(t,!r)))}),r)}function pf(t){return(e,r,i)=>t(e,i)}var mf=wd((function(t,e,r){return Rd(t,pf(yd(e)),r)}),3);var gf=wd((function(t,e,r,i){return Od(e)(t,pf(yd(r)),i)}),4);var bf=wd((function(t,e,r){return gf(t,1,e,r)}),3);function yf(t){return bd(t)?t:function(...e){var r=e.pop(),i=!0;e.push(((...t)=>{i?fd((()=>r(...t))):r(...t)})),t.apply(this,e),i=!1}}var wf=wd((function(t,e,r){return of((t=>!t),(t=>!t))(Rd,t,e,r)}),3);var vf=wd((function(t,e,r,i){return of((t=>!t),(t=>!t))(Od(e),t,r,i)}),4);var _f=wd((function(t,e,r){return of((t=>!t),(t=>!t))(Id,t,e,r)}),3);function Df(t,e,r,i){var n=new Array(e.length);t(e,((t,e,i)=>{r(t,((t,r)=>{n[e]=!!r,i(t)}))}),(t=>{if(t)return i(t);for(var r=[],s=0;s<e.length;s++)n[s]&&r.push(e[s]);i(null,r)}))}function Sf(t,e,r,i){var n=[];t(e,((t,e,i)=>{r(t,((r,s)=>{if(r)return i(r);s&&n.push({index:e,value:t}),i(r)}))}),(t=>{if(t)return i(t);i(null,n.sort(((t,e)=>t.index-e.index)).map((t=>t.value)))}))}function Ef(t,e,r,i){return(Dd(e)?Df:Sf)(t,e,yd(r),i)}var xf=wd((function(t,e,r){return Ef(Rd,t,e,r)}),3);var kf=wd((function(t,e,r,i){return Ef(Od(e),t,r,i)}),4);var Cf=wd((function(t,e,r){return Ef(Id,t,e,r)}),3);var Of=wd((function(t,e){var r=kd(e),i=yd(yf(t));return function t(e){if(e)return r(e);!1!==e&&i(t)}()}),2);var Tf=wd((function(t,e,r,i){var n=yd(r);return tf(t,e,((t,e)=>{n(t,((r,i)=>r?e(r):e(r,{key:i,val:t})))}),((t,e)=>{for(var r={},{hasOwnProperty:n}=Object.prototype,s=0;s<e.length;s++)if(e[s]){var{key:o}=e[s],{val:a}=e[s];n.call(r,o)?r[o].push(a):r[o]=[a]}return i(t,r)}))}),4);function Af(t,e,r){return Tf(t,1/0,e,r)}function Ff(t,e,r){return Tf(t,1,e,r)}var Rf=hf("log");var Mf=wd((function(t,e,r,i){i=Ed(i);var n={},s=yd(r);return Od(e)(t,((t,e,r)=>{s(t,e,((t,i)=>{if(t)return r(t);n[e]=i,r(t)}))}),(t=>i(t,n)))}),4);function Pf(t,e,r){return Mf(t,1/0,e,r)}function If(t,e,r){return Mf(t,1,e,r)}function jf(t,e=(t=>t)){var r=Object.create(null),i=Object.create(null),n=yd(t),s=ad(((t,s)=>{var o=e(...t);o in r?fd((()=>s(null,...r[o]))):o in i?i[o].push(s):(i[o]=[s],n(...t,((t,...e)=>{t||(r[o]=e);var n=i[o];delete i[o];for(var s=0,a=n.length;s<a;s++)n[s](t,...e)})))}));return s.memo=r,s.unmemoized=t,s}var Bf=dd(hd?process.nextTick:ud?setImmediate:cd),Lf=wd(((t,e,r)=>{var i=Dd(e)?[]:{};t(e,((t,e,r)=>{yd(t)(((t,...n)=>{n.length<2&&([n]=n),i[e]=n,r(t)}))}),(t=>r(t,i)))}),3);function Nf(t,e){return Lf(Rd,t,e)}function $f(t,e,r){return Lf(Od(e),t,r)}function Wf(t,e){var r=yd(t);return Yd(((t,e)=>{r(t[0],e)}),e,1)}class Uf{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&Hf(this.heap[t],this.heap[e=zf(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=1+(t<<1))<this.heap.length&&(e+1<this.heap.length&&Hf(this.heap[e+1],this.heap[e])&&(e+=1),!Hf(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let t=zf(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function zf(t){return(t+1>>1)-1}function Hf(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function Gf(t,e){var r=Wf(t,e),{push:i,pushAsync:n}=r;function s(t,e){return Array.isArray(t)?t.map((t=>({data:t,priority:e}))):{data:t,priority:e}}return r._tasks=new Uf,r._createTaskItem=({data:t,priority:e},r)=>({data:t,priority:e,callback:r}),r.push=function(t,e=0,r){return i(s(t,e),r)},r.pushAsync=function(t,e=0,r){return n(s(t,e),r)},delete r.unshift,delete r.unshiftAsync,r}var Vf=wd((function(t,e){if(e=Ed(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,i=t.length;r<i;r++)yd(t[r])(e)}),2);function qf(t,e,r,i){var n=[...t].reverse();return Jd(n,e,r,i)}function Yf(t){var e=yd(t);return ad((function(t,r){return t.push(((t,...e)=>{let i={};if(t&&(i.error=t),e.length>0){var n=e;e.length<=1&&([n]=e),i.value=n}r(null,i)})),e.apply(this,t)}))}function Zf(t){var e;return Array.isArray(t)?e=t.map(Yf):(e={},Object.keys(t).forEach((r=>{e[r]=Yf.call(this,t[r])}))),e}function Kf(t,e,r,i){const n=yd(r);return Ef(t,e,((t,e)=>{n(t,((t,r)=>{e(t,!r)}))}),i)}var Jf=wd((function(t,e,r){return Kf(Rd,t,e,r)}),3);var Qf=wd((function(t,e,r,i){return Kf(Od(e),t,r,i)}),4);var Xf=wd((function(t,e,r){return Kf(Id,t,e,r)}),3);function tp(t){return function(){return t}}const ep=5,rp=0;function ip(t,e,r){var i={times:ep,intervalFunc:tp(rp)};if(arguments.length<3&&"function"==typeof t?(r=e||Nd(),e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||ep,t.intervalFunc="function"==typeof e.interval?e.interval:tp(+e.interval||rp),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||ep}}(i,t),r=r||Nd()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var n=yd(e),s=1;return function t(){n(((e,...n)=>{!1!==e&&(e&&s++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(t,i.intervalFunc(s-1)):r(e,...n))}))}(),r[Ld]}function np(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;bd(e)&&(r+=1);var i=yd(e);return ad(((e,n)=>{function s(t){i(...e,t)}return(e.length<r-1||null==n)&&(e.push(n),n=Nd()),t?ip(t,s,n):ip(s,n),n[Ld]}))}function sp(t,e){return Lf(Id,t,e)}var op=wd((function(t,e,r){return of(Boolean,(t=>t))(Rd,t,e,r)}),3);var ap=wd((function(t,e,r,i){return of(Boolean,(t=>t))(Od(e),t,r,i)}),4);var lp=wd((function(t,e,r){return of(Boolean,(t=>t))(Id,t,e,r)}),3);var up=wd((function(t,e,r){var i=yd(e);return Md(t,((t,e)=>{i(t,((r,i)=>{if(r)return e(r);e(r,{value:t,criteria:i})}))}),((t,e)=>{if(t)return r(t);r(null,e.sort(n).map((t=>t.value)))}));function n(t,e){var r=t.criteria,i=e.criteria;return r<i?-1:r>i?1:0}}),3);function hp(t,e,r){var i=yd(t);return ad(((n,s)=>{var o,a=!1;n.push(((...t)=>{a||(s(...t),clearTimeout(o))})),o=setTimeout((function(){var e=t.name||"anonymous",i=new Error('Callback function "'+e+'" timed out.');i.code="ETIMEDOUT",r&&(i.info=r),a=!0,s(i)}),e),i(...n)}))}function cp(t,e,r,i){var n=yd(r);return tf(function(t){for(var e=Array(t);t--;)e[t]=t;return e}(t),e,n,i)}function dp(t,e,r){return cp(t,1/0,e,r)}function fp(t,e,r){return cp(t,1,e,r)}function pp(t,e,r,i){arguments.length<=3&&"function"==typeof e&&(i=r,r=e,e=Array.isArray(t)?[]:{}),i=Ed(i||Nd());var n=yd(r);return Rd(t,((t,r,i)=>{n(e,t,r,i)}),(t=>i(t,e))),i[Ld]}var mp=wd((function(t,e){var r,i=null;return bf(t,((t,e)=>{yd(t)(((t,...n)=>{if(!1===t)return e(t);n.length<2?[r]=n:r=n,i=t,e(t?null:{})}))}),(()=>e(i,r)))}));function gp(t){return(...e)=>(t.unmemoized||t)(...e)}var bp=wd((function(t,e,r){r=kd(r);var i=yd(e),n=yd(t),s=[];function o(t,...e){if(t)return r(t);s=e,!1!==t&&n(a)}function a(t,e){return t?r(t):!1!==t?e?void i(o):r(null,...s):void 0}return n(a)}),3);function yp(t,e,r){const i=yd(t);return bp((t=>i(((e,r)=>t(e,!r)))),e,r)}var wp=wd((function(t,e){if(e=Ed(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function i(e){yd(t[r++])(...e,kd(n))}function n(n,...s){if(!1!==n)return n||r===t.length?e(n,...s):void i(s)}i([])})),vp={apply:od,applyEach:Pd,applyEachSeries:Bd,asyncify:pd,auto:$d,autoInject:Gd,cargo:Zd,cargoQueue:Kd,compose:Xd,concat:rf,concatLimit:ef,concatSeries:nf,constant:sf,detect:af,detectLimit:lf,detectSeries:uf,dir:cf,doUntil:ff,doWhilst:df,each:mf,eachLimit:gf,eachOf:Rd,eachOfLimit:Td,eachOfSeries:Id,eachSeries:bf,ensureAsync:yf,every:wf,everyLimit:vf,everySeries:_f,filter:xf,filterLimit:kf,filterSeries:Cf,forever:Of,groupBy:Af,groupByLimit:Tf,groupBySeries:Ff,log:Rf,map:Md,mapLimit:tf,mapSeries:jd,mapValues:Pf,mapValuesLimit:Mf,mapValuesSeries:If,memoize:jf,nextTick:Bf,parallel:Nf,parallelLimit:$f,priorityQueue:Gf,queue:Wf,race:Vf,reduce:Jd,reduceRight:qf,reflect:Yf,reflectAll:Zf,reject:Jf,rejectLimit:Qf,rejectSeries:Xf,retry:ip,retryable:np,seq:Qd,series:sp,setImmediate:fd,some:op,someLimit:ap,someSeries:lp,sortBy:up,timeout:hp,times:dp,timesLimit:cp,timesSeries:fp,transform:pp,tryEach:mp,unmemoize:gp,until:yp,waterfall:wp,whilst:bp,all:wf,allLimit:vf,allSeries:_f,any:op,anyLimit:ap,anySeries:lp,find:af,findLimit:lf,findSeries:uf,flatMap:rf,flatMapLimit:ef,flatMapSeries:nf,forEach:mf,forEachSeries:bf,forEachLimit:gf,forEachOf:Rd,forEachOfSeries:Id,forEachOfLimit:Td,inject:Jd,foldl:Jd,foldr:qf,select:xf,selectLimit:kf,selectSeries:Cf,wrapSync:pd,during:bp,doDuring:df},_p=D(Object.freeze({__proto__:null,all:wf,allLimit:vf,allSeries:_f,any:op,anyLimit:ap,anySeries:lp,apply:od,applyEach:Pd,applyEachSeries:Bd,asyncify:pd,auto:$d,autoInject:Gd,cargo:Zd,cargoQueue:Kd,compose:Xd,concat:rf,concatLimit:ef,concatSeries:nf,constant:sf,default:vp,detect:af,detectLimit:lf,detectSeries:uf,dir:cf,doDuring:df,doUntil:ff,doWhilst:df,during:bp,each:mf,eachLimit:gf,eachOf:Rd,eachOfLimit:Td,eachOfSeries:Id,eachSeries:bf,ensureAsync:yf,every:wf,everyLimit:vf,everySeries:_f,filter:xf,filterLimit:kf,filterSeries:Cf,find:af,findLimit:lf,findSeries:uf,flatMap:rf,flatMapLimit:ef,flatMapSeries:nf,foldl:Jd,foldr:qf,forEach:mf,forEachLimit:gf,forEachOf:Rd,forEachOfLimit:Td,forEachOfSeries:Id,forEachSeries:bf,forever:Of,groupBy:Af,groupByLimit:Tf,groupBySeries:Ff,inject:Jd,log:Rf,map:Md,mapLimit:tf,mapSeries:jd,mapValues:Pf,mapValuesLimit:Mf,mapValuesSeries:If,memoize:jf,nextTick:Bf,parallel:Nf,parallelLimit:$f,priorityQueue:Gf,queue:Wf,race:Vf,reduce:Jd,reduceRight:qf,reflect:Yf,reflectAll:Zf,reject:Jf,rejectLimit:Qf,rejectSeries:Xf,retry:ip,retryable:np,select:xf,selectLimit:kf,selectSeries:Cf,seq:Qd,series:sp,setImmediate:fd,some:op,someLimit:ap,someSeries:lp,sortBy:up,timeout:hp,times:dp,timesLimit:cp,timesSeries:fp,transform:pp,tryEach:mp,unmemoize:gp,until:yp,waterfall:wp,whilst:bp,wrapSync:pd})),Dp={exports:{}};const Sp=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;Sp.writable=t=>Sp(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,Sp.readable=t=>Sp(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,Sp.duplex=t=>Sp.writable(t)&&Sp.readable(t),Sp.transform=t=>Sp.duplex(t)&&"function"==typeof t._transform;var Ep,xp,kp,Cp,Op,Tp=Sp,Ap={exports:{}},Fp={exports:{}};function Rp(){if(Ep)return Fp.exports;return Ep=1,"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?Fp.exports={nextTick:function(t,e,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var n,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick((function(){t.call(null,e)}));case 3:return process.nextTick((function(){t.call(null,e,r)}));case 4:return process.nextTick((function(){t.call(null,e,r,i)}));default:for(n=new Array(o-1),s=0;s<n.length;)n[s++]=arguments[s];return process.nextTick((function(){t.apply(null,n)}))}}}:Fp.exports=process,Fp.exports}function Mp(){return Op?Cp:(Op=1,Cp=u)}var Pp,Ip={exports:{}};function jp(){return Pp||(Pp=1,function(t,e){var r=h,i=r.Buffer;function n(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=s),n(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(Ip,Ip.exports)),Ip.exports}var Bp,Lp={};function Np(){if(Bp)return Lp;function t(t){return Object.prototype.toString.call(t)}return Bp=1,Lp.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},Lp.isBoolean=function(t){return"boolean"==typeof t},Lp.isNull=function(t){return null===t},Lp.isNullOrUndefined=function(t){return null==t},Lp.isNumber=function(t){return"number"==typeof t},Lp.isString=function(t){return"string"==typeof t},Lp.isSymbol=function(t){return"symbol"==typeof t},Lp.isUndefined=function(t){return void 0===t},Lp.isRegExp=function(e){return"[object RegExp]"===t(e)},Lp.isObject=function(t){return"object"==typeof t&&null!==t},Lp.isDate=function(e){return"[object Date]"===t(e)},Lp.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},Lp.isFunction=function(t){return"function"==typeof t},Lp.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},Lp.isBuffer=h.Buffer.isBuffer,Lp}var $p,Wp,Up,zp,Hp,Gp,Vp,qp={exports:{}};function Yp(){return $p||($p=1,function(t){var e=jp().Buffer,r=c;function i(t,e,r){t.copy(e,r)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return e.alloc(0);for(var r=e.allocUnsafe(t>>>0),n=this.head,s=0;n;)i(n.data,r,s),s+=n.data.length,n=n.next;return r},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})}(qp)),qp.exports}function Zp(){if(Up)return Wp;Up=1;var t=Rp();function e(t,e){t.emit("error",e)}return Wp={destroy:function(r,i){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(e,this,r)):t.nextTick(e,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(r){!i&&r?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,t.nextTick(e,n,r)):t.nextTick(e,n,r):i&&i(r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}function Kp(){if(Hp)return zp;Hp=1;var t=Rp();function e(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;t.entry=null;for(;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}zp=f;var r,i=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:t.nextTick;f.WritableState=d;var n=Object.create(Np());n.inherits=to;var s={deprecate:eo()},o=Mp(),a=jp().Buffer,l=(void 0!==w?w:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,h=Zp();function c(){}function d(n,s){r=r||Jp(),n=n||{};var o=s instanceof r;this.objectMode=!!n.objectMode,o&&(this.objectMode=this.objectMode||!!n.writableObjectMode);var a=n.highWaterMark,l=n.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:o&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===n.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,r){var n=e._writableState,s=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),r)!function(e,r,i,n,s){--r.pendingcb,i?(t.nextTick(s,n),t.nextTick(v,e,r),e._writableState.errorEmitted=!0,e.emit("error",n)):(s(n),e._writableState.errorEmitted=!0,e.emit("error",n),v(e,r))}(e,n,s,r,o);else{var a=b(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||g(e,n),s?i(m,e,n,a,o):m(e,n,a,o)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function f(t){if(r=r||Jp(),!(u.call(f,this)||this instanceof r))return new f(t);this._writableState=new d(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function p(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function m(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),v(t,e)}function g(t,r){r.bufferProcessing=!0;var i=r.bufferedRequest;if(t._writev&&i&&i.next){var n=r.bufferedRequestCount,s=new Array(n),o=r.corkedRequestsFree;o.entry=i;for(var a=0,l=!0;i;)s[a]=i,i.isBuf||(l=!1),i=i.next,a+=1;s.allBuffers=l,p(t,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;i;){var u=i.chunk,h=i.encoding,c=i.callback;if(p(t,r,!1,r.objectMode?1:u.length,u,h,c),i=i.next,r.bufferedRequestCount--,r.writing)break}null===i&&(r.lastBufferedRequest=null)}r.bufferedRequest=i,r.bufferProcessing=!1}function b(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function y(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),v(t,e)}))}function v(e,r){var i=b(r);return i&&(!function(e,r){r.prefinished||r.finalCalled||("function"==typeof e._final?(r.pendingcb++,r.finalCalled=!0,t.nextTick(y,e,r)):(r.prefinished=!0,e.emit("prefinish")))}(e,r),0===r.pendingcb&&(r.finished=!0,e.emit("finish"))),i}return n.inherits(f,o),d.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(d.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===f&&(t&&t._writableState instanceof d)}})):u=function(t){return t instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(e,r,i){var n,s=this._writableState,o=!1,u=!s.objectMode&&(n=e,a.isBuffer(n)||n instanceof l);return u&&!a.isBuffer(e)&&(e=function(t){return a.from(t)}(e)),"function"==typeof r&&(i=r,r=null),u?r="buffer":r||(r=s.defaultEncoding),"function"!=typeof i&&(i=c),s.ended?function(e,r){var i=new Error("write after end");e.emit("error",i),t.nextTick(r,i)}(this,i):(u||function(e,r,i,n){var s=!0,o=!1;return null===i?o=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||r.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),t.nextTick(n,o),s=!1),s}(this,s,e,i))&&(s.pendingcb++,o=function(t,e,r,i,n,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=a.from(e,r));return e}(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var l=e.objectMode?1:i.length;e.length+=l;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,l,i,n,s);return u}(this,s,u,e,r,i)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||g(this,t))},f.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,r,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,r=null):"function"==typeof r&&(i=r,r=null),null!=e&&this.write(e,r),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,r,i){r.ending=!0,v(e,r),i&&(r.finished?t.nextTick(i):e.once("finish",i));r.ended=!0,e.writable=!1}(this,n,i)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),f.prototype.destroy=h.destroy,f.prototype._undestroy=h.undestroy,f.prototype._destroy=function(t,e){this.end(),e(t)},zp}function Jp(){if(Vp)return Gp;Vp=1;var t=Rp(),e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Gp=l;var r=Object.create(Np());r.inherits=to;var i=am(),n=Kp();r.inherits(l,i);for(var s=e(n.prototype),o=0;o<s.length;o++){var a=s[o];l.prototype[a]||(l.prototype[a]=n.prototype[a])}function l(t){if(!(this instanceof l))return new l(t);i.call(this,t),n.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||t.nextTick(h,this)}function h(t){t.end()}return Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(e,r){this.push(null),this.end(),t.nextTick(r,e)},Gp}var Qp,Xp,tm,em,rm,im,nm,sm={};function om(){if(Qp)return sm;Qp=1;var t=jp().Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var i;switch(this.encoding=function(r){var i=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof i&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return i||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,i=4;break;case"utf8":this.fillLast=n,i=4;break;case"base64":this.text=a,this.end=l,i=3;break;default:return this.write=u,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(i)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}return sm.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var s=i(e[n]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},sm}function am(){if(tm)return Xp;tm=1;var e=Rp();Xp=b;var r,i=function(){if(kp)return xp;kp=1;var t={}.toString;return xp=Array.isArray||function(e){return"[object Array]"==t.call(e)}}();b.ReadableState=g,t.EventEmitter;var n=function(t,e){return t.listeners(e).length},s=Mp(),o=jp().Buffer,a=(void 0!==w?w:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var l=Object.create(Np());l.inherits=to;var u=c,h=void 0;h=u&&u.debuglog?u.debuglog("stream"):function(){};var d,f=Yp(),p=Zp();l.inherits(b,s);var m=["error","close","destroy","pause","resume"];function g(t,e){t=t||{};var i=e instanceof(r=r||Jp());this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,s=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=om().StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function b(t){if(r=r||Jp(),!(this instanceof b))return new b(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function y(t,e,r,i,n){var s,l=t._readableState;null===e?(l.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,S(t)}(t,l)):(n||(s=function(t,e){var r;i=e,o.isBuffer(i)||i instanceof a||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var i;return r}(l,e)),s?t.emit("error",s):l.objectMode||e&&e.length>0?("string"==typeof e||l.objectMode||Object.getPrototypeOf(e)===o.prototype||(e=function(t){return o.from(t)}(e)),i?l.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):v(t,l,e,!0):l.ended?t.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(e=l.decoder.write(e),l.objectMode||0!==e.length?v(t,l,e,!1):x(t,l)):v(t,l,e,!1))):i||(l.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(l)}function v(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&S(t)),x(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=p.destroy,b.prototype._undestroy=p.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=o.from(t,e),e=""),r=!0),y(this,t,e,!1,r)},b.prototype.unshift=function(t){return y(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return d||(d=om().StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var _=8388608;function D(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=_?t=_:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var r=t._readableState;r.needReadable=!1,r.emittedReadable||(h("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?e.nextTick(E,t):E(t))}function E(t){h("emit readable"),t.emit("readable"),T(t)}function x(t,r){r.readingMore||(r.readingMore=!0,e.nextTick(k,t,r))}function k(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function C(t){h("readable nexttick read 0"),t.read(0)}function O(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function A(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,i=1,n=r.data;t-=n.length;for(;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),0===(t-=o)){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}(t,e):function(t,e){var r=o.allocUnsafe(t),i=e.head,n=1;i.data.copy(r),t-=i.data.length;for(;i=i.next;){var s=i.data,a=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,a),0===(t-=a)){a===s.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=s.slice(a));break}++n}return e.length-=n,r}(t,e);return i}(t,e.buffer,e.decoder),r);var r}function F(t){var r=t._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');r.endEmitted||(r.ended=!0,e.nextTick(R,r,t))}function R(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}return b.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):S(this),null;if(0===(t=D(t,e))&&e.ended)return 0===e.length&&F(this),null;var i,n=e.needReadable;return h("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",n=!0),e.ended||e.reading?h("reading or ended",n=!1):n&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=D(r,e))),null===(i=t>0?A(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&F(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,r){var s=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,r);var a=(!r||!1!==r.end)&&t!==process.stdout&&t!==process.stderr?u:y;function l(e,r){h("onunpipe"),e===s&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),t.removeListener("close",g),t.removeListener("finish",b),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",l),s.removeListener("end",u),s.removeListener("end",y),s.removeListener("data",p),d=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}function u(){h("onend"),t.end()}o.endEmitted?e.nextTick(a):s.once("end",a),t.on("unpipe",l);var c=function(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&n(t,"data")&&(e.flowing=!0,T(t))}}(s);t.on("drain",c);var d=!1;var f=!1;function p(e){h("ondata"),f=!1,!1!==t.write(e)||f||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==M(o.pipes,t))&&!d&&(h("false write response, pause",o.awaitDrain),o.awaitDrain++,f=!0),s.pause())}function m(e){h("onerror",e),y(),t.removeListener("error",m),0===n(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",b),y()}function b(){h("onfinish"),t.removeListener("close",g),y()}function y(){h("unpipe"),s.unpipe(t)}return s.on("data",p),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?i(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",m),t.once("close",g),t.once("finish",b),t.emit("pipe",s),o.flowing||(h("pipe resume"),s.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=M(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},b.prototype.on=function(t,r){var i=s.prototype.on.call(this,t,r);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):e.nextTick(C,this))}return i},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!0,function(t,r){r.resumeScheduled||(r.resumeScheduled=!0,e.nextTick(O,t,r))}(this,t)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(n){(h("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))})),t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var s=0;s<m.length;s++)t.on(m[s],this.emit.bind(this,m[s]));return this._read=function(e){h("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=A,Xp}function lm(){if(rm)return em;rm=1,em=i;var t=Jp(),e=Object.create(Np());function r(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);t.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",n)}function n(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}return e.inherits=to,e.inherits(i,t),i.prototype.push=function(e,r){return this._transformState.needTransform=!1,t.prototype.push.call(this,e,r)},i.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(e,r){var i=this;t.prototype._destroy.call(this,e,(function(t){r(t),i.emit("close")}))},em}!function(t,e){var r=u;"disable"===process.env.READABLE_STREAM&&r?(t.exports=r,(e=t.exports=r.Readable).Readable=r.Readable,e.Writable=r.Writable,e.Duplex=r.Duplex,e.Transform=r.Transform,e.PassThrough=r.PassThrough,e.Stream=r):((e=t.exports=am()).Stream=r||e,e.Readable=e,e.Writable=Kp(),e.Duplex=Jp(),e.Transform=lm(),e.PassThrough=function(){if(nm)return im;nm=1,im=r;var t=lm(),e=Object.create(Np());function r(e){if(!(this instanceof r))return new r(e);t.call(this,e)}return e.inherits=to,e.inherits(r,t),r.prototype._transform=function(t,e,r){r(null,t)},im}())}(Ap,Ap.exports);var um=Ap.exports.PassThrough,hm=c,cm=um,dm={Readable:pm,Writable:mm};function fm(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function pm(t,e){if(!(this instanceof pm))return new pm(t,e);cm.call(this,e),fm(this,"_read",(function(){var r=t.call(this,e),i=this.emit.bind(this,"error");r.on("error",i),r.pipe(this)})),this.emit("readable")}function mm(t,e){if(!(this instanceof mm))return new mm(t,e);cm.call(this,e),fm(this,"_write",(function(){var r=t.call(this,e),i=this.emit.bind(this,"error");r.on("error",i),this.pipe(r)})),this.emit("writable")}
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */hm.inherits(pm,cm),hm.inherits(mm,cm);var gm=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var r=t.length;if(r<=1)return t;var i="";if(r>4&&"\\"===t[3]){var n=t[2];"?"!==n&&"."!==n||"\\\\"!==t.slice(0,2)||(t=t.slice(2),i="//")}var s=t.split(/[/\\]+/);return!1!==e&&""===s[s.length-1]&&s.pop(),i+s.join("/")};var bm=function(t){return t};var ym=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},wm=Math.max;var vm=function(t,e,r){return e=wm(void 0===e?t.length-1:e,0),function(){for(var i=arguments,n=-1,s=wm(i.length-e,0),o=Array(s);++n<s;)o[n]=i[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=i[n];return a[e]=r(o),ym(t,this,a)}};var _m=function(t){return function(){return t}},Dm="object"==typeof w&&w&&w.Object===Object&&w,Sm=Dm,Em="object"==typeof self&&self&&self.Object===Object&&self,xm=Sm||Em||Function("return this")(),km=xm.Symbol,Cm=km,Om=Object.prototype,Tm=Om.hasOwnProperty,Am=Om.toString,Fm=Cm?Cm.toStringTag:void 0;var Rm=function(t){var e=Tm.call(t,Fm),r=t[Fm];try{t[Fm]=void 0;var i=!0}catch(t){}var n=Am.call(t);return i&&(e?t[Fm]=r:delete t[Fm]),n},Mm=Object.prototype.toString;var Pm=Rm,Im=function(t){return Mm.call(t)},jm=km?km.toStringTag:void 0;var Bm=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":jm&&jm in Object(t)?Pm(t):Im(t)};var Lm=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Nm=Bm,$m=Lm;var Wm,Um=function(t){if(!$m(t))return!1;var e=Nm(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},zm=xm["__core-js_shared__"],Hm=(Wm=/[^.]+$/.exec(zm&&zm.keys&&zm.keys.IE_PROTO||""))?"Symbol(src)_1."+Wm:"";var Gm=function(t){return!!Hm&&Hm in t},Vm=Function.prototype.toString;var qm=Um,Ym=Gm,Zm=Lm,Km=function(t){if(null!=t){try{return Vm.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Jm=/^\[object .+?Constructor\]$/,Qm=Function.prototype,Xm=Object.prototype,tg=Qm.toString,eg=Xm.hasOwnProperty,rg=RegExp("^"+tg.call(eg).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ig=function(t){return!(!Zm(t)||Ym(t))&&(qm(t)?rg:Jm).test(Km(t))},ng=function(t,e){return null==t?void 0:t[e]};var sg=function(t,e){var r=ng(t,e);return ig(r)?r:void 0},og=sg,ag=function(){try{var t=og(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),lg=_m,ug=ag,hg=ug?function(t,e){return ug(t,"toString",{configurable:!0,enumerable:!1,value:lg(e),writable:!0})}:bm,cg=Date.now;var dg=function(t){var e=0,r=0;return function(){var i=cg(),n=16-(i-r);if(r=i,n>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(hg),fg=bm,pg=vm,mg=dg;var gg=function(t,e){return mg(pg(t,e,fg),t+"")};var bg=function(t,e){return t===e||t!=t&&e!=e};var yg=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},wg=Um,vg=yg;var _g=function(t){return null!=t&&vg(t.length)&&!wg(t)},Dg=/^(?:0|[1-9]\d*)$/;var Sg=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Dg.test(t))&&t>-1&&t%1==0&&t<e},Eg=bg,xg=_g,kg=Sg,Cg=Lm;var Og=function(t,e,r){if(!Cg(r))return!1;var i=typeof e;return!!("number"==i?xg(r)&&kg(e,r.length):"string"==i&&e in r)&&Eg(r[e],t)};var Tg=function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i};var Ag=function(t){return null!=t&&"object"==typeof t},Fg=Bm,Rg=Ag;var Mg=function(t){return Rg(t)&&"[object Arguments]"==Fg(t)},Pg=Ag,Ig=Object.prototype,jg=Ig.hasOwnProperty,Bg=Ig.propertyIsEnumerable,Lg=Mg(function(){return arguments}())?Mg:function(t){return Pg(t)&&jg.call(t,"callee")&&!Bg.call(t,"callee")},Ng=Array.isArray,$g={exports:{}};var Wg=function(){return!1};!function(t,e){var r=xm,i=Wg,n=e&&!e.nodeType&&e,s=n&&t&&!t.nodeType&&t,o=s&&s.exports===n?r.Buffer:void 0,a=(o?o.isBuffer:void 0)||i;t.exports=a}($g,$g.exports);var Ug=$g.exports,zg=Bm,Hg=yg,Gg=Ag,Vg={};Vg["[object Float32Array]"]=Vg["[object Float64Array]"]=Vg["[object Int8Array]"]=Vg["[object Int16Array]"]=Vg["[object Int32Array]"]=Vg["[object Uint8Array]"]=Vg["[object Uint8ClampedArray]"]=Vg["[object Uint16Array]"]=Vg["[object Uint32Array]"]=!0,Vg["[object Arguments]"]=Vg["[object Array]"]=Vg["[object ArrayBuffer]"]=Vg["[object Boolean]"]=Vg["[object DataView]"]=Vg["[object Date]"]=Vg["[object Error]"]=Vg["[object Function]"]=Vg["[object Map]"]=Vg["[object Number]"]=Vg["[object Object]"]=Vg["[object RegExp]"]=Vg["[object Set]"]=Vg["[object String]"]=Vg["[object WeakMap]"]=!1;var qg=function(t){return Gg(t)&&Hg(t.length)&&!!Vg[zg(t)]};var Yg=function(t){return function(e){return t(e)}},Zg={exports:{}};!function(t,e){var r=Dm,i=e&&!e.nodeType&&e,n=i&&t&&!t.nodeType&&t,s=n&&n.exports===i&&r.process,o=function(){try{var t=n&&n.require&&n.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=o}(Zg,Zg.exports);var Kg=Zg.exports,Jg=qg,Qg=Yg,Xg=Kg&&Kg.isTypedArray,tb=Xg?Qg(Xg):Jg,eb=Tg,rb=Lg,ib=Ng,nb=Ug,sb=Sg,ob=tb,ab=Object.prototype.hasOwnProperty;var lb=function(t,e){var r=ib(t),i=!r&&rb(t),n=!r&&!i&&nb(t),s=!r&&!i&&!n&&ob(t),o=r||i||n||s,a=o?eb(t.length,String):[],l=a.length;for(var u in t)!e&&!ab.call(t,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||sb(u,l))||a.push(u);return a},ub=Object.prototype;var hb=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},cb=Lm,db=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ub)},fb=hb,pb=Object.prototype.hasOwnProperty;var mb=function(t){if(!cb(t))return fb(t);var e=db(t),r=[];for(var i in t)("constructor"!=i||!e&&pb.call(t,i))&&r.push(i);return r},gb=lb,bb=mb,yb=_g;var wb,vb,_b=gg,Db=bg,Sb=Og,Eb=function(t){return yb(t)?gb(t,!0):bb(t)},xb=Object.prototype,kb=xb.hasOwnProperty,Cb=_b((function(t,e){t=Object(t);var r=-1,i=e.length,n=i>2?e[2]:void 0;for(n&&Sb(e[0],e[1],n)&&(i=1);++r<i;)for(var s=e[r],o=Eb(s),a=-1,l=o.length;++a<l;){var u=o[a],h=t[u];(void 0===h||Db(h,xb[u])&&!kb.call(t,u))&&(t[u]=s[u])}return t})),Ob=Cb,Tb={exports:{}},Ab={exports:{}};function Fb(){return vb||(vb=1,wb={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,r)=>t.slice(e,r),Error:Error,FunctionPrototypeCall:(t,e,...r)=>t.call(e,...r),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,r)=>Object.defineProperty(t,e,r),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise:Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,r)=>t.then(e,r),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String:String,StringPrototypeSlice:(t,e,r)=>t.slice(e,r),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,r)=>t.set(e,r),Boolean:Boolean,Uint8Array:Uint8Array}),wb}var Rb={exports:{}};
/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */const Mb=new WeakMap,Pb=new WeakMap;function Ib(t){const e=Mb.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function jb(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function Bb(t,e){Mb.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(e);for(let t=0;t<r.length;++t){const e=r[t];e in this||Object.defineProperty(this,e,Lb(e))}}function Lb(t){return{get(){return Ib(this).event[t]},set(e){Ib(this).event[t]=e},configurable:!0,enumerable:!0}}function Nb(t){return{value(){const e=Ib(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function $b(t){if(null==t||t===Object.prototype)return Bb;let e=Pb.get(t);return null==e&&(e=function(t,e){const r=Object.keys(e);if(0===r.length)return t;function i(e,r){t.call(this,e,r)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){const s=r[n];if(!(s in t.prototype)){const t="function"==typeof Object.getOwnPropertyDescriptor(e,s).value;Object.defineProperty(i.prototype,s,t?Nb(s):Lb(s))}}return i}($b(Object.getPrototypeOf(t)),t),Pb.set(t,e)),e}function Wb(t){return Ib(t).immediateStopped}function Ub(t,e){Ib(t).passiveListener=e}Bb.prototype={get type(){return Ib(this).event.type},get target(){return Ib(this).eventTarget},get currentTarget(){return Ib(this).currentTarget},composedPath(){const t=Ib(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Ib(this).eventPhase},stopPropagation(){const t=Ib(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=Ib(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(Ib(this).event.bubbles)},get cancelable(){return Boolean(Ib(this).event.cancelable)},preventDefault(){jb(Ib(this))},get defaultPrevented(){return Ib(this).canceled},get composed(){return Boolean(Ib(this).event.composed)},get timeStamp(){return Ib(this).timeStamp},get srcElement(){return Ib(this).eventTarget},get cancelBubble(){return Ib(this).stopped},set cancelBubble(t){if(!t)return;const e=Ib(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!Ib(this).canceled},set returnValue(t){t||jb(Ib(this))},initEvent(){}},Object.defineProperty(Bb.prototype,"constructor",{value:Bb,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(Bb.prototype,window.Event.prototype),Pb.set(window.Event.prototype,Bb));const zb=new WeakMap,Hb=3;function Gb(t){return null!==t&&"object"==typeof t}function Vb(t){const e=zb.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function qb(t,e){Object.defineProperty(t,`on${e}`,function(t){return{get(){let e=Vb(this).get(t);for(;null!=e;){if(e.listenerType===Hb)return e.listener;e=e.next}return null},set(e){"function"==typeof e||Gb(e)||(e=null);const r=Vb(this);let i=null,n=r.get(t);for(;null!=n;)n.listenerType===Hb?null!==i?i.next=n.next:null!==n.next?r.set(t,n.next):r.delete(t):i=n,n=n.next;if(null!==e){const n={listener:e,listenerType:Hb,passive:!1,once:!1,next:null};null===i?r.set(t,n):i.next=n}},configurable:!0,enumerable:!0}}(e))}function Yb(t){function e(){Zb.call(this)}e.prototype=Object.create(Zb.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)qb(e.prototype,t[r]);return e}function Zb(){if(!(this instanceof Zb)){if(1===arguments.length&&Array.isArray(arguments[0]))return Yb(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return Yb(t)}throw new TypeError("Cannot call a class as a function")}zb.set(this,new Map)}Zb.prototype={addEventListener(t,e,r){if(null==e)return;if("function"!=typeof e&&!Gb(e))throw new TypeError("'listener' should be a function or an object.");const i=Vb(this),n=Gb(r),s=(n?Boolean(r.capture):Boolean(r))?1:2,o={listener:e,listenerType:s,passive:n&&Boolean(r.passive),once:n&&Boolean(r.once),next:null};let a=i.get(t);if(void 0===a)return void i.set(t,o);let l=null;for(;null!=a;){if(a.listener===e&&a.listenerType===s)return;l=a,a=a.next}l.next=o},removeEventListener(t,e,r){if(null==e)return;const i=Vb(this),n=(Gb(r)?Boolean(r.capture):Boolean(r))?1:2;let s=null,o=i.get(t);for(;null!=o;){if(o.listener===e&&o.listenerType===n)return void(null!==s?s.next=o.next:null!==o.next?i.set(t,o.next):i.delete(t));s=o,o=o.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');const e=Vb(this),r=t.type;let i=e.get(r);if(null==i)return!0;const n=function(t,e){return new($b(Object.getPrototypeOf(e)))(t,e)}(this,t);let s=null;for(;null!=i;){if(i.once?null!==s?s.next=i.next:null!==i.next?e.set(r,i.next):e.delete(r):s=i,Ub(n,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,n)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else i.listenerType!==Hb&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(n);if(Wb(n))break;i=i.next}return Ub(n,null),function(t,e){Ib(t).eventPhase=e}(n,0),function(t,e){Ib(t).currentTarget=e}(n,null),!n.defaultPrevented}},Object.defineProperty(Zb.prototype,"constructor",{value:Zb,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(Zb.prototype,window.EventTarget.prototype);class Kb extends Zb{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const t=Jb.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}qb(Kb.prototype,"abort");const Jb=new WeakMap;Object.defineProperties(Kb.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Kb.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class Qb{constructor(){Xb.set(this,function(){const t=Object.create(Kb.prototype);return Zb.call(t),Jb.set(t,!1),t}())}get signal(){return ty(this)}abort(){var t;t=ty(this),!1===Jb.get(t)&&(Jb.set(t,!0),t.dispatchEvent({type:"abort"}))}}const Xb=new WeakMap;function ty(t){const e=Xb.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(Qb.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Qb.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var ey,ry=D(Object.freeze({__proto__:null,AbortController:Qb,AbortSignal:Kb,default:Qb}));function iy(){return ey||(ey=1,function(e){const r=h,{kResistStopPropagation:i,SymbolDispose:n}=Fb(),s=globalThis.AbortSignal||ry.AbortSignal,o=globalThis.AbortController||ry.AbortController,a=Object.getPrototypeOf((async function(){})).constructor,l=globalThis.Blob||r.Blob,u=void 0!==l?function(t){return t instanceof l}:function(t){return!1},c=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)};class d extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let r=0;r<t.length;r++)e+=`    ${t[r].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}e.exports={AggregateError:d,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((r,i)=>{t=r,e=i})),resolve:t,reject:e}},promisify:t=>new Promise(((e,r)=>{t(((t,...i)=>t?r(t):e(...i)))})),debuglog:()=>function(){},format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,r]){const i=e.shift();if("f"===r)return i.toFixed(6);if("j"===r)return JSON.stringify(i);if("s"===r&&"object"==typeof i){return`${i.constructor!==Object?i.constructor.name:""} {}`.trim()}return i.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction:t=>t instanceof a,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:u,deprecate:(t,e)=>t,addAbortListener:t.addAbortListener||function(t,e){if(void 0===t)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);let r;return c(t,"signal"),((t,e)=>{if("function"!=typeof t)throw new ERR_INVALID_ARG_TYPE(e,"Function",t)})(e,"listener"),t.aborted?queueMicrotask((()=>e())):(t.addEventListener("abort",e,{__proto__:null,once:!0,[i]:!0}),r=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[n](){var t;null===(t=r)||void 0===t||t()}}},AbortSignalAny:s.any||function(t){if(1===t.length)return t[0];const e=new o,r=()=>e.abort();return t.forEach((t=>{c(t,"signals"),t.addEventListener("abort",r,{once:!0})})),e.signal.addEventListener("abort",(()=>{t.forEach((t=>t.removeEventListener("abort",r)))}),{once:!0}),e.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Rb)),Rb.exports}var ny,sy,oy,ay,ly={};function uy(){if(sy)return ny;sy=1;const{format:t,inspect:e,AggregateError:r}=iy(),i=globalThis.AggregateError||r,n=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,a={};function l(t,e){if(!t)throw new a.ERR_INTERNAL_ASSERTION(e)}function u(t){let e="",r=t.length;const i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function h(e,r,i){i||(i=Error);class s extends i{constructor(...i){super(function(e,r,i){if("function"==typeof r)return l(r.length<=i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${r.length}).`),r(...i);const n=(r.match(/%[dfijoOs]/g)||[]).length;return l(n===i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${n}).`),0===i.length?r:t(r,...i)}(e,r,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(s.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),s.prototype.code=e,s.prototype[n]=!0,a[e]=s}function c(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class d extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new a.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((t,r,i)=>{l("string"==typeof t,"'name' must be a string"),Array.isArray(r)||(r=[r]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const a=[],u=[],h=[];for(const t of r)l("string"==typeof t,"All expected entries have to be of type string"),s.includes(t)?a.push(t.toLowerCase()):o.test(t)?u.push(t):(l("object"!==t,'The value "object" should be written as "Object"'),h.push(t));if(u.length>0){const t=a.indexOf("object");-1!==t&&(a.splice(a,t,1),u.push("Object"))}if(a.length>0){switch(a.length){case 1:n+=`of type ${a[0]}`;break;case 2:n+=`one of type ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();n+=`one of type ${a.join(", ")}, or ${t}`}}(u.length>0||h.length>0)&&(n+=" or ")}if(u.length>0){switch(u.length){case 1:n+=`an instance of ${u[0]}`;break;case 2:n+=`an instance of ${u[0]} or ${u[1]}`;break;default:{const t=u.pop();n+=`an instance of ${u.join(", ")}, or ${t}`}}h.length>0&&(n+=" or ")}switch(h.length){case 0:break;case 1:h[0].toLowerCase()!==h[0]&&(n+="an "),n+=`${h[0]}`;break;case 2:n+=`one of ${h[0]} or ${h[1]}`;break;default:{const t=h.pop();n+=`one of ${h.join(", ")}, or ${t}`}}if(null==i)n+=`. Received ${i}`;else if("function"==typeof i&&i.name)n+=`. Received function ${i.name}`;else if("object"==typeof i){var c;if(null!==(c=i.constructor)&&void 0!==c&&c.name)n+=`. Received an instance of ${i.constructor.name}`;else{n+=`. Received ${e(i,{depth:-1})}`}}else{let t=e(i,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),n+=`. Received type ${typeof i} (${t})`}return n}),TypeError),h("ERR_INVALID_ARG_VALUE",((t,r,i="is invalid")=>{let n=e(r);n.length>128&&(n=n.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${i}. Received ${n}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((t,e,r)=>{var i;return`Expected ${t} to be returned from the "${e}" function but got ${null!=r&&null!==(i=r.constructor)&&void 0!==i&&i.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),h("ERR_MISSING_ARGS",((...t)=>{let e;l(t.length>0,"At least one arg needs to be specified");const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}}return`${e} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((t,r,i)=>{let n;return l(r,'Missing "range" argument'),Number.isInteger(i)&&Math.abs(i)>2**32?n=u(String(i)):"bigint"==typeof i?(n=String(i),(i>2n**32n||i<-(2n**32n))&&(n=u(n)),n+="n"):n=e(i),`The value of "${t}" is out of range. It must be ${r}. Received ${n}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),ny={AbortError:d,aggregateTwoErrors:c((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new i([e,t],e.message);return r.code=e.code,r}return t||e})),hideStackFrames:c,codes:a}}function hy(){if(ay)return oy;ay=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:i,NumberIsInteger:n,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:h,String:c,StringPrototypeToUpperCase:d,StringPrototypeTrim:f}=Fb(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:y,ERR_UNKNOWN_SIGNAL:w}}=uy(),{normalizeEncoding:v}=iy(),{isAsyncFunction:_,isArrayBufferView:D}=iy().types,S={};const E=/^[0-7]+$/;const x=p(((t,e,r=a,i=o)=>{if("number"!=typeof t)throw new g(e,"number",t);if(!n(t))throw new y(e,"an integer",t);if(t<r||t>i)throw new y(e,`>= ${r} && <= ${i}`,t)})),k=p(((t,e,r=-2147483648,i=2147483647)=>{if("number"!=typeof t)throw new g(e,"number",t);if(!n(t))throw new y(e,"an integer",t);if(t<r||t>i)throw new y(e,`>= ${r} && <= ${i}`,t)})),C=p(((t,e,r=!1)=>{if("number"!=typeof t)throw new g(e,"number",t);if(!n(t))throw new y(e,"an integer",t);const i=r?1:0,s=4294967295;if(t<i||t>s)throw new y(e,`>= ${i} && <= ${s}`,t)}));function O(t,e){if("string"!=typeof t)throw new g(e,"string",t)}const T=p(((t,n,s)=>{if(!e(s,t)){const e=r(i(s,(t=>"string"==typeof t?`'${t}'`:c(t))),", ");throw new b(n,t,"must be one of: "+e)}}));function A(t,e){if("boolean"!=typeof t)throw new g(e,"boolean",t)}function F(t,e,r){return null!=t&&u(t,e)?t[e]:r}const R=p(((e,r,i=null)=>{const n=F(i,"allowArray",!1),s=F(i,"allowFunction",!1);if(!F(i,"nullable",!1)&&null===e||!n&&t(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new g(r,"Object",e)})),M=p(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new g(e,"a dictionary",t)})),P=p(((e,r,i=0)=>{if(!t(e))throw new g(r,"Array",e);if(e.length<i){throw new b(r,e,`must be longer than ${i}`)}}));const I=p(((t,e="buffer")=>{if(!D(t))throw new g(e,["Buffer","TypedArray","DataView"],t)}));const j=p(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new g(e,"AbortSignal",t)})),B=p(((t,e)=>{if("function"!=typeof t)throw new g(e,"Function",t)})),L=p(((t,e)=>{if("function"!=typeof t||_(t))throw new g(e,"Function",t)})),N=p(((t,e)=>{if(void 0!==t)throw new g(e,"undefined",t)}));const $=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(t,e){if(void 0===t||!h($,t))throw new b(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return oy={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,r){if(void 0===t&&(t=r),"string"==typeof t){if(null===h(E,t))throw new b(e,t,"must be a 32-bit unsigned integer or an octal string");t=l(t,8)}return C(t,e),t},validateArray:P,validateStringArray:function(t,e){P(t,e);for(let r=0;r<t.length;r++)O(t[r],`${e}[${r}]`)},validateBooleanArray:function(t,e){P(t,e);for(let r=0;r<t.length;r++)A(t[r],`${e}[${r}]`)},validateAbortSignalArray:function(t,e){P(t,e);for(let r=0;r<t.length;r++){const i=t[r],n=`${e}[${r}]`;if(null==i)throw new g(n,"AbortSignal",i);j(i,n)}},validateBoolean:A,validateBuffer:I,validateDictionary:M,validateEncoding:function(t,e){const r=v(e),i=t.length;if("hex"===r&&i%2!=0)throw new b("encoding",e,`is invalid for data of length ${i}`)},validateFunction:B,validateInt32:k,validateInteger:x,validateNumber:function(t,e,r=void 0,i){if("number"!=typeof t)throw new g(e,"number",t);if(null!=r&&t<r||null!=i&&t>i||(null!=r||null!=i)&&s(t))throw new y(e,`${null!=r?`>= ${r}`:""}${null!=r&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,t)},validateObject:R,validateOneOf:T,validatePlainFunction:L,validatePort:function(t,e="Port",r=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===f(t).length||+t!=+t>>>0||t>65535||0===t&&!r)throw new m(e,t,r);return 0|t},validateSignalName:function(t,e="signal"){if(O(t,e),void 0===S[t]){if(void 0!==S[d(t)])throw new w(t+" (signals must use all capital letters)");throw new w(t)}},validateString:O,validateUint32:C,validateUndefined:N,validateUnion:function(t,i,n){if(!e(n,t))throw new g(i,`('${r(n,"|")}')`,t)},validateAbortSignal:j,validateLinkHeaderValue:function(e){if("string"==typeof e)return W(e,"hints"),e;if(t(e)){const t=e.length;let r="";if(0===t)return r;for(let i=0;i<t;i++){const n=e[i];W(n,"hints"),r+=n,i!==t-1&&(r+=", ")}return r}throw new b("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}},oy}var cy,dy,fy,py,my,gy,by,yy,wy,vy={exports:{}};function _y(){return dy?cy:(dy=1,cy=w.process)}function Dy(){if(py)return fy;py=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=Fb(),i=r("nodejs.stream.destroyed"),n=r("nodejs.stream.errored"),s=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function h(t,e=!1){var r;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(r=t._readableState)||void 0===r?void 0:r.readable)||t._writableState&&!t._readableState)}function c(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function d(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function f(t){return!(!t||d(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function p(t){return!(!t||d(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function m(t){return!(!t||d(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function g(t){if(!d(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[i]||null!=n&&n.destroyed)}function b(t){if(!c(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function y(t,e){if(!h(t))return null;const r=t._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===e&&!0===r.ended&&0===r.length))}function w(t){return t&&null!=t[s]?t[s]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!g(t)&&(h(t)&&t.readable&&!y(t))}function v(t){return t&&null!=t[o]?t[o]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!g(t)&&(c(t)&&t.writable&&!b(t))}function _(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function D(t){return"boolean"==typeof t._sent100&&_(t)}return fy={isDestroyed:g,kIsDestroyed:i,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[a])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:a,isErrored:function(t){var e,r,i,s,o,a,l,u,h,c;return!(!t||!(null!==(e=null!==(r=null!==(i=null!==(s=null!==(o=null!==(a=t[n])&&void 0!==a?a:t.readableErrored)&&void 0!==o?o:t.writableErrored)&&void 0!==s?s:null===(l=t._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==i?i:null===(u=t._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(h=t._readableState)||void 0===h?void 0:h.errored)&&void 0!==e?e:null===(c=t._writableState)||void 0===c?void 0:c.errored))},kIsErrored:n,isReadable:w,kIsReadable:s,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:o,isClosed:function(t){if(!d(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,r=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==e?void 0:e.closed)||(null==r?void 0:r.closed):"boolean"==typeof t._closed&&_(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return d(t)?!!g(t)||(!1===(null==e?void 0:e.readable)||!w(t))&&(!1===(null==e?void 0:e.writable)||!v(t)):null},isIterable:function(r,i){return null!=r&&(!0===i?"function"==typeof r[t]:!1===i?"function"==typeof r[e]:"function"==typeof r[t]||"function"==typeof r[e])},isReadableNodeStream:h,isReadableStream:f,isReadableEnded:function(t){if(!h(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:y,isReadableErrored:function(t){var e,r;return d(t)?t.readableErrored?t.readableErrored:null!==(e=null===(r=t._readableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isNodeStream:d,isWebStream:function(t){return f(t)||p(t)||m(t)},isWritable:v,isWritableNodeStream:c,isWritableStream:p,isWritableEnded:b,isWritableFinished:function(t,e){if(!c(t))return null;if(!0===t.writableFinished)return!0;const r=t._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===e&&!0===r.ended&&0===r.length))},isWritableErrored:function(t){var e,r;return d(t)?t.writableErrored?t.writableErrored:null!==(e=null===(r=t._writableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:D,willEmitClose:function(t){if(!d(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!i&&D(t)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)},isTransformStream:m},fy}function Sy(){if(my)return vy.exports;my=1;const t=_y(),{AbortError:e,codes:r}=uy(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:n}=r,{kEmptyObject:s,once:o}=iy(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:h}=hy(),{Promise:c,PromisePrototypeThen:d,SymbolDispose:f}=Fb(),{isClosed:p,isReadable:m,isReadableNodeStream:g,isReadableStream:b,isReadableFinished:y,isReadableErrored:w,isWritable:v,isWritableNodeStream:_,isWritableStream:D,isWritableFinished:S,isWritableErrored:E,isNodeStream:x,willEmitClose:k,kIsClosedPromise:C}=Dy();let O;const T=()=>{};function A(r,h,c){var A,F;if(2===arguments.length?(c=h,h=s):null==h?h=s:u(h,"options"),l(c,"callback"),a(h.signal,"options.signal"),c=o(c),b(r)||D(r))return function(r,i,n){let s=!1,a=T;if(i.signal)if(a=()=>{s=!0,n.call(r,new e(void 0,{cause:i.signal.reason}))},i.signal.aborted)t.nextTick(a);else{O=O||iy().addAbortListener;const t=O(i.signal,a),e=n;n=o(((...i)=>{t[f](),e.apply(r,i)}))}const l=(...e)=>{s||t.nextTick((()=>n.apply(r,e)))};return d(r[C].promise,l,l),T}(r,h,c);if(!x(r))throw new i("stream",["ReadableStream","WritableStream","Stream"],r);const R=null!==(A=h.readable)&&void 0!==A?A:g(r),M=null!==(F=h.writable)&&void 0!==F?F:_(r),P=r._writableState,I=r._readableState,j=()=>{r.writable||N()};let B=k(r)&&g(r)===R&&_(r)===M,L=S(r,!1);const N=()=>{L=!0,r.destroyed&&(B=!1),(!B||r.readable&&!R)&&(R&&!$||c.call(r))};let $=y(r,!1);const W=()=>{$=!0,r.destroyed&&(B=!1),(!B||r.writable&&!M)&&(M&&!L||c.call(r))},U=t=>{c.call(r,t)};let z=p(r);const H=()=>{z=!0;const t=E(r)||w(r);return t&&"boolean"!=typeof t?c.call(r,t):R&&!$&&g(r,!0)&&!y(r,!1)?c.call(r,new n):!M||L||S(r,!1)?void c.call(r):c.call(r,new n)},G=()=>{z=!0;const t=E(r)||w(r);if(t&&"boolean"!=typeof t)return c.call(r,t);c.call(r)},V=()=>{r.req.on("finish",N)};!function(t){return t.setHeader&&"function"==typeof t.abort}(r)?M&&!P&&(r.on("end",j),r.on("close",j)):(r.on("complete",N),B||r.on("abort",H),r.req?V():r.on("request",V)),B||"boolean"!=typeof r.aborted||r.on("aborted",H),r.on("end",W),r.on("finish",N),!1!==h.error&&r.on("error",U),r.on("close",H),z?t.nextTick(H):null!=P&&P.errorEmitted||null!=I&&I.errorEmitted?B||t.nextTick(G):(R||B&&!m(r)||!L&&!1!==v(r))&&(M||B&&!v(r)||!$&&!1!==m(r))?I&&r.req&&r.aborted&&t.nextTick(G):t.nextTick(G);const q=()=>{c=T,r.removeListener("aborted",H),r.removeListener("complete",N),r.removeListener("abort",H),r.removeListener("request",V),r.req&&r.req.removeListener("finish",N),r.removeListener("end",j),r.removeListener("close",j),r.removeListener("finish",N),r.removeListener("end",W),r.removeListener("error",U),r.removeListener("close",H)};if(h.signal&&!z){const i=()=>{const t=c;q(),t.call(r,new e(void 0,{cause:h.signal.reason}))};if(h.signal.aborted)t.nextTick(i);else{O=O||iy().addAbortListener;const t=O(h.signal,i),e=c;c=o(((...i)=>{t[f](),e.apply(r,i)}))}}return q}return vy.exports=A,vy.exports.finished=function(t,e){var r;let i=!1;return null===e&&(e=s),null!==(r=e)&&void 0!==r&&r.cleanup&&(h(e.cleanup,"cleanup"),i=e.cleanup),new c(((r,n)=>{const s=A(t,e,(t=>{i&&s(),t?n(t):r()}))}))},vy.exports}function Ey(){if(by)return gy;by=1;const t=_y(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:i}=uy(),{Symbol:n}=Fb(),{kIsDestroyed:s,isDestroyed:o,isFinished:a,isServerRequest:l}=Dy(),u=n("kDestroy"),h=n("kConstruct");function c(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function d(e,r,i){let n=!1;function s(r){if(n)return;n=!0;const s=e._readableState,o=e._writableState;c(r,o,s),o&&(o.closed=!0),s&&(s.closed=!0),"function"==typeof i&&i(r),r?t.nextTick(f,e,r):t.nextTick(p,e)}try{e._destroy(r||null,s)}catch(r){s(r)}}function f(t,e){m(t,e),p(t)}function p(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=r&&r.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function m(t,e){const r=t._readableState,i=t._writableState;null!=i&&i.errorEmitted||null!=r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function g(e,r,i){const n=e._readableState,s=e._writableState;if(null!=s&&s.destroyed||null!=n&&n.destroyed)return this;null!=n&&n.autoDestroy||null!=s&&s.autoDestroy?e.destroy(r):r&&(r.stack,s&&!s.errored&&(s.errored=r),n&&!n.errored&&(n.errored=r),i?t.nextTick(m,e,r):m(e,r))}function b(e){let i=!1;function n(n){if(i)return void g(e,null!=n?n:new r);i=!0;const s=e._readableState,o=e._writableState,a=o||s;s&&(s.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(u,n):n?g(e,n,!0):t.nextTick(y,e)}try{e._construct((e=>{t.nextTick(n,e)}))}catch(e){t.nextTick(n,e)}}function y(t){t.emit(h)}function w(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function v(t){t.emit("close")}function _(e,r){e.emit("error",r),t.nextTick(v,e)}return gy={construct:function(e,r){if("function"!=typeof e._construct)return;const i=e._readableState,n=e._writableState;i&&(i.constructed=!1),n&&(n.constructed=!1),e.once(h,r),e.listenerCount(h)>1||t.nextTick(b,e)},destroyer:function(e,r){e&&!o(e)&&(r||a(e)||(r=new i),l(e)?(e.socket=null,e.destroy(r)):w(e)?e.abort():w(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(r):"function"==typeof e.close?e.close():r?t.nextTick(_,e,r):t.nextTick(v,e),e.destroyed||(e[s]=!0))},destroy:function(t,r){const i=this._readableState,n=this._writableState,s=n||i;return null!=n&&n.destroyed||null!=i&&i.destroyed?("function"==typeof r&&r(),this):(c(t,n,i),n&&(n.destroyed=!0),i&&(i.destroyed=!0),s.constructed?d(this,t,r):this.once(u,(function(i){d(this,e(i,t),r)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:g},gy}function xy(){if(wy)return yy;wy=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:r}=Fb(),{EventEmitter:i}=t;function n(t){i.call(this,t)}function s(t,r,i){if("function"==typeof t.prependListener)return t.prependListener(r,i);t._events&&t._events[r]?e(t._events[r])?t._events[r].unshift(i):t._events[r]=[i,t._events[r]]:t.on(r,i)}return r(n.prototype,i.prototype),r(n,i),n.prototype.pipe=function(t,e){const r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",l),r.on("close",u));let a=!1;function l(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){c(),0===i.listenerCount(this,"error")&&this.emit("error",t)}function c(){r.removeListener("data",n),t.removeListener("drain",o),r.removeListener("end",l),r.removeListener("close",u),r.removeListener("error",h),t.removeListener("error",h),r.removeListener("end",c),r.removeListener("close",c),t.removeListener("close",c)}return s(r,"error",h),s(t,"error",h),r.on("end",c),r.on("close",c),t.on("close",c),t.emit("pipe",r),t},yy={Stream:n,prependListener:s}}var ky,Cy,Oy,Ty,Ay,Fy,Ry,My,Py,Iy,jy,By,Ly,Ny,$y,Wy,Uy,zy,Hy,Gy,Vy,qy,Yy,Zy,Ky,Jy,Qy,Xy={exports:{}};function tw(){return ky||(ky=1,function(t){const{SymbolDispose:e}=Fb(),{AbortError:r,codes:i}=uy(),{isNodeStream:n,isWebStream:s,kControllerErrorFunction:o}=Dy(),a=Sy(),{ERR_INVALID_ARG_TYPE:l}=i;let u;t.exports.addAbortSignal=function(e,r){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!n(r)&&!s(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(t,i){if("object"!=typeof t||!("aborted"in t))return i;const s=n(i)?()=>{i.destroy(new r(void 0,{cause:t.reason}))}:()=>{i[o](new r(void 0,{cause:t.reason}))};if(t.aborted)s();else{u=u||iy().addAbortListener;const r=u(t,s);a(i,r[e])}return i}}(Xy)),Xy.exports}function ew(){if(Oy)return Cy;Oy=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:i}=Fb(),{Buffer:n}=h,{inspect:s}=iy();return Cy=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,r=""+e.data;for(;null!==(e=e.next);)r+=t+e.data;return r}concat(t){if(0===this.length)return n.alloc(0);const e=n.allocUnsafe(t>>>0);let i=this.head,s=0;for(;i;)r(e,i.data,s),s+=i.data.length,i=i.next;return e}consume(t,e){const r=this.head.data;if(t<r.length){const e=r.slice(0,t);return this.head.data=r.slice(t),e}return t===r.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[e](){for(let t=this.head;t;t=t.next)yield t.data}_getString(e){let r="",i=this.head,n=0;do{const s=i.data;if(!(e>s.length)){e===s.length?(r+=s,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=t(s,0,e),this.head=i,i.data=t(s,e));break}r+=s,e-=s.length,++n}while(null!==(i=i.next));return this.length-=n,r}_getBuffer(t){const e=n.allocUnsafe(t),s=t;let o=this.head,a=0;do{const n=o.data;if(!(t>n.length)){t===n.length?(r(e,n,s-t),++a,o.next?this.head=o.next:this.head=this.tail=null):(r(e,new i(n.buffer,n.byteOffset,t),s-t),this.head=o,o.data=n.slice(t));break}r(e,n,s-t),t-=n.length,++a}while(null!==(o=o.next));return this.length-=a,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return s(this,{...e,depth:0,customInspect:!1})}},Cy}function rw(){if(Ay)return Ty;Ay=1;const{MathFloor:t,NumberIsInteger:e}=Fb(),{validateInteger:r}=hy(),{ERR_INVALID_ARG_VALUE:i}=uy().codes;let n=16384,s=16;function o(t){return t?s:n}return Ty={getHighWaterMark:function(r,n,s,a){const l=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(n,a,s);if(null!=l){if(!e(l)||l<0){throw new i(a?`options.${s}`:"options.highWaterMark",l)}return t(l)}return o(r.objectMode)},getDefaultHighWaterMark:o,setDefaultHighWaterMark:function(t,e){r(e,"value",0),t?s=e:n=e}},Ty}function iw(){if(Ry)return Fy;Ry=1;const t=_y(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:i}=Fb(),{Buffer:n}=h,{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:o}=uy().codes;return Fy=function(a,l,u){let h,c;if("string"==typeof l||l instanceof n)return new a({objectMode:!0,...u,read(){this.push(l),this.push(null)}});if(l&&l[r])c=!0,h=l[r]();else{if(!l||!l[i])throw new s("iterable",["Iterable"],l);c=!1,h=l[i]()}const d=new a({objectMode:!0,highWaterMark:1,...u});let f=!1;return d._read=function(){f||(f=!0,async function(){for(;;){try{const{value:t,done:e}=c?await h.next():h.next();if(e)d.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw f=!1,new o;if(d.push(e))continue;f=!1}}catch(t){d.destroy(t)}break}}())},d._destroy=function(r,i){e(async function(t){const e=null!=t,r="function"==typeof h.throw;if(e&&r){const{value:e,done:r}=await h.throw(t);if(await e,r)return}if("function"==typeof h.return){const{value:t}=await h.return();await t}}(r),(()=>t.nextTick(i,r)),(e=>t.nextTick(i,e||r)))},d},Fy}function nw(){if(Py)return My;Py=1;const e=_y(),{ArrayPrototypeIndexOf:r,NumberIsInteger:i,NumberIsNaN:n,NumberParseInt:s,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:l,Promise:u,SafeSet:c,SymbolAsyncDispose:d,SymbolAsyncIterator:f,Symbol:p}=Fb();My=Z,Z.ReadableState=Y;const{EventEmitter:g}=t,{Stream:b,prependListener:y}=xy(),{Buffer:w}=h,{addAbortSignal:v}=tw(),_=Sy();let D=iy().debuglog("stream",(t=>{D=t}));const S=ew(),E=Ey(),{getHighWaterMark:x,getDefaultHighWaterMark:k}=rw(),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:R},AbortError:M}=uy(),{validateObject:P}=hy(),I=p("kPaused"),{StringDecoder:j}=m,B=iw();l(Z.prototype,b.prototype),l(Z,b);const L=()=>{},{errorOrDestroy:N}=E,$=1,W=16,U=32,z=64,H=2048,G=4096,V=65536;function q(t){return{enumerable:!1,get(){return 0!=(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function Y(t,e,r){"boolean"!=typeof r&&(r=e instanceof aw()),this.state=H|G|W|U,t&&t.objectMode&&(this.state|=$),r&&t&&t.readableObjectMode&&(this.state|=$),this.highWaterMark=t?x(this,t,"readableHighWaterMark",r):k(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[I]=null,t&&!1===t.emitClose&&(this.state&=~H),t&&!1===t.autoDestroy&&(this.state&=~G),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new j(t.encoding),this.encoding=t.encoding)}function Z(t){if(!(this instanceof Z))return new Z(t);const e=this instanceof aw();this._readableState=new Y(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&v(t.signal,this)),b.call(this,t),E.construct(this,(()=>{this._readableState.needReadable&&et(this,this._readableState)}))}function K(t,e,r,i){D("readableAddChunk",e);const n=t._readableState;let s;if(0==(n.state&$)&&("string"==typeof e?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=w.from(e,r).toString(n.encoding):(e=w.from(e,r),r=""))):e instanceof w?r="":b._isUint8Array(e)?(e=b._uint8ArrayToBuffer(e),r=""):null!=e&&(s=new O("chunk",["string","Buffer","Uint8Array"],e))),s)N(t,s);else if(null===e)n.state&=-9,function(t,e){if(D("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?X(t):(e.needReadable=!1,e.emittedReadable=!0,tt(t))}(t,n);else if(0!=(n.state&$)||e&&e.length>0)if(i)if(0!=(4&n.state))N(t,new R);else{if(n.destroyed||n.errored)return!1;J(t,n,e,!0)}else if(n.ended)N(t,new F);else{if(n.destroyed||n.errored)return!1;n.state&=-9,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||0!==e.length?J(t,n,e,!1):et(t,n)):J(t,n,e,!1)}else i||(n.state&=-9,et(t,n));return!n.ended&&(n.length<n.highWaterMark||0===n.length)}function J(t,e,r,i){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(0!=(e.state&V)?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),0!=(e.state&z)&&X(t)),et(t,e)}o(Y.prototype,{objectMode:q($),ended:q(2),endEmitted:q(4),reading:q(8),constructed:q(W),sync:q(U),needReadable:q(z),emittedReadable:q(128),readableListening:q(256),resumeScheduled:q(512),errorEmitted:q(1024),emitClose:q(H),autoDestroy:q(G),destroyed:q(8192),closed:q(16384),closeEmitted:q(32768),multiAwaitDrain:q(V),readingMore:q(1<<17),dataEmitted:q(1<<18)}),Z.prototype.destroy=E.destroy,Z.prototype._undestroy=E.undestroy,Z.prototype._destroy=function(t,e){e(t)},Z.prototype[g.captureRejectionSymbol]=function(t){this.destroy(t)},Z.prototype[d]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new M,this.destroy(t)),new u(((e,r)=>_(this,(i=>i&&i!==t?r(i):e(null)))))},Z.prototype.push=function(t,e){return K(this,t,e,!1)},Z.prototype.unshift=function(t,e){return K(this,t,e,!0)},Z.prototype.isPaused=function(){const t=this._readableState;return!0===t[I]||!1===t.flowing},Z.prototype.setEncoding=function(t){const e=new j(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let i="";for(const t of r)i+=e.write(t);return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this};function Q(t,e){return t<=0||0===e.length&&e.ended?0:0!=(e.state&$)?1:n(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function X(t){const r=t._readableState;D("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(D("emitReadable",r.flowing),r.emittedReadable=!0,e.nextTick(tt,t))}function tt(t){const e=t._readableState;D("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ot(t)}function et(t,r){!r.readingMore&&r.constructed&&(r.readingMore=!0,e.nextTick(rt,t,r))}function rt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const r=e.length;if(D("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function it(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[I]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function nt(t){D("readable nexttick read 0"),t.read(0)}function st(t,e){D("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ot(t),e.flowing&&!e.reading&&t.read(0)}function ot(t){const e=t._readableState;for(D("flow",e.flowing);e.flowing&&null!==t.read(););}function at(t,e){"function"!=typeof t.read&&(t=Z.wrap(t,{objectMode:!0}));const r=async function*(t,e){let r,i=L;function n(e){this===t?(i(),i=L):i=e}t.on("readable",n);const s=_(t,{writable:!1},(t=>{r=t?C(r,t):null,i(),i=L}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(r)throw r;if(null===r)return;await new u(n)}}}catch(t){throw r=C(r,t),r}finally{!r&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==r&&!t._readableState.autoDestroy?(t.off("readable",n),s()):E.destroyer(t,null)}}(t,e);return r.stream=t,r}function lt(t,e){if(0===e.length)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ut(t){const r=t._readableState;D("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,e.nextTick(ht,r,t))}function ht(t,r){if(D("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&0===t.length)if(t.endEmitted=!0,r.emit("end"),r.writable&&!1===r.allowHalfOpen)e.nextTick(ct,r);else if(t.autoDestroy){const t=r._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&r.destroy()}}function ct(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let dt;function ft(){return void 0===dt&&(dt={}),dt}return Z.prototype.read=function(t){D("read",t),void 0===t?t=NaN:i(t)||(t=s(t,10));const e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new A("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return D("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?ut(this):X(this),null;if(0===(t=Q(t,e))&&e.ended)return 0===e.length&&ut(this),null;let n,o=0!=(e.state&z);if(D("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&(o=!0,D("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,D("reading, ended or constructing",o);else if(o){D("do read"),e.state|=8|U,0===e.length&&(e.state|=z);try{this._read(e.highWaterMark)}catch(t){N(this,t)}e.state&=~U,e.reading||(t=Q(r,e))}return n=t>0?lt(t,e):null,null===n?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&ut(this)),null===n||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",n)),n},Z.prototype._read=function(t){throw new T("_read()")},Z.prototype.pipe=function(t,r){const i=this,n=this._readableState;1===n.pipes.length&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new c(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),D("pipe count=%d opts=%j",n.pipes.length,r);const s=(!r||!1!==r.end)&&t!==e.stdout&&t!==e.stderr?a:g;function o(e,r){D("onunpipe"),e===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){D("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),l&&t.removeListener("drain",l);t.removeListener("error",f),t.removeListener("unpipe",o),i.removeListener("end",a),i.removeListener("end",g),i.removeListener("data",d),u=!0,l&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&l()}())}function a(){D("onend"),t.end()}let l;n.endEmitted?e.nextTick(s):i.once("end",s),t.on("unpipe",o);let u=!1;function h(){u||(1===n.pipes.length&&n.pipes[0]===t?(D("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(D("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),i.pause()),l||(l=function(t,e){return function(){const r=t._readableState;r.awaitDrainWriters===e?(D("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(D("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(i,t),t.on("drain",l))}function d(e){D("ondata");const r=t.write(e);D("dest.write",r),!1===r&&h()}function f(e){if(D("onerror",e),g(),t.removeListener("error",f),0===t.listenerCount("error")){const r=t._writableState||t._readableState;r&&!r.errorEmitted?N(t,e):t.emit("error",e)}}function p(){t.removeListener("finish",m),g()}function m(){D("onfinish"),t.removeListener("close",p),g()}function g(){D("unpipe"),i.unpipe(t)}return i.on("data",d),y(t,"error",f),t.once("close",p),t.once("finish",m),t.emit("pipe",i),!0===t.writableNeedDrain?h():n.flowing||(D("pipe resume"),i.resume()),t},Z.prototype.unpipe=function(t){const e=this._readableState;if(0===e.pipes.length)return this;if(!t){const t=e.pipes;e.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const i=r(e.pipes,t);return-1===i||(e.pipes.splice(i,1),0===e.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},Z.prototype.on=function(t,r){const i=b.prototype.on.call(this,t,r),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,D("on readable",n.length,n.reading),n.length?X(this):n.reading||e.nextTick(nt,this))),i},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(t,r){const i=b.prototype.removeListener.call(this,t,r);return"readable"===t&&e.nextTick(it,this),i},Z.prototype.off=Z.prototype.removeListener,Z.prototype.removeAllListeners=function(t){const r=b.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||e.nextTick(it,this),r},Z.prototype.resume=function(){const t=this._readableState;return t.flowing||(D("resume"),t.flowing=!t.readableListening,function(t,r){r.resumeScheduled||(r.resumeScheduled=!0,e.nextTick(st,t,r))}(this,t)),t[I]=!1,this},Z.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[I]=!0,this},Z.prototype.wrap=function(t){let e=!1;t.on("data",(r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{N(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const r=a(t);for(let e=1;e<r.length;e++){const i=r[e];void 0===this[i]&&"function"==typeof t[i]&&(this[i]=t[i].bind(t))}return this},Z.prototype[f]=function(){return at(this)},Z.prototype.iterator=function(t){return void 0!==t&&P(t,"options"),at(this,t)},o(Z.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),o(Y.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[I]},set(t){this[I]=!!t}}}),Z._fromList=lt,Z.from=function(t,e){return B(Z,t,e)},Z.fromWeb=function(t,e){return ft().newStreamReadableFromReadableStream(t,e)},Z.toWeb=function(t,e){return ft().newReadableStreamFromStreamReadable(t,e)},Z.wrap=function(t,e){var r,i;return new Z({objectMode:null===(r=null!==(i=t.readableObjectMode)&&void 0!==i?i:t.objectMode)||void 0===r||r,...e,destroy(e,r){E.destroyer(t,e),r(e)}}).wrap(t)},My}function sw(){if(jy)return Iy;jy=1;const e=_y(),{ArrayPrototypeSlice:r,Error:i,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:s,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:l,Symbol:u,SymbolHasInstance:c}=Fb();Iy=M,M.WritableState=F;const{EventEmitter:d}=t,f=xy().Stream,{Buffer:p}=h,m=Ey(),{addAbortSignal:g}=tw(),{getHighWaterMark:b,getDefaultHighWaterMark:y}=rw(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:E,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:C}=uy().codes,{errorOrDestroy:O}=m;function T(){}a(M.prototype,f.prototype),a(M,f);const A=u("kOnFinished");function F(t,e,r){"boolean"!=typeof r&&(r=e instanceof aw()),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?b(this,t,"writableHighWaterMark",r):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!t||!1!==t.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,R(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[A]=[]}function R(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function M(t){const e=this instanceof aw();if(!e&&!n(M,this))return new M(t);this._writableState=new F(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&g(t.signal,this)),f.call(this,t),m.construct(this,(()=>{const t=this._writableState;t.writing||W(this,t),H(this,t)}))}function P(t,r,i,n){const s=t._writableState;if("function"==typeof i)n=i,i=s.defaultEncoding;else{if(i){if("buffer"!==i&&!p.isEncoding(i))throw new C(i)}else i=s.defaultEncoding;"function"!=typeof n&&(n=T)}if(null===r)throw new x;if(!s.objectMode)if("string"==typeof r)!1!==s.decodeStrings&&(r=p.from(r,i),i="buffer");else if(r instanceof p)i="buffer";else{if(!f._isUint8Array(r))throw new w("chunk",["string","Buffer","Uint8Array"],r);r=f._uint8ArrayToBuffer(r),i="buffer"}let o;return s.ending?o=new k:s.destroyed&&(o=new S("write")),o?(e.nextTick(n,o),O(t,o,!0),o):(s.pendingcb++,function(t,e,r,i,n){const s=e.objectMode?1:r.length;e.length+=s;const o=e.length<e.highWaterMark;o||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&"buffer"!==i&&(e.allBuffers=!1),e.allNoop&&n!==T&&(e.allNoop=!1)):(e.writelen=s,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1);return o&&!e.errored&&!e.destroyed}(t,s,r,i,n))}function I(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new S("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function j(t,e,r,i){--e.pendingcb,i(r),$(e),O(t,r)}function B(t,r){const i=t._writableState,n=i.sync,s=i.writecb;"function"==typeof s?(i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,r?(r.stack,i.errored||(i.errored=r),t._readableState&&!t._readableState.errored&&(t._readableState.errored=r),n?e.nextTick(j,t,i,r,s):j(t,i,r,s)):(i.buffered.length>i.bufferedIndex&&W(t,i),n?null!==i.afterWriteTickInfo&&i.afterWriteTickInfo.cb===s?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:s,stream:t,state:i},e.nextTick(L,i.afterWriteTickInfo)):N(t,i,1,s))):O(t,new _)}function L({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,N(t,e,r,i)}function N(t,e,r,i){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&$(e),H(t,e)}function $(t){if(t.writing)return;for(let r=t.bufferedIndex;r<t.buffered.length;++r){var e;const{chunk:i,callback:n}=t.buffered[r],s=t.objectMode?1:i.length;t.length-=s,n(null!==(e=t.errored)&&void 0!==e?e:new S("write"))}const r=t[A].splice(0);for(let e=0;e<r.length;e++){var i;r[e](null!==(i=t.errored)&&void 0!==i?i:new S("end"))}R(t)}function W(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;const{buffered:i,bufferedIndex:n,objectMode:s}=e,o=i.length-n;if(!o)return;let a=n;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;const n=e.allNoop?T:t=>{for(let e=a;e<i.length;++e)i[e].callback(t)},s=e.allNoop&&0===a?i:r(i,a);s.allBuffers=e.allBuffers,I(t,e,!0,e.length,s,"",n),R(e)}else{do{const{chunk:r,encoding:n,callback:o}=i[a];i[a++]=null;I(t,e,!1,s?1:r.length,r,n,o)}while(a<i.length&&!e.writing);a===i.length?R(e):a>256?(i.splice(0,a),e.bufferedIndex=0):e.bufferedIndex=a}e.bufferProcessing=!1}function U(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function z(t,r){r.prefinished||r.finalCalled||("function"!=typeof t._final||r.destroyed?(r.prefinished=!0,t.emit("prefinish")):(r.finalCalled=!0,function(t,r){let i=!1;function n(n){if(i)O(t,null!=n?n:_());else if(i=!0,r.pendingcb--,n){const e=r[A].splice(0);for(let t=0;t<e.length;t++)e[t](n);O(t,n,r.sync)}else U(r)&&(r.prefinished=!0,t.emit("prefinish"),r.pendingcb++,e.nextTick(G,t,r))}r.sync=!0,r.pendingcb++;try{t._final(n)}catch(t){n(t)}r.sync=!1}(t,r)))}function H(t,r,i){U(r)&&(z(t,r),0===r.pendingcb&&(i?(r.pendingcb++,e.nextTick(((t,e)=>{U(e)?G(t,e):e.pendingcb--}),t,r)):U(r)&&(r.pendingcb++,G(t,r))))}function G(t,e){e.pendingcb--,e.finished=!0;const r=e[A].splice(0);for(let t=0;t<r.length;t++)r[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}F.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},s(F.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(M,c,{__proto__:null,value:function(t){return!!n(this,t)||this===M&&(t&&t._writableState instanceof F)}}),M.prototype.pipe=function(){O(this,new D)},M.prototype.write=function(t,e,r){return!0===P(this,t,e,r)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||W(this,t))},M.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=l(t)),!p.isEncoding(t))throw new C(t);return this._writableState.defaultEncoding=t,this},M.prototype._write=function(t,e,r){if(!this._writev)throw new v("_write()");this._writev([{chunk:t,encoding:e}],r)},M.prototype._writev=null,M.prototype.end=function(t,r,n){const s=this._writableState;let o;if("function"==typeof t?(n=t,t=null,r=null):"function"==typeof r&&(n=r,r=null),null!=t){const e=P(this,t,r);e instanceof i&&(o=e)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new E("end"):s.destroyed&&(o=new S("end")):(s.ending=!0,H(this,s,!0),s.ended=!0)),"function"==typeof n&&(o||s.finished?e.nextTick(n,o):s[A].push(n)),this},o(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const V=m.destroy;let q;function Y(){return void 0===q&&(q={}),q}return M.prototype.destroy=function(t,r){const i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[A].length)&&e.nextTick($,i),V.call(this,t,r),this},M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(t,e){e(t)},M.prototype[d.captureRejectionSymbol]=function(t){this.destroy(t)},M.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},M.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)},Iy}function ow(){if(Ly)return By;Ly=1;const t=_y(),e=h,{isReadable:r,isWritable:i,isIterable:n,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:c}=Dy(),d=Sy(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:m}}=uy(),{destroyer:g}=Ey(),b=aw(),y=nw(),w=sw(),{createDeferredPromise:v}=iy(),_=iw(),D=globalThis.Blob||e.Blob,S=void 0!==D?function(t){return t instanceof D}:function(t){return!1},E=globalThis.AbortController||ry.AbortController,{FunctionPrototypeCall:x}=Fb();class k extends b{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function C(t){const e=t.readable&&"function"!=typeof t.readable.read?y.wrap(t.readable):t.readable,n=t.writable;let s,o,a,l,u,h=!!r(e),c=!!i(n);function p(t){const e=l;l=null,e?e(t):t&&u.destroy(t)}return u=new k({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:h,writable:c}),c&&(d(n,(t=>{c=!1,t&&g(e,t),p(t)})),u._write=function(t,e,r){n.write(t,e)?r():s=r},u._final=function(t){n.end(),o=t},n.on("drain",(function(){if(s){const t=s;s=null,t()}})),n.on("finish",(function(){if(o){const t=o;o=null,t()}}))),h&&(d(e,(t=>{h=!1,t&&g(e,t),p(t)})),e.on("readable",(function(){if(a){const t=a;a=null,t()}})),e.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const t=e.read();if(null===t)return void(a=u._read);if(!u.push(t))return}}),u._destroy=function(t,r){t||null===l||(t=new f),a=null,s=null,o=null,null===l?r(t):(l=r,g(n,t),g(e,t))},u}return By=function e(r,i){if(l(r))return r;if(o(r))return C({readable:r});if(a(r))return C({writable:r});if(s(r))return C({writable:!1,readable:!1});if(u(r))return C({readable:y.fromWeb(r)});if(c(r))return C({writable:w.fromWeb(r)});if("function"==typeof r){const{value:e,write:s,final:o,destroy:a}=function(e){let{promise:r,resolve:i}=v();const n=new E,s=n.signal,o=e(async function*(){for(;;){const e=r;r=null;const{chunk:n,done:o,cb:a}=await e;if(t.nextTick(a),o)return;if(s.aborted)throw new f(void 0,{cause:s.reason});({promise:r,resolve:i}=v()),yield n}}(),{signal:s});return{value:o,write(t,e,r){const n=i;i=null,n({chunk:t,done:!1,cb:r})},final(t){const e=i;i=null,e({done:!0,cb:t})},destroy(t,e){n.abort(),e(t)}}}(r);if(n(e))return _(k,e,{objectMode:!0,write:s,final:o,destroy:a});const l=null==e?void 0:e.then;if("function"==typeof l){let r;const i=x(l,e,(t=>{if(null!=t)throw new m("nully","body",t)}),(t=>{g(r,t)}));return r=new k({objectMode:!0,readable:!1,write:s,final(e){o((async()=>{try{await i,t.nextTick(e,null)}catch(r){t.nextTick(e,r)}}))},destroy:a})}throw new m("Iterable, AsyncIterable or AsyncFunction",i,e)}if(S(r))return e(r.arrayBuffer());if(n(r))return _(k,r,{objectMode:!0,writable:!1});if(u(null==r?void 0:r.readable)&&c(null==r?void 0:r.writable))return k.fromWeb(r);if("object"==typeof(null==r?void 0:r.writable)||"object"==typeof(null==r?void 0:r.readable)){return C({readable:null!=r&&r.readable?o(null==r?void 0:r.readable)?null==r?void 0:r.readable:e(r.readable):void 0,writable:null!=r&&r.writable?a(null==r?void 0:r.writable)?null==r?void 0:r.writable:e(r.writable):void 0})}const h=null==r?void 0:r.then;if("function"==typeof h){let t;return x(h,r,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{g(t,e)})),t=new k({objectMode:!0,writable:!1,read(){}})}throw new p(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],r)},By}function aw(){if($y)return Ny;$y=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:i}=Fb();Ny=o;const n=nw(),s=sw();i(o.prototype,n.prototype),i(o,n);{const t=r(s.prototype);for(let e=0;e<t.length;e++){const r=t[e];o.prototype[r]||(o.prototype[r]=s.prototype[r])}}function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),s.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let a,l;function u(){return void 0===a&&(a={}),a}return t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),o.fromWeb=function(t,e){return u().newStreamDuplexFromReadableWritablePair(t,e)},o.toWeb=function(t){return u().newReadableWritablePairFromDuplex(t)},o.from=function(t){return l||(l=ow()),l(t,"body")},Ny}function lw(){if(Uy)return Wy;Uy=1;const{ObjectSetPrototypeOf:t,Symbol:e}=Fb();Wy=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=uy().codes,i=aw(),{getHighWaterMark:n}=rw();t(o.prototype,i.prototype),t(o,i);const s=e("kCallback");function o(t){if(!(this instanceof o))return new o(t);const e=t?n(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),i.call(this,t),this._readableState.sync=!1,this[s]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function a(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,r)=>{e?t?t(e):this.destroy(e):(null!=r&&this.push(r),this.push(null),t&&t())}))}function l(){this._final!==a&&a.call(this)}return o.prototype._final=a,o.prototype._transform=function(t,e,i){throw new r("_transform()")},o.prototype._write=function(t,e,r){const i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,((t,e)=>{t?r(t):(null!=e&&this.push(e),n.ended||o===i.length||i.length<i.highWaterMark?r():this[s]=r)}))},o.prototype._read=function(){if(this[s]){const t=this[s];this[s]=null,t()}},Wy}function uw(){if(Hy)return zy;Hy=1;const{ObjectSetPrototypeOf:t}=Fb();zy=r;const e=lw();function r(t){if(!(this instanceof r))return new r(t);e.call(this,t)}return t(r.prototype,e.prototype),t(r,e),r.prototype._transform=function(t,e,r){r(null,t)},zy}function hw(){if(Vy)return Gy;Vy=1;const t=_y(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:i,SymbolDispose:n}=Fb(),s=Sy(),{once:o}=iy(),a=Ey(),l=aw(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:f,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:m}=uy(),{validateFunction:g,validateAbortSignal:b}=hy(),{isIterable:y,isReadable:w,isReadableNodeStream:v,isNodeStream:_,isTransformStream:D,isWebStream:S,isReadableStream:E,isReadableFinished:x}=Dy(),k=globalThis.AbortController||ry.AbortController;let C,O,T;function A(t,e,r){let i=!1;t.on("close",(()=>{i=!0}));return{destroy:e=>{i||(i=!0,a.destroyer(t,e||new f("pipe")))},cleanup:s(t,{readable:e,writable:r},(t=>{i=!t}))}}function F(t){if(y(t))return t;if(v(t))return async function*(t){O||(O=nw());yield*O.prototype[i].call(t)}(t);throw new h("val",["Readable","Iterable","AsyncIterable"],t)}async function R(t,e,i,{end:n}){let o,a=null;const l=t=>{if(t&&(o=t),a){const t=a;a=null,t()}},h=()=>new r(((t,e)=>{o?e(o):a=()=>{o?e(o):t()}}));e.on("drain",l);const c=s(e,{readable:!1},l);try{e.writableNeedDrain&&await h();for await(const r of t)e.write(r)||await h();n&&(e.end(),await h()),i()}catch(t){i(o!==t?u(o,t):t)}finally{c(),e.off("drain",l)}}async function M(t,e,r,{end:i}){D(e)&&(e=e.writable);const n=e.getWriter();try{for await(const e of t)await n.ready,n.write(e).catch((()=>{}));await n.ready,i&&await n.close(),r()}catch(t){try{await n.abort(t),r(t)}catch(t){r(t)}}}function P(r,i,s){if(1===r.length&&e(r[0])&&(r=r[0]),r.length<2)throw new d("streams");const o=new k,a=o.signal,u=null==s?void 0:s.signal,f=[];function p(){N(new m)}let g,x,O;b(u,"options.signal"),T=T||iy().addAbortListener,u&&(g=T(u,p));const P=[];let j,B=0;function L(t){N(t,0==--B)}function N(e,r){var s;if(!e||x&&"ERR_STREAM_PREMATURE_CLOSE"!==x.code||(x=e),x||r){for(;P.length;)P.shift()(x);null===(s=g)||void 0===s||s[n](),o.abort(),r&&(x||f.forEach((t=>t())),t.nextTick(i,x,O))}}for(let U=0;U<r.length;U++){const z=r[U],H=U<r.length-1,G=U>0,V=H||!1!==(null==s?void 0:s.end),q=U===r.length-1;if(_(z)){if(V){const{destroy:Z,cleanup:K}=A(z,H,G);P.push(Z),w(z)&&q&&f.push(K)}function Y(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&L(t)}z.on("error",Y),w(z)&&q&&f.push((()=>{z.removeListener("error",Y)}))}if(0===U)if("function"==typeof z){if(j=z({signal:a}),!y(j))throw new c("Iterable, AsyncIterable or Stream","source",j)}else j=y(z)||v(z)||D(z)?z:l.from(z);else if("function"==typeof z){var $;if(D(j))j=F(null===($=j)||void 0===$?void 0:$.readable);else j=F(j);if(j=z(j,{signal:a}),H){if(!y(j,!0))throw new c("AsyncIterable",`transform[${U-1}]`,j)}else{var W;C||(C=uw());const J=new C({objectMode:!0}),Q=null===(W=j)||void 0===W?void 0:W.then;if("function"==typeof Q)B++,Q.call(j,(e=>{O=e,null!=e&&J.write(e),V&&J.end(),t.nextTick(L)}),(e=>{J.destroy(e),t.nextTick(L,e)}));else if(y(j,!0))B++,R(j,J,L,{end:V});else{if(!E(j)&&!D(j))throw new c("AsyncIterable or Promise","destination",j);{const et=j.readable||j;B++,R(et,J,L,{end:V})}}j=J;const{destroy:X,cleanup:tt}=A(j,!1,!0);P.push(X),q&&f.push(tt)}}else if(_(z)){if(v(j)){B+=2;const rt=I(j,z,L,{end:V});w(z)&&q&&f.push(rt)}else if(D(j)||E(j)){const it=j.readable||j;B++,R(it,z,L,{end:V})}else{if(!y(j))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);B++,R(j,z,L,{end:V})}j=z}else if(S(z)){if(v(j))B++,M(F(j),z,L,{end:V});else if(E(j)||y(j))B++,M(j,z,L,{end:V});else{if(!D(j))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],j);B++,M(j.readable,z,L,{end:V})}j=z}else j=l.from(z)}return(null!=a&&a.aborted||null!=u&&u.aborted)&&t.nextTick(p),j}function I(e,r,i,{end:n}){let o=!1;if(r.on("close",(()=>{o||i(new p)})),e.pipe(r,{end:!1}),n){function a(){o=!0,r.end()}x(e)?t.nextTick(a):e.once("end",a)}else i();return s(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",i).once("error",i):i(t)})),s(r,{readable:!1,writable:!0},i)}return Gy={pipelineImpl:P,pipeline:function(...t){return P(t,o(function(t){return g(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}}function cw(){if(Yy)return qy;Yy=1;const{pipeline:t}=hw(),e=aw(),{destroyer:r}=Ey(),{isNodeStream:i,isReadable:n,isWritable:s,isWebStream:o,isTransformStream:a,isWritableStream:l,isReadableStream:u}=Dy(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:d}}=uy(),f=Sy();return qy=function(...p){if(0===p.length)throw new d("streams");if(1===p.length)return e.from(p[0]);const m=[...p];if("function"==typeof p[0]&&(p[0]=e.from(p[0])),"function"==typeof p[p.length-1]){const t=p.length-1;p[t]=e.from(p[t])}for(let t=0;t<p.length;++t)if(i(p[t])||o(p[t])){if(t<p.length-1&&!(n(p[t])||u(p[t])||a(p[t])))throw new c(`streams[${t}]`,m[t],"must be readable");if(t>0&&!(s(p[t])||l(p[t])||a(p[t])))throw new c(`streams[${t}]`,m[t],"must be writable")}let g,b,y,w,v;const _=p[0],D=t(p,(function(t){const e=w;w=null,e?e(t):t?v.destroy(t):E||S||v.destroy()})),S=!!(s(_)||l(_)||a(_)),E=!!(n(D)||u(D)||a(D));if(v=new e({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==D||!D.readableObjectMode),writable:S,readable:E}),S){if(i(_))v._write=function(t,e,r){_.write(t,e)?r():g=r},v._final=function(t){_.end(),b=t},_.on("drain",(function(){if(g){const t=g;g=null,t()}}));else if(o(_)){const t=(a(_)?_.writable:_).getWriter();v._write=async function(e,r,i){try{await t.ready,t.write(e).catch((()=>{})),i()}catch(t){i(t)}},v._final=async function(e){try{await t.ready,t.close().catch((()=>{})),b=e}catch(t){e(t)}}}const t=a(D)?D.readable:D;f(t,(()=>{if(b){const t=b;b=null,t()}}))}if(E)if(i(D))D.on("readable",(function(){if(y){const t=y;y=null,t()}})),D.on("end",(function(){v.push(null)})),v._read=function(){for(;;){const t=D.read();if(null===t)return void(y=v._read);if(!v.push(t))return}};else if(o(D)){const t=(a(D)?D.readable:D).getReader();v._read=async function(){for(;;)try{const{value:e,done:r}=await t.read();if(!v.push(e))return;if(r)return void v.push(null)}catch{return}}}return v._destroy=function(t,e){t||null===w||(t=new h),y=null,g=null,b=null,null===w?e(t):(w=e,i(D)&&r(D,t))},v},qy}function dw(){if(Jy)return Ky;Jy=1;const{ArrayPrototypePop:t,Promise:e}=Fb(),{isIterable:r,isNodeStream:i,isWebStream:n}=Dy(),{pipelineImpl:s}=hw(),{finished:o}=Sy();return fw(),Ky={finished:o,pipeline:function(...o){return new e(((e,a)=>{let l,u;const h=o[o.length-1];if(h&&"object"==typeof h&&!i(h)&&!r(h)&&!n(h)){const e=t(o);l=e.signal,u=e.end}s(o,((t,r)=>{t?a(t):e(r)}),{signal:l,end:u})}))}},Ky}function fw(){if(Qy)return Ab.exports;Qy=1;const{Buffer:t}=h,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:i}=Fb(),{promisify:{custom:n}}=iy(),{streamReturningOperators:s,promiseReturningOperators:o}=function(){if(Zy)return ly;Zy=1;const t=globalThis.AbortController||ry.AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:n},AbortError:s}=uy(),{validateAbortSignal:o,validateInteger:a,validateObject:l}=hy(),u=Fb().Symbol("kWeak"),h=Fb().Symbol("kResistStopPropagation"),{finished:c}=Sy(),d=cw(),{addAbortSignalNoValidate:f}=tw(),{isWritable:p,isNodeStream:m}=Dy(),{deprecate:g}=iy(),{ArrayPrototypePush:b,Boolean:y,MathFloor:w,Number:v,NumberIsNaN:_,Promise:D,PromiseReject:S,PromiseResolve:E,PromisePrototypeThen:x,Symbol:k}=Fb(),C=k("kEmpty"),O=k("kEof");function T(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal");let i=1;null!=(null==e?void 0:e.concurrency)&&(i=w(e.concurrency));let n=i-1;return null!=(null==e?void 0:e.highWaterMark)&&(n=w(e.highWaterMark)),a(i,"options.concurrency",1),a(n,"options.highWaterMark",0),n+=i,async function*(){const r=iy().AbortSignalAny([null==e?void 0:e.signal].filter(y)),o=this,a=[],l={signal:r};let u,h,c=!1,d=0;function f(){c=!0,p()}function p(){d-=1,m()}function m(){h&&!c&&d<i&&a.length<n&&(h(),h=null)}!async function(){try{for await(let e of o){if(c)return;if(r.aborted)throw new s;try{if(e=t(e,l),e===C)continue;e=E(e)}catch(t){e=S(t)}d+=1,x(e,p,f),a.push(e),u&&(u(),u=null),!c&&(a.length>=n||d>=i)&&await new D((t=>{h=t}))}a.push(O)}catch(t){const e=S(t);x(e,p,f),a.push(e)}finally{c=!0,u&&(u(),u=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===O)return;if(r.aborted)throw new s;t!==C&&(yield t),a.shift(),m()}await new D((t=>{u=t}))}}finally{c=!0,h&&(h(),h=null)}}.call(this)}async function A(t,e=void 0){for await(const r of F.call(this,t,e))return!0;return!1}function F(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return T.call(this,(async function(e,r){return await t(e,r)?e:C}),e)}class R extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function M(t){if(t=v(t),_(t))return 0;if(t<0)throw new n("number",">= 0",t);return t}return ly.streamReturningOperators={asIndexedPairs:g((function(t=void 0){return null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal"),async function*(){let e=0;for await(const i of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s({cause:t.signal.reason});yield[e++,i]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=M(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new s;t--<=0&&(yield r)}}.call(this)},filter:F,flatMap:function(t,e){const r=T.call(this,t,e);return async function*(){for await(const t of r)yield*t}.call(this)},map:T,take:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=M(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new s;if(t-- >0&&(yield r),t<=0)return}}.call(this)},compose:function(t,r){if(null!=r&&l(r,"options"),null!=(null==r?void 0:r.signal)&&o(r.signal,"options.signal"),m(t)&&!p(t))throw new e("stream",t,"must be writable");const i=d(this,t);return null!=r&&r.signal&&f(r.signal,i),i}},ly.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return!await A.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);for await(const r of T.call(this,(async function(e,r){return await t(e,r),C}),e));},reduce:async function(e,i,n){var a;if("function"!=typeof e)throw new r("reducer",["Function","AsyncFunction"],e);null!=n&&l(n,"options"),null!=(null==n?void 0:n.signal)&&o(n.signal,"options.signal");let d=arguments.length>1;if(null!=n&&null!==(a=n.signal)&&void 0!==a&&a.aborted){const t=new s(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await c(this.destroy(t)),t}const f=new t,p=f.signal;if(null!=n&&n.signal){const t={once:!0,[u]:this,[h]:!0};n.signal.addEventListener("abort",(()=>f.abort()),t)}let m=!1;try{for await(const t of this){var g;if(m=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new s;d?i=await e(i,t,{signal:p}):(i=t,d=!0)}if(!m&&!d)throw new R}finally{f.abort()}return i},toArray:async function(t){null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal");const e=[];for await(const i of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s(void 0,{cause:t.signal.reason});b(e,i)}return e},some:A,find:async function(t,e){for await(const r of F.call(this,t,e))return r}},ly}(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=uy(),l=cw(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=rw(),{pipeline:d}=hw(),{destroyer:f}=Ey(),p=Sy(),m=dw(),g=Dy(),b=Ab.exports=xy().Stream;b.isDestroyed=g.isDestroyed,b.isDisturbed=g.isDisturbed,b.isErrored=g.isErrored,b.isReadable=g.isReadable,b.isWritable=g.isWritable,b.Readable=nw();for(const w of r(s)){const v=s[w];function _(...t){if(new.target)throw a();return b.Readable.from(i(v,this,t))}e(_,"name",{__proto__:null,value:v.name}),e(_,"length",{__proto__:null,value:v.length}),e(b.Readable.prototype,w,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const D of r(o)){const S=o[D];function E(...t){if(new.target)throw a();return i(S,this,t)}e(E,"name",{__proto__:null,value:S.name}),e(E,"length",{__proto__:null,value:S.length}),e(b.Readable.prototype,D,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}b.Writable=sw(),b.Duplex=aw(),b.Transform=lw(),b.PassThrough=uw(),b.pipeline=d;const{addAbortSignal:y}=tw();return b.addAbortSignal=y,b.finished=p,b.destroy=f,b.compose=l,b.setDefaultHighWaterMark=u,b.getDefaultHighWaterMark=c,e(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),e(d,n,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),e(p,n,{__proto__:null,enumerable:!0,get:()=>m.finished}),b.Stream=b,b._isUint8Array=function(t){return t instanceof Uint8Array},b._uint8ArrayToBuffer=function(e){return t.from(e.buffer,e.byteOffset,e.byteLength)},Ab.exports}!function(t){const e=u;if(e&&"disable"===process.env.READABLE_STREAM){const r=e.promises;t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}else{const e=fw(),r=dw(),i=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=i,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}t.exports.default=t.exports}(Tb);var pw=Tb.exports,mw={exports:{}};var gw=function(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t},bw=Lg,yw=Ng,ww=km?km.isConcatSpreadable:void 0;var vw=gw,_w=function(t){return yw(t)||bw(t)||!!(ww&&t&&t[ww])};var Dw=function t(e,r,i,n,s){var o=-1,a=e.length;for(i||(i=_w),s||(s=[]);++o<a;){var l=e[o];r>0&&i(l)?r>1?t(l,r-1,i,n,s):vw(s,l):n||(s[s.length]=l)}return s},Sw=Dw;var Ew=function(t){return(null==t?0:t.length)?Sw(t,1):[]},xw=sg(Object,"create"),kw=xw;var Cw=function(){this.__data__=kw?kw(null):{},this.size=0};var Ow=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Tw=xw,Aw=Object.prototype.hasOwnProperty;var Fw=function(t){var e=this.__data__;if(Tw){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Aw.call(e,t)?e[t]:void 0},Rw=xw,Mw=Object.prototype.hasOwnProperty;var Pw=xw;var Iw=Cw,jw=Ow,Bw=Fw,Lw=function(t){var e=this.__data__;return Rw?void 0!==e[t]:Mw.call(e,t)},Nw=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Pw&&void 0===e?"__lodash_hash_undefined__":e,this};function $w(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}$w.prototype.clear=Iw,$w.prototype.delete=jw,$w.prototype.get=Bw,$w.prototype.has=Lw,$w.prototype.set=Nw;var Ww=$w;var Uw=function(){this.__data__=[],this.size=0},zw=bg;var Hw=function(t,e){for(var r=t.length;r--;)if(zw(t[r][0],e))return r;return-1},Gw=Hw,Vw=Array.prototype.splice;var qw=function(t){var e=this.__data__,r=Gw(e,t);return!(r<0)&&(r==e.length-1?e.pop():Vw.call(e,r,1),--this.size,!0)},Yw=Hw;var Zw=function(t){var e=this.__data__,r=Yw(e,t);return r<0?void 0:e[r][1]},Kw=Hw;var Jw=Hw;var Qw=function(t,e){var r=this.__data__,i=Jw(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this},Xw=Uw,tv=qw,ev=Zw,rv=function(t){return Kw(this.__data__,t)>-1},iv=Qw;function nv(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}nv.prototype.clear=Xw,nv.prototype.delete=tv,nv.prototype.get=ev,nv.prototype.has=rv,nv.prototype.set=iv;var sv=nv,ov=sg(xm,"Map"),av=Ww,lv=sv,uv=ov;var hv=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},cv=hv;var dv=function(t,e){var r=t.__data__;return cv(e)?r["string"==typeof e?"string":"hash"]:r.map},fv=dv;var pv=function(t){var e=fv(this,t).delete(t);return this.size-=e?1:0,e},mv=dv;var gv=dv;var bv=dv;var yv=function(){this.size=0,this.__data__={hash:new av,map:new(uv||lv),string:new av}},wv=pv,vv=function(t){return mv(this,t).get(t)},_v=function(t){return gv(this,t).has(t)},Dv=function(t,e){var r=bv(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this};function Sv(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Sv.prototype.clear=yv,Sv.prototype.delete=wv,Sv.prototype.get=vv,Sv.prototype.has=_v,Sv.prototype.set=Dv;var Ev=Sv,xv=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},kv=function(t){return this.__data__.has(t)};function Cv(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Ev;++e<r;)this.add(t[e])}Cv.prototype.add=Cv.prototype.push=xv,Cv.prototype.has=kv;var Ov=Cv;var Tv=function(t,e,r,i){for(var n=t.length,s=r+(i?1:-1);i?s--:++s<n;)if(e(t[s],s,t))return s;return-1};var Av=function(t,e,r){for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1},Fv=Tv,Rv=function(t){return t!=t},Mv=Av;var Pv=function(t,e,r){return e==e?Mv(t,e,r):Fv(t,Rv,r)};var Iv=function(t,e){return!!(null==t?0:t.length)&&Pv(t,e,0)>-1};var jv=function(t,e,r){for(var i=-1,n=null==t?0:t.length;++i<n;)if(r(e,t[i]))return!0;return!1};var Bv=function(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n};var Lv=function(t,e){return t.has(e)},Nv=Ov,$v=Iv,Wv=jv,Uv=Bv,zv=Yg,Hv=Lv;var Gv=function(t,e,r,i){var n=-1,s=$v,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;r&&(e=Uv(e,zv(r))),i?(s=Wv,o=!1):e.length>=200&&(s=Hv,o=!1,e=new Nv(e));t:for(;++n<a;){var h=t[n],c=null==r?h:r(h);if(h=i||0!==h?h:0,o&&c==c){for(var d=u;d--;)if(e[d]===c)continue t;l.push(h)}else s(e,c,i)||l.push(h)}return l},Vv=_g,qv=Ag;var Yv=function(t){return qv(t)&&Vv(t)},Zv=Gv,Kv=Dw,Jv=Yv,Qv=gg((function(t,e){return Jv(t)?Zv(t,Kv(e,1,Jv,!0)):[]}));var Xv=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},t_=sg(xm,"Set"),e_=function(){},r_=t_&&1/Xv(new t_([,-0]))[1]==1/0?function(t){return new t_(t)}:e_,i_=Ov,n_=Iv,s_=jv,o_=Lv,a_=r_,l_=Xv;var u_=function(t,e,r){var i=-1,n=n_,s=t.length,o=!0,a=[],l=a;if(r)o=!1,n=s_;else if(s>=200){var u=e?null:a_(t);if(u)return l_(u);o=!1,n=o_,l=new i_}else l=e?[]:a;t:for(;++i<s;){var h=t[i],c=e?e(h):h;if(h=r||0!==h?h:0,o&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue t;e&&l.push(c),a.push(h)}else n(l,c,r)||(l!==a&&l.push(c),a.push(h))}return a},h_=Dw,c_=u_,d_=Yv,f_=gg((function(t){return c_(h_(t,1,d_,!0))}));var p_=function(t,e){return function(r){return t(e(r))}},m_=p_(Object.getPrototypeOf,Object),g_=Bm,b_=m_,y_=Ag,w_=Function.prototype,v_=Object.prototype,__=w_.toString,D_=v_.hasOwnProperty,S_=__.call(Object);var E_=function(t){if(!y_(t)||"[object Object]"!=g_(t))return!1;var e=b_(t);if(null===e)return!0;var r=D_.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&__.call(r)==S_},x_={};function k_(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function C_(t,e,r){return(e=k_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O_(t,e){return M_(t,A_(t,e,"get"))}function T_(t,e,r){return P_(t,A_(t,e,"set"),r),r}function A_(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function F_(t,e,r,i){return I_(t,e),j_(r,"set"),P_(t,r,i),i}function R_(t,e,r){return I_(t,e),r}function M_(t,e){return e.get?e.get.call(t):e.value}function P_(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}function I_(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}function j_(t,e){if(void 0===t)throw new TypeError("attempted to "+e+" private static field before its declaration")}function B_(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function L_(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function N_(t,e,r){L_(t,e),e.set(t,r)}function $_(t,e){L_(t,e),e.add(t)}var W_={},U_={};Object.defineProperty(U_,"__esModule",{value:!0}),U_.assertValidPattern=void 0;U_.assertValidPattern=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};var z_={},H_={};Object.defineProperty(H_,"__esModule",{value:!0}),H_.parseClass=void 0;const G_={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},V_=t=>t.replace(/[[\]\\-]/g,"\\$&"),q_=t=>t.join("");H_.parseClass=(t,e)=>{const r=e;if("["!==t.charAt(r))throw new Error("not in a brace expression");const i=[],n=[];let s=r+1,o=!1,a=!1,l=!1,u=!1,h=r,c="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==r+1){if("]"===e&&o&&!l){h=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,u]]of Object.entries(G_))if(t.startsWith(e,s)){if(c)return["$.",!1,t.length-r,!0];s+=e.length,u?n.push(o):i.push(o),a=a||l;continue t}l=!1,c?(e>c?i.push(V_(c)+"-"+V_(e)):e===c&&i.push(V_(e)),c="",s++):t.startsWith("-]",s+1)?(i.push(V_(e+"-")),s+=2):t.startsWith("-",s+1)?(c=e,s+=2):(i.push(V_(e)),s++)}else l=!0,s++}else u=!0,s++}if(h<s)return["",!1,0,!1];if(!i.length&&!n.length)return["$.",!1,t.length-r,!0];if(0===n.length&&1===i.length&&/^\\?.$/.test(i[0])&&!u){const t=2===i[0].length?i[0].slice(-1):i[0];return[(d=t,d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,h-r,!1]}var d;const f="["+(u?"^":"")+q_(i)+"]",p="["+(u?"":"^")+q_(n)+"]";return[i.length&&n.length?"("+f+"|"+p+")":i.length?f:p,a,h-r,!0]};var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.unescape=void 0;var Z_;Y_.unescape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Object.defineProperty(z_,"__esModule",{value:!0}),z_.AST=void 0;const K_=H_,J_=Y_,Q_=new Set(["!","?","+","*","@"]),X_=t=>Q_.has(t),tD="(?!\\.)",eD=new Set(["[","."]),rD=new Set(["..","."]),iD=new Set("().*{}+?[]^$\\!"),nD="[^/]",sD=nD+"*?",oD=nD+"+?";var aD=new WeakMap,lD=new WeakMap,uD=new WeakMap,hD=new WeakMap,cD=new WeakMap,dD=new WeakMap,fD=new WeakMap,pD=new WeakMap,mD=new WeakMap,gD=new WeakMap,bD=new WeakMap,yD=new WeakSet,wD=new WeakSet;class vD{constructor(t,e,r={}){$_(this,wD),$_(this,yD),C_(this,"type",void 0),N_(this,aD,{writable:!0,value:void 0}),N_(this,lD,{writable:!0,value:void 0}),N_(this,uD,{writable:!0,value:!1}),N_(this,hD,{writable:!0,value:[]}),N_(this,cD,{writable:!0,value:void 0}),N_(this,dD,{writable:!0,value:void 0}),N_(this,fD,{writable:!0,value:void 0}),N_(this,pD,{writable:!0,value:!1}),N_(this,mD,{writable:!0,value:void 0}),N_(this,gD,{writable:!0,value:void 0}),N_(this,bD,{writable:!0,value:!1}),this.type=t,t&&T_(this,lD,!0),T_(this,cD,e),T_(this,aD,O_(this,cD)?O_(O_(this,cD),aD):this),T_(this,mD,O_(this,aD)===this?r:O_(O_(this,aD),mD)),T_(this,fD,O_(this,aD)===this?[]:O_(O_(this,aD),fD)),"!"!==t||O_(O_(this,aD),pD)||O_(this,fD).push(this),T_(this,dD,O_(this,cD)?O_(O_(this,cD),hD).length:0)}get hasMagic(){if(void 0!==O_(this,lD))return O_(this,lD);for(const t of O_(this,hD))if("string"!=typeof t&&(t.type||t.hasMagic))return T_(this,lD,!0);return O_(this,lD)}toString(){return void 0!==O_(this,gD)?O_(this,gD):this.type?T_(this,gD,this.type+"("+O_(this,hD).map((t=>String(t))).join("|")+")"):T_(this,gD,O_(this,hD).map((t=>String(t))).join(""))}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof vD&&O_(e,cD)===this))throw new Error("invalid part: "+e);O_(this,hD).push(e)}}toJSON(){const t=null===this.type?O_(this,hD).slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...O_(this,hD).map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===O_(this,aD)||O_(O_(this,aD),pD)&&"!"===O_(this,cD)?.type)&&t.push({}),t}isStart(){if(O_(this,aD)===this)return!0;if(!O_(this,cD)?.isStart())return!1;if(0===O_(this,dD))return!0;const t=O_(this,cD);for(let e=0;e<O_(this,dD);e++){const r=O_(t,hD)[e];if(!(r instanceof vD&&"!"===r.type))return!1}return!0}isEnd(){if(O_(this,aD)===this)return!0;if("!"===O_(this,cD)?.type)return!0;if(!O_(this,cD)?.isEnd())return!1;if(!this.type)return O_(this,cD)?.isEnd();const t=O_(this,cD)?O_(O_(this,cD),hD).length:0;return O_(this,dD)===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new vD(this.type,t);for(const t of O_(this,hD))e.copyIn(t);return e}static fromGlob(t,e={}){const r=new vD(null,void 0,e);return R_(vD,vD,DD).call(vD,t,r,0,e),r}toMMPattern(){if(this!==O_(this,aD))return O_(this,aD).toMMPattern();const t=this.toString(),[e,r,i,n]=this.toRegExpSource();if(!(i||O_(this,lD)||O_(this,mD).nocase&&!O_(this,mD).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const s=(O_(this,mD).nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}toRegExpSource(t){const e=t??!!O_(this,mD).dot;if(O_(this,aD)===this&&B_(this,yD,_D).call(this),!this.type){const r=this.isStart()&&this.isEnd(),i=O_(this,hD).map((e=>{const[i,n,s,o]="string"==typeof e?R_(vD,vD,ED).call(vD,e,O_(this,lD),r):e.toRegExpSource(t);return T_(this,lD,O_(this,lD)||s),T_(this,uD,O_(this,uD)||o),i})).join("");let n="";if(this.isStart()&&"string"==typeof O_(this,hD)[0]){if(!(1===O_(this,hD).length&&rD.has(O_(this,hD)[0]))){const r=eD,s=e&&r.has(i.charAt(0))||i.startsWith("\\.")&&r.has(i.charAt(2))||i.startsWith("\\.\\.")&&r.has(i.charAt(4)),o=!e&&!t&&r.has(i.charAt(0));n=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?tD:""}}let s="";this.isEnd()&&O_(O_(this,aD),pD)&&"!"===O_(this,cD)?.type&&(s="(?:$|\\/)");return[n+i+s,(0,J_.unescape)(i),T_(this,lD,!!O_(this,lD)),O_(this,uD)]}const r="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let n=B_(this,wD,SD).call(this,e);if(this.isStart()&&this.isEnd()&&!n&&"!"!==this.type){const t=this.toString();return T_(this,hD,[t]),this.type=null,T_(this,lD,void 0),[t,(0,J_.unescape)(this.toString()),!1,!1]}let s=!r||t||e?"":B_(this,wD,SD).call(this,!0);s===n&&(s=""),s&&(n=`(?:${n})(?:${s})*?`);let o="";if("!"===this.type&&O_(this,bD))o=(this.isStart()&&!e?tD:"")+oD;else{o=i+n+("!"===this.type?"))"+(!this.isStart()||e||t?"":tD)+sD+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,(0,J_.unescape)(n),T_(this,lD,!!O_(this,lD)),O_(this,uD)]}}function _D(){if(this!==O_(this,aD))throw new Error("should only call on root");if(O_(this,pD))return this;let t;for(this.toString(),T_(this,pD,!0);t=O_(this,fD).pop();){if("!"!==t.type)continue;let e=t,r=O_(e,cD);for(;r;){for(let i=O_(e,dD)+1;!r.type&&i<O_(r,hD).length;i++)for(const e of O_(t,hD)){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(O_(r,hD)[i])}e=r,r=O_(e,cD)}}return this}function DD(t,e,r,i){let n=!1,s=!1,o=-1,a=!1;if(null===e.type){let l=r,u="";for(;l<t.length;){const r=t.charAt(l++);if(n||"\\"===r)n=!n,u+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),u+=r;else if("["!==r)if(i.noext||!X_(r)||"("!==t.charAt(l))u+=r;else{e.push(u),u="";const n=new Z_(r,e);l=R_(Z_,Z_,DD).call(Z_,t,n,l,i),e.push(n)}else s=!0,o=l,a=!1,u+=r}return e.push(u),l}let l=r+1,u=new Z_(null,e);const h=[];let c="";for(;l<t.length;){const r=t.charAt(l++);if(n||"\\"===r)n=!n,c+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),c+=r;else if("["!==r)if(X_(r)&&"("===t.charAt(l)){u.push(c),c="";const e=new Z_(r,u);u.push(e),l=R_(Z_,Z_,DD).call(Z_,t,e,l,i)}else if("|"!==r){if(")"===r)return""===c&&0===O_(e,hD).length&&T_(e,bD,!0),u.push(c),c="",e.push(...h,u),l;c+=r}else u.push(c),c="",h.push(u),u=new Z_(null,e);else s=!0,o=l,a=!1,c+=r}return e.type=null,T_(e,lD,void 0),T_(e,hD,[t.substring(r-1)]),l}function SD(t){return O_(this,hD).map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,i,n,s]=e.toRegExpSource(t);return T_(this,uD,O_(this,uD)||s),r})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}function ED(t,e,r=!1){let i=!1,n="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(i)i=!1,n+=(iD.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[r,i,a,l]=(0,K_.parseClass)(t,o);if(a){n+=r,s=s||i,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?n+=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(n+=nD,e=!0):(n+=r&&"*"===t?oD:sD,e=!0)}else o===t.length-1?n+="\\\\":i=!0}return[n,(0,J_.unescape)(t),!!e,s]}Z_=vD,z_.AST=vD;var xD={};Object.defineProperty(xD,"__esModule",{value:!0}),xD.escape=void 0;xD.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),function(t){var e=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const r=e(wc),i=U_,n=z_,s=xD,o=Y_;t.minimatch=(t,e,r={})=>((0,i.assertValidPattern)(e),!(!r.nocomment&&"#"===e.charAt(0))&&new M(e,r).match(t));const a=/^\*+([^+@!?\*\[\(]*)$/,l=t=>e=>!e.startsWith(".")&&e.endsWith(t),u=t=>e=>e.endsWith(t),h=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),c=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),d=/^\*+\.\*+$/,f=t=>!t.startsWith(".")&&t.includes("."),p=t=>"."!==t&&".."!==t&&t.includes("."),m=/^\.\*+$/,g=t=>"."!==t&&".."!==t&&t.startsWith("."),b=/^\*+$/,y=t=>0!==t.length&&!t.startsWith("."),v=t=>0!==t.length&&"."!==t&&".."!==t,_=/^\?+([^+@!?\*\[\(]*)?$/,D=([t,e=""])=>{const r=k([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},S=([t,e=""])=>{const r=C([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},E=([t,e=""])=>{const r=C([t]);return e?t=>r(t)&&t.endsWith(e):r},x=([t,e=""])=>{const r=k([t]);return e?t=>r(t)&&t.endsWith(e):r},k=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},C=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},O="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",T={sep:"\\"},A={sep:"/"};t.sep="win32"===O?T.sep:A.sep,t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR;t.filter=(e,r={})=>i=>(0,t.minimatch)(i,e,r),t.minimatch.filter=t.filter;const F=(t,e={})=>Object.assign({},t,e);t.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return t.minimatch;const r=t.minimatch;return Object.assign(((t,i,n={})=>r(t,i,F(e,n))),{Minimatch:class extends r.Minimatch{constructor(t,r={}){super(t,F(e,r))}static defaults(t){return r.defaults(F(e,t)).Minimatch}},AST:class extends r.AST{constructor(t,r,i={}){super(t,r,F(e,i))}static fromGlob(t,i={}){return r.AST.fromGlob(t,F(e,i))}},unescape:(t,i={})=>r.unescape(t,F(e,i)),escape:(t,i={})=>r.escape(t,F(e,i)),filter:(t,i={})=>r.filter(t,F(e,i)),defaults:t=>r.defaults(F(e,t)),makeRe:(t,i={})=>r.makeRe(t,F(e,i)),braceExpand:(t,i={})=>r.braceExpand(t,F(e,i)),match:(t,i,n={})=>r.match(t,i,F(e,n)),sep:r.sep,GLOBSTAR:t.GLOBSTAR})},t.minimatch.defaults=t.defaults;t.braceExpand=(t,e={})=>((0,i.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,r.default)(t)),t.minimatch.braceExpand=t.braceExpand;t.makeRe=(t,e={})=>new M(t,e).makeRe(),t.minimatch.makeRe=t.makeRe;t.match=(t,e,r={})=>{const i=new M(e,r);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t},t.minimatch.match=t.match;const R=/[?*]|[+@!]\(.*?\)|\[|\]/;class M{constructor(t,e={}){C_(this,"options",void 0),C_(this,"set",void 0),C_(this,"pattern",void 0),C_(this,"windowsPathsNoEscape",void 0),C_(this,"nonegate",void 0),C_(this,"negate",void 0),C_(this,"comment",void 0),C_(this,"empty",void 0),C_(this,"preserveMultipleSlashes",void 0),C_(this,"partial",void 0),C_(this,"globSet",void 0),C_(this,"globParts",void 0),C_(this,"nocase",void 0),C_(this,"isWindows",void 0),C_(this,"platform",void 0),C_(this,"windowsNoMagicRoot",void 0),C_(this,"regexp",void 0),(0,i.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||O,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map(((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&R.test(t[2])||R.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(r)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,i),this.set=i.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const i=t[r];1===r&&""===i&&""===t[0]||("."!==i&&""!==i||(e=!0,t.splice(r,1),r--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const i=t[r-1];i&&"."!==i&&".."!==i&&"**"!==i&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let i=-1;for(;-1!==(i=r.indexOf("**",i+1));){let n=i;for(;"**"===r[n+1];)n++;n>i&&r.splice(i+1,n-i);let s=r[i+1];const o=r[i+2],a=r[i+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(i,1);const l=r.slice(0);l[i]="**",t.push(l),i--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const i=r[t];1===t&&""===i&&""===r[0]||("."!==i&&""!==i||(e=!0,r.splice(t,1),t--))}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let n=0;for(;-1!==(n=r.indexOf("..",n+1));){const t=r[n-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===n&&"**"===r[n+1]?["."]:[];r.splice(n-1,2,...t),0===r.length&&r.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const i=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);i&&(t[e]=i,t[r]=[])}return t.filter((t=>t.length))}partsMatch(t,e,r=!1){let i=0,n=0,s=[],o="";for(;i<t.length&&n<e.length;)if(t[i]===e[n])s.push("b"===o?e[n]:t[i]),i++,n++;else if(r&&"**"===t[i]&&e[n]===t[i+1])s.push(t[i]),i++;else if(r&&"**"===e[n]&&t[i]===e[n+1])s.push(e[n]),n++;else if("*"!==t[i]||!e[n]||!this.options.dot&&e[n].startsWith(".")||"**"===e[n]){if("*"!==e[n]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i])return!1;if("a"===o)return!1;o="b",s.push(e[n]),i++,n++}else{if("b"===o)return!1;o="a",s.push(t[i]),i++,n++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(e,r,i=!1){const n=this.options;if(this.isWindows){const t="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),i=!t&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),n="string"==typeof r[0]&&/^[a-z]:$/i.test(r[0]),s=i?3:t?0:void 0,o=!n&&""===r[0]&&""===r[1]&&"?"===r[2]&&"string"==typeof r[3]&&/^[a-z]:$/i.test(r[3])?3:n?0:void 0;if("number"==typeof s&&"number"==typeof o){const[t,i]=[e[s],r[o]];t.toLowerCase()===i.toLowerCase()&&(r[o]=t,o>s?r=r.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,u=r.length;o<l&&a<u;o++,a++){this.debug("matchOne loop");var h=r[a],c=e[o];if(this.debug(r,h,c),!1===h)return!1;if(h===t.GLOBSTAR){this.debug("GLOBSTAR",[r,h,c]);var d=o,f=a+1;if(f===u){for(this.debug("** at the end");o<l;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;d<l;){var p=e[d];if(this.debug("\nglobstar while",e,d,r,f,p),this.matchOne(e.slice(d),r.slice(f),i))return this.debug("globstar found match!",d,l,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!i||(this.debug("\n>>> no match, partial?",e,d,r,f),d!==l))}let s;if("string"==typeof h?(s=c===h,this.debug("string match",h,c,s)):(s=h.test(c),this.debug("pattern match",h,c,s)),!s)return!1}if(o===l&&a===u)return!0;if(o===l)return i;if(a===u)return o===l-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,i.assertValidPattern)(e);const r=this.options;if("**"===e)return t.GLOBSTAR;if(""===e)return"";let s,o=null;(s=e.match(b))?o=r.dot?v:y:(s=e.match(a))?o=(r.nocase?r.dot?c:h:r.dot?u:l)(s[1]):(s=e.match(_))?o=(r.nocase?r.dot?S:D:r.dot?E:x)(s):(s=e.match(d))?o=r.dot?p:f:(s=e.match(m))&&(o=g);const w=n.AST.fromGlob(e,this.options).toMMPattern();return o?Object.assign(w,{test:o}):w}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const r=this.options,i=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=new Set(r.nocase?["i"]:[]);let s=e.map((e=>{const r=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))n.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===t.GLOBSTAR?t.GLOBSTAR:e._src}));return r.forEach(((e,n)=>{const s=r[n+1],o=r[n-1];e===t.GLOBSTAR&&o!==t.GLOBSTAR&&(void 0===o?void 0!==s&&s!==t.GLOBSTAR?r[n+1]="(?:\\/|"+i+"\\/)?"+s:r[n]=i:void 0===s?r[n-1]=o+"(?:\\/|"+i+")?":s!==t.GLOBSTAR&&(r[n-1]=o+"(?:\\/|\\/"+i+"\\/)"+s,r[n+1]=t.GLOBSTAR))})),r.filter((e=>e!==t.GLOBSTAR)).join("/")})).join("|");const[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...n].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const n=this.set;this.debug(this.pattern,"set",n);let s=i[i.length-1];if(!s)for(let t=i.length-2;!s&&t>=0;t--)s=i[t];for(let t=0;t<n.length;t++){const o=n[t];let a=i;r.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=M;var P=z_;Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return P.AST}});var I=xD;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return I.escape}});var j=Y_;Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return j.unescape}}),t.minimatch.AST=n.AST,t.minimatch.Minimatch=M,t.minimatch.escape=s.escape,t.minimatch.unescape=o.unescape}(W_);var kD={},CD={},OD={};let TD;Object.defineProperty(OD,"__esModule",{value:!0}),OD.LRUCache=void 0;const AD="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,FD=new Set,RD="object"==typeof process&&process?process:{},MD=(t,e,r,i)=>{"function"==typeof RD.emitWarning?RD.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)};let PD=globalThis.AbortController,ID=globalThis.AbortSignal;if(void 0===PD){ID=class{constructor(){C_(this,"onabort",void 0),C_(this,"_onabort",[]),C_(this,"reason",void 0),C_(this,"aborted",!1)}addEventListener(t,e){this._onabort.push(e)}},PD=class{constructor(){C_(this,"signal",new ID),e()}abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==RD.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,MD("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const jD=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),BD=t=>jD(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?LD:null:null;class LD extends Array{constructor(t){super(t),this.fill(0)}}class ND{static create(t){const e=BD(t);if(!e)return[];F_(ND,ND,$D,!0);const r=new ND(t,e);return F_(ND,ND,$D,!1),r}constructor(t,e){if(C_(this,"heap",void 0),C_(this,"length",void 0),i=$D,I_(r=ND,ND),j_(i,"get"),!M_(r,i))throw new TypeError("instantiate Stack using Stack.create(n)");var r,i;this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}var $D={writable:!0,value:!1},WD=new WeakMap,UD=new WeakMap,zD=new WeakMap,HD=new WeakMap,GD=new WeakMap,VD=new WeakMap,qD=new WeakMap,YD=new WeakMap,ZD=new WeakMap,KD=new WeakMap,JD=new WeakMap,QD=new WeakMap,XD=new WeakMap,tS=new WeakMap,eS=new WeakMap,rS=new WeakMap,iS=new WeakMap,nS=new WeakMap,sS=new WeakMap,oS=new WeakMap,aS=new WeakMap,lS=new WeakMap,uS=new WeakSet,hS=new WeakMap,cS=new WeakMap,dS=new WeakMap,fS=new WeakMap,pS=new WeakSet,mS=new WeakMap,gS=new WeakMap,bS=new WeakMap,yS=new WeakSet,wS=new WeakSet,vS=new WeakSet,_S=new WeakSet,DS=new WeakSet,SS=new WeakSet,ES=new WeakSet,xS=new WeakSet;TD=Symbol.iterator;class kS{static unsafeExposeInternals(t){return{starts:O_(t,nS),ttls:O_(t,sS),sizes:O_(t,iS),keyMap:O_(t,YD),keyList:O_(t,ZD),valList:O_(t,KD),next:O_(t,JD),prev:O_(t,QD),get head(){return O_(t,XD)},get tail(){return O_(t,tS)},free:O_(t,eS),isBackgroundFetch:e=>B_(t,SS,PS).call(t,e),backgroundFetch:(e,r,i,n)=>B_(t,DS,MS).call(t,e,r,i,n),moveToTail:e=>B_(t,xS,jS).call(t,e),indexes:e=>B_(t,yS,TS).call(t,e),rindexes:e=>B_(t,wS,AS).call(t,e),isStale:e=>O_(t,fS).call(t,e)}}get max(){return O_(this,WD)}get maxSize(){return O_(this,UD)}get calculatedSize(){return O_(this,qD)}get size(){return O_(this,VD)}get fetchMethod(){return O_(this,GD)}get dispose(){return O_(this,zD)}get disposeAfter(){return O_(this,HD)}constructor(t){$_(this,xS),$_(this,ES),$_(this,SS),$_(this,DS),$_(this,_S),$_(this,vS),$_(this,wS),$_(this,yS),$_(this,pS),$_(this,uS),N_(this,WD,{writable:!0,value:void 0}),N_(this,UD,{writable:!0,value:void 0}),N_(this,zD,{writable:!0,value:void 0}),N_(this,HD,{writable:!0,value:void 0}),N_(this,GD,{writable:!0,value:void 0}),C_(this,"ttl",void 0),C_(this,"ttlResolution",void 0),C_(this,"ttlAutopurge",void 0),C_(this,"updateAgeOnGet",void 0),C_(this,"updateAgeOnHas",void 0),C_(this,"allowStale",void 0),C_(this,"noDisposeOnSet",void 0),C_(this,"noUpdateTTL",void 0),C_(this,"maxEntrySize",void 0),C_(this,"sizeCalculation",void 0),C_(this,"noDeleteOnFetchRejection",void 0),C_(this,"noDeleteOnStaleGet",void 0),C_(this,"allowStaleOnFetchAbort",void 0),C_(this,"allowStaleOnFetchRejection",void 0),C_(this,"ignoreFetchAbort",void 0),N_(this,VD,{writable:!0,value:void 0}),N_(this,qD,{writable:!0,value:void 0}),N_(this,YD,{writable:!0,value:void 0}),N_(this,ZD,{writable:!0,value:void 0}),N_(this,KD,{writable:!0,value:void 0}),N_(this,JD,{writable:!0,value:void 0}),N_(this,QD,{writable:!0,value:void 0}),N_(this,XD,{writable:!0,value:void 0}),N_(this,tS,{writable:!0,value:void 0}),N_(this,eS,{writable:!0,value:void 0}),N_(this,rS,{writable:!0,value:void 0}),N_(this,iS,{writable:!0,value:void 0}),N_(this,nS,{writable:!0,value:void 0}),N_(this,sS,{writable:!0,value:void 0}),N_(this,oS,{writable:!0,value:void 0}),N_(this,aS,{writable:!0,value:void 0}),N_(this,lS,{writable:!0,value:void 0}),N_(this,hS,{writable:!0,value:()=>{}}),N_(this,cS,{writable:!0,value:()=>{}}),N_(this,dS,{writable:!0,value:()=>{}}),N_(this,fS,{writable:!0,value:()=>!1}),N_(this,mS,{writable:!0,value:t=>{}}),N_(this,gS,{writable:!0,value:(t,e,r)=>{}}),N_(this,bS,{writable:!0,value:(t,e,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}});const{max:e=0,ttl:r,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:l,disposeAfter:u,noDisposeOnSet:h,noUpdateTTL:c,maxSize:d=0,maxEntrySize:f=0,sizeCalculation:p,fetchMethod:m,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:w,ignoreFetchAbort:v}=t;if(0!==e&&!jD(e))throw new TypeError("max option must be a nonnegative integer");const _=e?BD(e):Array;if(!_)throw new Error("invalid max value: "+e);if(T_(this,WD,e),T_(this,UD,d),this.maxEntrySize=f||O_(this,UD),this.sizeCalculation=p,this.sizeCalculation){if(!O_(this,UD)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==m&&"function"!=typeof m)throw new TypeError("fetchMethod must be a function if specified");if(T_(this,GD,m),T_(this,aS,!!m),T_(this,YD,new Map),T_(this,ZD,new Array(e).fill(void 0)),T_(this,KD,new Array(e).fill(void 0)),T_(this,JD,new _(e)),T_(this,QD,new _(e)),T_(this,XD,0),T_(this,tS,0),T_(this,eS,ND.create(e)),T_(this,VD,0),T_(this,qD,0),"function"==typeof l&&T_(this,zD,l),"function"==typeof u?(T_(this,HD,u),T_(this,rS,[])):(T_(this,HD,void 0),T_(this,rS,void 0)),T_(this,oS,!!O_(this,zD)),T_(this,lS,!!O_(this,HD)),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!c,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!y,this.allowStaleOnFetchAbort=!!w,this.ignoreFetchAbort=!!v,0!==this.maxEntrySize){if(0!==O_(this,UD)&&!jD(O_(this,UD)))throw new TypeError("maxSize must be a positive integer if specified");if(!jD(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");B_(this,pS,OS).call(this)}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=jD(i)||0===i?i:1,this.ttlAutopurge=!!n,this.ttl=r||0,this.ttl){if(!jD(this.ttl))throw new TypeError("ttl must be a positive integer if specified");B_(this,uS,CS).call(this)}if(0===O_(this,WD)&&0===this.ttl&&0===O_(this,UD))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!O_(this,WD)&&!O_(this,UD)){const t="LRU_CACHE_UNBOUNDED";if((t=>!FD.has(t))(t)){FD.add(t);MD("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,kS)}}}getRemainingTTL(t){return O_(this,YD).has(t)?1/0:0}*entries(){for(const t of B_(this,yS,TS).call(this))void 0===O_(this,KD)[t]||void 0===O_(this,ZD)[t]||B_(this,SS,PS).call(this,O_(this,KD)[t])||(yield[O_(this,ZD)[t],O_(this,KD)[t]])}*rentries(){for(const t of B_(this,wS,AS).call(this))void 0===O_(this,KD)[t]||void 0===O_(this,ZD)[t]||B_(this,SS,PS).call(this,O_(this,KD)[t])||(yield[O_(this,ZD)[t],O_(this,KD)[t]])}*keys(){for(const t of B_(this,yS,TS).call(this)){const e=O_(this,ZD)[t];void 0===e||B_(this,SS,PS).call(this,O_(this,KD)[t])||(yield e)}}*rkeys(){for(const t of B_(this,wS,AS).call(this)){const e=O_(this,ZD)[t];void 0===e||B_(this,SS,PS).call(this,O_(this,KD)[t])||(yield e)}}*values(){for(const t of B_(this,yS,TS).call(this)){void 0===O_(this,KD)[t]||B_(this,SS,PS).call(this,O_(this,KD)[t])||(yield O_(this,KD)[t])}}*rvalues(){for(const t of B_(this,wS,AS).call(this)){void 0===O_(this,KD)[t]||B_(this,SS,PS).call(this,O_(this,KD)[t])||(yield O_(this,KD)[t])}}[TD](){return this.entries()}find(t,e={}){for(const r of B_(this,yS,TS).call(this)){const i=O_(this,KD)[r],n=B_(this,SS,PS).call(this,i)?i.__staleWhileFetching:i;if(void 0!==n&&t(n,O_(this,ZD)[r],this))return this.get(O_(this,ZD)[r],e)}}forEach(t,e=this){for(const r of B_(this,yS,TS).call(this)){const i=O_(this,KD)[r],n=B_(this,SS,PS).call(this,i)?i.__staleWhileFetching:i;void 0!==n&&t.call(e,n,O_(this,ZD)[r],this)}}rforEach(t,e=this){for(const r of B_(this,wS,AS).call(this)){const i=O_(this,KD)[r],n=B_(this,SS,PS).call(this,i)?i.__staleWhileFetching:i;void 0!==n&&t.call(e,n,O_(this,ZD)[r],this)}}purgeStale(){let t=!1;for(const e of B_(this,wS,AS).call(this,{allowStale:!0}))O_(this,fS).call(this,e)&&(this.delete(O_(this,ZD)[e]),t=!0);return t}info(t){const e=O_(this,YD).get(t);if(void 0===e)return;const r=O_(this,KD)[e],i=B_(this,SS,PS).call(this,r)?r.__staleWhileFetching:r;if(void 0===i)return;const n={value:i};if(O_(this,sS)&&O_(this,nS)){const t=O_(this,sS)[e],r=O_(this,nS)[e];if(t&&r){const e=t-(AD.now()-r);n.ttl=e,n.start=Date.now()}}return O_(this,iS)&&(n.size=O_(this,iS)[e]),n}dump(){const t=[];for(const e of B_(this,yS,TS).call(this,{allowStale:!0})){const r=O_(this,ZD)[e],i=O_(this,KD)[e],n=B_(this,SS,PS).call(this,i)?i.__staleWhileFetching:i;if(void 0===n||void 0===r)continue;const s={value:n};if(O_(this,sS)&&O_(this,nS)){s.ttl=O_(this,sS)[e];const t=AD.now()-O_(this,nS)[e];s.start=Math.floor(Date.now()-t)}O_(this,iS)&&(s.size=O_(this,iS)[e]),t.unshift([r,s])}return t}load(t){this.clear();for(const[e,r]of t){if(r.start){const t=Date.now()-r.start;r.start=AD.now()-t}this.set(e,r.value,r)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const u=O_(this,bS).call(this,t,e,r.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let h=0===O_(this,VD)?void 0:O_(this,YD).get(t);if(void 0===h){var c;h=0===O_(this,VD)?O_(this,tS):0!==O_(this,eS).length?O_(this,eS).pop():O_(this,VD)===O_(this,WD)?B_(this,_S,RS).call(this,!1):O_(this,VD),O_(this,ZD)[h]=t,O_(this,KD)[h]=e,O_(this,YD).set(t,h),O_(this,JD)[O_(this,tS)]=h,O_(this,QD)[h]=O_(this,tS),T_(this,tS,h),T_(this,VD,(c=O_(this,VD),++c)),O_(this,gS).call(this,h,u,a),a&&(a.set="add"),l=!1}else{B_(this,xS,jS).call(this,h);const r=O_(this,KD)[h];if(e!==r){if(O_(this,aS)&&B_(this,SS,PS).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||s||(O_(this,oS)&&O_(this,zD)?.call(this,e,t,"set"),O_(this,lS)&&O_(this,rS)?.push([e,t,"set"]))}else s||(O_(this,oS)&&O_(this,zD)?.call(this,r,t,"set"),O_(this,lS)&&O_(this,rS)?.push([r,t,"set"]));if(O_(this,mS).call(this,h),O_(this,gS).call(this,h,u,a),O_(this,KD)[h]=e,a){a.set="replace";const t=r&&B_(this,SS,PS).call(this,r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===i||O_(this,sS)||B_(this,uS,CS).call(this),O_(this,sS)&&(l||O_(this,dS).call(this,h,i,n),a&&O_(this,cS).call(this,a,h)),!s&&O_(this,lS)&&O_(this,rS)){const t=O_(this,rS);let e;for(;e=t?.shift();)O_(this,HD)?.call(this,...e)}return this}pop(){try{for(;O_(this,VD);){const t=O_(this,KD)[O_(this,XD)];if(B_(this,_S,RS).call(this,!0),B_(this,SS,PS).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(O_(this,lS)&&O_(this,rS)){const t=O_(this,rS);let e;for(;e=t?.shift();)O_(this,HD)?.call(this,...e)}}}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=e,n=O_(this,YD).get(t);if(void 0!==n){const t=O_(this,KD)[n];if(B_(this,SS,PS).call(this,t)&&void 0===t.__staleWhileFetching)return!1;if(!O_(this,fS).call(this,n))return r&&O_(this,hS).call(this,n),i&&(i.has="hit",O_(this,cS).call(this,i,n)),!0;i&&(i.has="stale",O_(this,cS).call(this,i,n))}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,i=O_(this,YD).get(t);if(void 0===i||!r&&O_(this,fS).call(this,i))return;const n=O_(this,KD)[i];return B_(this,SS,PS).call(this,n)?n.__staleWhileFetching:n}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:c=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:g,signal:b}=e;if(!O_(this,aS))return g&&(g.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:g});const y={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:c,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:g,signal:b};let w=O_(this,YD).get(t);if(void 0===w){g&&(g.fetch="miss");const e=B_(this,DS,MS).call(this,t,w,y,p);return e.__returned=e}{const e=O_(this,KD)[w];if(B_(this,SS,PS).call(this,e)){const t=r&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const n=O_(this,fS).call(this,w);if(!m&&!n)return g&&(g.fetch="hit"),B_(this,xS,jS).call(this,w),i&&O_(this,hS).call(this,w),g&&O_(this,cS).call(this,g,w),e;const s=B_(this,DS,MS).call(this,t,w,y,p),o=void 0!==s.__staleWhileFetching&&r;return g&&(g.fetch=n?"stale":"refresh",o&&n&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:s}=e,o=O_(this,YD).get(t);if(void 0!==o){const e=O_(this,KD)[o],a=B_(this,SS,PS).call(this,e);return s&&O_(this,cS).call(this,s,o),O_(this,fS).call(this,o)?(s&&(s.get="stale"),a?(s&&r&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),r?e.__staleWhileFetching:void 0):(n||this.delete(t),s&&r&&(s.returnedStale=!0),r?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(B_(this,xS,jS).call(this,o),i&&O_(this,hS).call(this,o),e))}s&&(s.get="miss")}delete(t){let e=!1;if(0!==O_(this,VD)){const i=O_(this,YD).get(t);if(void 0!==i)if(e=!0,1===O_(this,VD))this.clear();else{var r;O_(this,mS).call(this,i);const e=O_(this,KD)[i];if(B_(this,SS,PS).call(this,e)?e.__abortController.abort(new Error("deleted")):(O_(this,oS)||O_(this,lS))&&(O_(this,oS)&&O_(this,zD)?.call(this,e,t,"delete"),O_(this,lS)&&O_(this,rS)?.push([e,t,"delete"])),O_(this,YD).delete(t),O_(this,ZD)[i]=void 0,O_(this,KD)[i]=void 0,i===O_(this,tS))T_(this,tS,O_(this,QD)[i]);else if(i===O_(this,XD))T_(this,XD,O_(this,JD)[i]);else{const t=O_(this,QD)[i];O_(this,JD)[t]=O_(this,JD)[i];const e=O_(this,JD)[i];O_(this,QD)[e]=O_(this,QD)[i]}T_(this,VD,(r=O_(this,VD),--r)),O_(this,eS).push(i)}}if(O_(this,lS)&&O_(this,rS)?.length){const t=O_(this,rS);let e;for(;e=t?.shift();)O_(this,HD)?.call(this,...e)}return e}clear(){for(const t of B_(this,wS,AS).call(this,{allowStale:!0})){const e=O_(this,KD)[t];if(B_(this,SS,PS).call(this,e))e.__abortController.abort(new Error("deleted"));else{const r=O_(this,ZD)[t];O_(this,oS)&&O_(this,zD)?.call(this,e,r,"delete"),O_(this,lS)&&O_(this,rS)?.push([e,r,"delete"])}}if(O_(this,YD).clear(),O_(this,KD).fill(void 0),O_(this,ZD).fill(void 0),O_(this,sS)&&O_(this,nS)&&(O_(this,sS).fill(0),O_(this,nS).fill(0)),O_(this,iS)&&O_(this,iS).fill(0),T_(this,XD,0),T_(this,tS,0),O_(this,eS).length=0,T_(this,qD,0),T_(this,VD,0),O_(this,lS)&&O_(this,rS)){const t=O_(this,rS);let e;for(;e=t?.shift();)O_(this,HD)?.call(this,...e)}}}function CS(){const t=new LD(O_(this,WD)),e=new LD(O_(this,WD));T_(this,sS,t),T_(this,nS,e),T_(this,dS,((r,i,n=AD.now())=>{if(e[r]=0!==i?n:0,t[r]=i,0!==i&&this.ttlAutopurge){const t=setTimeout((()=>{O_(this,fS).call(this,r)&&this.delete(O_(this,ZD)[r])}),i+1);t.unref&&t.unref()}})),T_(this,hS,(r=>{e[r]=0!==t[r]?AD.now():0})),T_(this,cS,((n,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;n.ttl=o,n.start=a,n.now=r||i();const l=n.now-a;n.remainingTTL=o-l}}));let r=0;const i=()=>{const t=AD.now();if(this.ttlResolution>0){r=t;const e=setTimeout((()=>r=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=n=>{const s=O_(this,YD).get(n);if(void 0===s)return 0;const o=t[s],a=e[s];if(!o||!a)return 1/0;return o-((r||i())-a)},T_(this,fS,(n=>{const s=e[n],o=t[n];return!!o&&!!s&&(r||i())-s>o}))}function OS(){const t=new LD(O_(this,WD));T_(this,qD,0),T_(this,iS,t),T_(this,mS,(e=>{T_(this,qD,O_(this,qD)-t[e]),t[e]=0})),T_(this,bS,((t,e,r,i)=>{if(B_(this,SS,PS).call(this,e))return 0;if(!jD(r)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(r=i(e,t),!jD(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r})),T_(this,gS,((e,r,i)=>{if(t[e]=r,O_(this,UD)){const r=O_(this,UD)-t[e];for(;O_(this,qD)>r;)B_(this,_S,RS).call(this,!0)}T_(this,qD,O_(this,qD)+t[e]),i&&(i.entrySize=r,i.totalCalculatedSize=O_(this,qD))}))}function*TS({allowStale:t=this.allowStale}={}){if(O_(this,VD))for(let e=O_(this,tS);B_(this,vS,FS).call(this,e)&&(!t&&O_(this,fS).call(this,e)||(yield e),e!==O_(this,XD));)e=O_(this,QD)[e]}function*AS({allowStale:t=this.allowStale}={}){if(O_(this,VD))for(let e=O_(this,XD);B_(this,vS,FS).call(this,e)&&(!t&&O_(this,fS).call(this,e)||(yield e),e!==O_(this,tS));)e=O_(this,JD)[e]}function FS(t){return void 0!==t&&O_(this,YD).get(O_(this,ZD)[t])===t}function RS(t){var e;const r=O_(this,XD),i=O_(this,ZD)[r],n=O_(this,KD)[r];return O_(this,aS)&&B_(this,SS,PS).call(this,n)?n.__abortController.abort(new Error("evicted")):(O_(this,oS)||O_(this,lS))&&(O_(this,oS)&&O_(this,zD)?.call(this,n,i,"evict"),O_(this,lS)&&O_(this,rS)?.push([n,i,"evict"])),O_(this,mS).call(this,r),t&&(O_(this,ZD)[r]=void 0,O_(this,KD)[r]=void 0,O_(this,eS).push(r)),1===O_(this,VD)?(T_(this,XD,T_(this,tS,0)),O_(this,eS).length=0):T_(this,XD,O_(this,JD)[r]),O_(this,YD).delete(i),T_(this,VD,(e=O_(this,VD),--e)),r}function MS(t,e,r,i){const n=void 0===e?void 0:O_(this,KD)[e];if(B_(this,SS,PS).call(this,n))return n;const s=new PD,{signal:o}=r;o?.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const a={signal:s.signal,options:r,context:i},l=(i,n=!1)=>{const{aborted:o}=s.signal,l=r.ignoreFetchAbort&&void 0!==i;if(r.status&&(o&&!n?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,l&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!l&&!n)return u(s.signal.reason);const c=h;return O_(this,KD)[e]===h&&(void 0===i?c.__staleWhileFetching?O_(this,KD)[e]=c.__staleWhileFetching:this.delete(t):(r.status&&(r.status.fetchUpdated=!0),this.set(t,i,a.options))),i},u=i=>{const{aborted:n}=s.signal,o=n&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,u=h;if(O_(this,KD)[e]===h){!l||void 0===u.__staleWhileFetching?this.delete(t):o||(O_(this,KD)[e]=u.__staleWhileFetching)}if(a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};r.status&&(r.status.fetchDispatched=!0);const h=new Promise(((e,i)=>{const o=O_(this,GD)?.call(this,t,n,a);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),i),s.signal.addEventListener("abort",(()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))}))})).then(l,(t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),u(t)))),c=Object.assign(h,{__abortController:s,__staleWhileFetching:n,__returned:void 0});return void 0===e?(this.set(t,c,{...a.options,status:void 0}),e=O_(this,YD).get(t)):O_(this,KD)[e]=c,c}function PS(t){if(!O_(this,aS))return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof PD}function IS(t,e){O_(this,QD)[e]=t,O_(this,JD)[t]=e}function jS(t){t!==O_(this,tS)&&(t===O_(this,XD)?T_(this,XD,O_(this,JD)[t]):B_(this,ES,IS).call(this,O_(this,QD)[t],O_(this,JD)[t]),B_(this,ES,IS).call(this,O_(this,tS),t),T_(this,tS,t))}OD.LRUCache=kS;var BS={};let LS,NS;!function(e,r,i){var n=w&&w.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const s="object"==typeof process&&process?process:{stdout:null,stderr:null},o=t,a=n(u),l=m;e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof q||t instanceof a.default||(0,e.isReadable)(t)||(0,e.isWritable)(t));e.isReadable=t=>!!t&&"object"==typeof t&&t instanceof o.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==a.default.Writable.prototype.pipe;e.isWritable=t=>!!t&&"object"==typeof t&&t instanceof o.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const h=Symbol("EOF"),c=Symbol("maybeEmitEnd"),d=Symbol("emittedEnd"),f=Symbol("emittingEnd"),p=Symbol("emittedError"),g=Symbol("closed"),b=Symbol("read"),y=Symbol("flush"),v=Symbol("flushChunk"),_=Symbol("encoding"),D=Symbol("decoder"),S=Symbol("flowing"),E=Symbol("paused"),x=Symbol("resume"),k=Symbol("buffer"),C=Symbol("pipes"),O=Symbol("bufferLength"),T=Symbol("bufferPush"),A=Symbol("bufferShift"),F=Symbol("objectMode"),R=Symbol("destroyed"),M=Symbol("error"),P=Symbol("emitData"),I=Symbol("emitEnd"),j=Symbol("emitEnd2"),B=Symbol("async"),L=Symbol("abort"),N=Symbol("aborted"),$=Symbol("signal"),W=Symbol("dataListeners"),U=Symbol("discarded"),z=t=>Promise.resolve().then(t),H=t=>t();class G{constructor(t,e,r){C_(this,"src",void 0),C_(this,"dest",void 0),C_(this,"opts",void 0),C_(this,"ondrain",void 0),this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[x](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class V extends G{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}r=Symbol.asyncIterator,i=Symbol.iterator;class q extends o.EventEmitter{constructor(...t){const e=t[0]||{};if(super(),C_(this,S,!1),C_(this,E,!1),C_(this,C,[]),C_(this,k,[]),C_(this,F,void 0),C_(this,_,void 0),C_(this,B,void 0),C_(this,D,void 0),C_(this,h,!1),C_(this,d,!1),C_(this,f,!1),C_(this,g,!1),C_(this,p,null),C_(this,O,0),C_(this,R,!1),C_(this,$,void 0),C_(this,N,!1),C_(this,W,0),C_(this,U,!1),C_(this,"writable",!0),C_(this,"readable",!0),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");e.objectMode?(this[F]=!0,this[_]=null):(t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding)(e)?(this[_]=e.encoding,this[F]=!1):(this[F]=!1,this[_]=null),this[B]=!!e.async,this[D]=this[_]?new l.StringDecoder(this[_]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[k]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[C]});const{signal:r}=e;r&&(this[$]=r,r.aborted?this[L]():r.addEventListener("abort",(()=>this[L]())))}get bufferLength(){return this[O]}get encoding(){return this[_]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[F]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[B]}set async(t){this[B]=this[B]||!!t}[L](){this[N]=!0,this.emit("abort",this[$]?.reason),this.destroy(this[$]?.reason)}get aborted(){return this[N]}set aborted(t){}write(t,e,r){if(this[N])return!1;if(this[h])throw new Error("write after end");if(this[R])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const i=this[B]?z:H;if(!this[F]&&!Buffer.isBuffer(t))if(n=t,!Buffer.isBuffer(n)&&ArrayBuffer.isView(n))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var n;return this[F]?(this[S]&&0!==this[O]&&this[y](!0),this[S]?this.emit("data",t):this[T](t),0!==this[O]&&this.emit("readable"),r&&i(r),this[S]):t.length?("string"!=typeof t||e===this[_]&&!this[D]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[_]&&(t=this[D].write(t)),this[S]&&0!==this[O]&&this[y](!0),this[S]?this.emit("data",t):this[T](t),0!==this[O]&&this.emit("readable"),r&&i(r),this[S]):(0!==this[O]&&this.emit("readable"),r&&i(r),this[S])}read(t){if(this[R])return null;if(this[U]=!1,0===this[O]||0===t||t&&t>this[O])return this[c](),null;this[F]&&(t=null),this[k].length>1&&!this[F]&&(this[k]=[this[_]?this[k].join(""):Buffer.concat(this[k],this[O])]);const e=this[b](t||null,this[k][0]);return this[c](),e}[b](t,e){if(this[F])this[A]();else{const r=e;t===r.length||null===t?this[A]():"string"==typeof r?(this[k][0]=r.slice(t),e=r.slice(0,t),this[O]-=t):(this[k][0]=r.subarray(t),e=r.subarray(0,t),this[O]-=t)}return this.emit("data",e),this[k].length||this[h]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[h]=!0,this.writable=!1,!this[S]&&this[E]||this[c](),this}[x](){this[R]||(this[W]||this[C].length||(this[U]=!0),this[E]=!1,this[S]=!0,this.emit("resume"),this[k].length?this[y]():this[h]?this[c]():this.emit("drain"))}resume(){return this[x]()}pause(){this[S]=!1,this[E]=!0,this[U]=!1}get destroyed(){return this[R]}get flowing(){return this[S]}get paused(){return this[E]}[T](t){this[F]?this[O]+=1:this[O]+=t.length,this[k].push(t)}[A](){return this[F]?this[O]-=1:this[O]-=this[k][0].length,this[k].shift()}[y](t=!1){do{}while(this[v](this[A]())&&this[k].length);t||this[k].length||this[h]||this.emit("drain")}[v](t){return this.emit("data",t),this[S]}pipe(t,e){if(this[R])return t;this[U]=!1;const r=this[d];return e=e||{},t===s.stdout||t===s.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[C].push(e.proxyErrors?new V(this,t,e):new G(this,t,e)),this[B]?z((()=>this[x]())):this[x]()),t}unpipe(t){const e=this[C].find((e=>e.dest===t));e&&(1===this[C].length?(this[S]&&0===this[W]&&(this[S]=!1),this[C]=[]):this[C].splice(this[C].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[U]=!1,this[W]++,this[C].length||this[S]||this[x]();else if("readable"===t&&0!==this[O])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[d])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[p]){const t=e;this[B]?z((()=>t.call(this,this[p]))):t.call(this,this[p])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[W]=this.listeners("data").length,0!==this[W]||this[U]||this[C].length||(this[S]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[W]=0,this[U]||this[C].length||(this[S]=!1)),e}get emittedEnd(){return this[d]}[c](){this[f]||this[d]||this[R]||0!==this[k].length||!this[h]||(this[f]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[g]&&this.emit("close"),this[f]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==R&&this[R])return!1;if("data"===t)return!(!this[F]&&!r)&&(this[B]?(z((()=>this[P](r))),!0):this[P](r));if("end"===t)return this[I]();if("close"===t){if(this[g]=!0,!this[d]&&!this[R])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[p]=r,super.emit(M,r);const t=!(this[$]&&!this.listeners("error").length)&&super.emit("error",r);return this[c](),t}if("resume"===t){const t=super.emit("resume");return this[c](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const i=super.emit(t,...e);return this[c](),i}[P](t){for(const e of this[C])!1===e.dest.write(t)&&this.pause();const e=!this[U]&&super.emit("data",t);return this[c](),e}[I](){return!this[d]&&(this[d]=!0,this.readable=!1,this[B]?(z((()=>this[j]())),!0):this[j]())}[j](){if(this[D]){const t=this[D].end();if(t){for(const e of this[C])e.dest.write(t);this[U]||super.emit("data",t)}}for(const t of this[C])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[F]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[F]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[F])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[_]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(R,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[r](){this[U]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[h])return e();let i,n;const s=t=>{this.off("data",o),this.off("end",a),this.off(R,l),e(),n(t)},o=t=>{this.off("error",s),this.off("end",a),this.off(R,l),this.pause(),i({value:t,done:!!this[h]})},a=()=>{this.off("error",s),this.off("data",o),this.off(R,l),e(),i({done:!0,value:void 0})},l=()=>s(new Error("stream destroyed"));return new Promise(((t,e)=>{n=e,i=t,this.once(R,l),this.once("error",s),this.once("end",a),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[i](){this[U]=!1;let t=!1;const e=()=>(this.pause(),this.off(M,e),this.off(R,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(M,e),this.once(R,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[R])return t?this.emit("error",t):this.emit(R),this;this[R]=!0,this[U]=!0,this[k].length=0,this[O]=0;return"function"!=typeof this.close||this[g]||this.close(),t?this.emit("error",t):this.emit(R),this}static get isStream(){return e.isStream}}e.Minipass=q}(BS);var $S=w&&w.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),WS=w&&w.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),US=w&&w.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&$S(e,t,r);return WS(e,t),e};Object.defineProperty(CD,"__esModule",{value:!0}),CD.PathScurry=CD.Path=CD.PathScurryDarwin=CD.PathScurryPosix=CD.PathScurryWin32=CD.PathScurryBase=CD.PathPosix=CD.PathWin32=CD.PathBase=CD.ChildrenCache=CD.ResolveCache=void 0;const zS=OD,HS=r,GS=g,VS=US(i),qS=i,YS=qS.realpathSync.native,ZS=b,KS=BS,JS={lstatSync:qS.lstatSync,readdir:qS.readdir,readdirSync:qS.readdirSync,readlinkSync:qS.readlinkSync,realpathSync:YS,promises:{lstat:ZS.lstat,readdir:ZS.readdir,readlink:ZS.readlink,realpath:ZS.realpath}},QS=t=>t&&t!==JS&&t!==VS?{...JS,...t,promises:{...JS.promises,...t.promises||{}}}:JS,XS=/^\\\\\?\\([a-z]:)\\?$/i,tE=/[\\\/]/,eE=0,rE=4,iE=10,nE=15,sE=~nE,oE=64,aE=128,lE=256,uE=512,hE=oE|aE|uE,cE=t=>t.isFile()?8:t.isDirectory()?rE:t.isSymbolicLink()?iE:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:eE,dE=new Map,fE=t=>{const e=dE.get(t);if(e)return e;const r=t.normalize("NFKD");return dE.set(t,r),r},pE=new Map,mE=t=>{const e=pE.get(t);if(e)return e;const r=fE(t.toLowerCase());return pE.set(t,r),r};class gE extends zS.LRUCache{constructor(){super({max:256})}}CD.ResolveCache=gE;class bE extends zS.LRUCache{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}CD.ChildrenCache=bE;const yE=Symbol("PathScurry setAsCwd");var wE=new WeakMap,vE=new WeakMap,_E=new WeakMap,DE=new WeakMap,SE=new WeakMap,EE=new WeakMap,xE=new WeakMap,kE=new WeakMap,CE=new WeakMap,OE=new WeakMap,TE=new WeakMap,AE=new WeakMap,FE=new WeakMap,RE=new WeakMap,ME=new WeakMap,PE=new WeakMap,IE=new WeakMap,jE=new WeakMap,BE=new WeakMap,LE=new WeakMap,NE=new WeakMap,$E=new WeakMap,WE=new WeakMap,UE=new WeakMap,zE=new WeakMap,HE=new WeakMap,GE=new WeakMap,VE=new WeakMap,qE=new WeakMap,YE=new WeakSet,ZE=new WeakSet,KE=new WeakSet,JE=new WeakSet,QE=new WeakSet,XE=new WeakSet,tx=new WeakSet,ex=new WeakSet,rx=new WeakSet,ix=new WeakSet,nx=new WeakSet,sx=new WeakSet,ox=new WeakSet,ax=new WeakSet,lx=new WeakMap,ux=new WeakMap,hx=new WeakSet,cx=new WeakMap;class dx{get dev(){return O_(this,vE)}get mode(){return O_(this,_E)}get nlink(){return O_(this,DE)}get uid(){return O_(this,SE)}get gid(){return O_(this,EE)}get rdev(){return O_(this,xE)}get blksize(){return O_(this,kE)}get ino(){return O_(this,CE)}get size(){return O_(this,OE)}get blocks(){return O_(this,TE)}get atimeMs(){return O_(this,AE)}get mtimeMs(){return O_(this,FE)}get ctimeMs(){return O_(this,RE)}get birthtimeMs(){return O_(this,ME)}get atime(){return O_(this,PE)}get mtime(){return O_(this,IE)}get ctime(){return O_(this,jE)}get birthtime(){return O_(this,BE)}get path(){return(this.parent||this).fullpath()}constructor(t,e=eE,r,i,n,s,o){$_(this,hx),$_(this,ax),$_(this,ox),$_(this,sx),$_(this,nx),$_(this,ix),$_(this,rx),$_(this,ex),$_(this,tx),$_(this,XE),$_(this,QE),$_(this,JE),$_(this,KE),$_(this,ZE),$_(this,YE),C_(this,"name",void 0),C_(this,"root",void 0),C_(this,"roots",void 0),C_(this,"parent",void 0),C_(this,"nocase",void 0),N_(this,wE,{writable:!0,value:void 0}),N_(this,vE,{writable:!0,value:void 0}),N_(this,_E,{writable:!0,value:void 0}),N_(this,DE,{writable:!0,value:void 0}),N_(this,SE,{writable:!0,value:void 0}),N_(this,EE,{writable:!0,value:void 0}),N_(this,xE,{writable:!0,value:void 0}),N_(this,kE,{writable:!0,value:void 0}),N_(this,CE,{writable:!0,value:void 0}),N_(this,OE,{writable:!0,value:void 0}),N_(this,TE,{writable:!0,value:void 0}),N_(this,AE,{writable:!0,value:void 0}),N_(this,FE,{writable:!0,value:void 0}),N_(this,RE,{writable:!0,value:void 0}),N_(this,ME,{writable:!0,value:void 0}),N_(this,PE,{writable:!0,value:void 0}),N_(this,IE,{writable:!0,value:void 0}),N_(this,jE,{writable:!0,value:void 0}),N_(this,BE,{writable:!0,value:void 0}),N_(this,LE,{writable:!0,value:void 0}),N_(this,NE,{writable:!0,value:void 0}),N_(this,$E,{writable:!0,value:void 0}),N_(this,WE,{writable:!0,value:void 0}),N_(this,UE,{writable:!0,value:void 0}),N_(this,zE,{writable:!0,value:void 0}),N_(this,HE,{writable:!0,value:void 0}),N_(this,GE,{writable:!0,value:void 0}),N_(this,VE,{writable:!0,value:void 0}),N_(this,qE,{writable:!0,value:void 0}),N_(this,lx,{writable:!0,value:[]}),N_(this,ux,{writable:!0,value:!1}),N_(this,cx,{writable:!0,value:void 0}),this.name=t,T_(this,LE,n?mE(t):fE(t)),T_(this,HE,1023&e),this.nocase=n,this.roots=i,this.root=r||this,T_(this,GE,s),T_(this,$E,o.fullpath),T_(this,UE,o.relative),T_(this,zE,o.relativePosix),this.parent=o.parent,this.parent?T_(this,wE,O_(this.parent,wE)):T_(this,wE,QS(o.fs))}depth(){return void 0!==O_(this,NE)?O_(this,NE):this.parent?T_(this,NE,this.parent.depth()+1):T_(this,NE,0)}childrenCache(){return O_(this,GE)}resolve(t){var e;if(!t)return this;const r=this.getRootString(t),i=t.substring(r.length).split(this.splitSep);return r?B_(e=this.getRoot(r),YE,fx).call(e,i):B_(this,YE,fx).call(this,i)}children(){const t=O_(this,GE).get(this);if(t)return t;const e=Object.assign([],{provisional:0});return O_(this,GE).set(this,e),T_(this,HE,-17&O_(this,HE)),e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),i=this.nocase?mE(t):fE(t);for(const t of r)if(O_(t,LE)===i)return t;const n=this.parent?this.sep:"",s=O_(this,$E)?O_(this,$E)+n+t:void 0,o=this.newChild(t,eE,{...e,parent:this,fullpath:s});return this.canReaddir()||T_(o,HE,O_(o,HE)|aE),r.push(o),o}relative(){if(void 0!==O_(this,UE))return O_(this,UE);const t=this.name,e=this.parent;if(!e)return T_(this,UE,this.name);const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(void 0!==O_(this,zE))return O_(this,zE);const t=this.name,e=this.parent;if(!e)return T_(this,zE,this.fullpathPosix());const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==O_(this,$E))return O_(this,$E);const t=this.name,e=this.parent;if(!e)return T_(this,$E,this.name);const r=e.fullpath()+(e.parent?this.sep:"")+t;return T_(this,$E,r)}fullpathPosix(){if(void 0!==O_(this,WE))return O_(this,WE);if("/"===this.sep)return T_(this,WE,this.fullpath());if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?T_(this,WE,`//?/${t}`):T_(this,WE,t)}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return T_(this,WE,r)}isUnknown(){return(O_(this,HE)&nE)===eE}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(O_(this,HE)&nE)}isDirectory(){return(O_(this,HE)&nE)===rE}isCharacterDevice(){return 2==(O_(this,HE)&nE)}isBlockDevice(){return 6==(O_(this,HE)&nE)}isFIFO(){return 1==(O_(this,HE)&nE)}isSocket(){return 12==(O_(this,HE)&nE)}isSymbolicLink(){return(O_(this,HE)&iE)===iE}lstatCached(){return 32&O_(this,HE)?this:void 0}readlinkCached(){return O_(this,VE)}realpathCached(){return O_(this,qE)}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(O_(this,VE))return!0;if(!this.parent)return!1;const t=O_(this,HE)&nE;return!(t!==eE&&t!==iE||O_(this,HE)&lE||O_(this,HE)&aE)}calledReaddir(){return!!(16&O_(this,HE))}isENOENT(){return!!(O_(this,HE)&aE)}isNamed(t){return this.nocase?O_(this,LE)===mE(t):O_(this,LE)===fE(t)}async readlink(){const t=O_(this,VE);if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await O_(this,wE).promises.readlink(this.fullpath()),e=this.parent.resolve(t);if(e)return T_(this,VE,e)}catch(t){return void B_(this,rx,_x).call(this,t.code)}}readlinkSync(){const t=O_(this,VE);if(t)return t;if(this.canReadlink()&&this.parent)try{const t=O_(this,wE).readlinkSync(this.fullpath()),e=this.parent.resolve(t);if(e)return T_(this,VE,e)}catch(t){return void B_(this,rx,_x).call(this,t.code)}}async lstat(){if(0==(O_(this,HE)&aE))try{return B_(this,ax,kx).call(this,await O_(this,wE).promises.lstat(this.fullpath())),this}catch(t){B_(this,ex,vx).call(this,t.code)}}lstatSync(){if(0==(O_(this,HE)&aE))try{return B_(this,ax,kx).call(this,O_(this,wE).lstatSync(this.fullpath())),this}catch(t){B_(this,ex,vx).call(this,t.code)}}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask((()=>t(null,[]))));const r=this.children();if(this.calledReaddir()){const i=r.slice(0,r.provisional);return void(e?t(null,i):queueMicrotask((()=>t(null,i))))}if(O_(this,lx).push(t),O_(this,ux))return;T_(this,ux,!0);const i=this.fullpath();O_(this,wE).readdir(i,{withFileTypes:!0},((t,e)=>{if(t)B_(this,tx,wx).call(this,t.code),r.provisional=0;else{for(const t of e)B_(this,ix,Dx).call(this,t,r);B_(this,ZE,px).call(this,r)}B_(this,hx,Cx).call(this,r.slice(0,r.provisional))}))}async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(O_(this,cx))await O_(this,cx);else{let r=()=>{};T_(this,cx,new Promise((t=>r=t)));try{for(const r of await O_(this,wE).promises.readdir(e,{withFileTypes:!0}))B_(this,ix,Dx).call(this,r,t);B_(this,ZE,px).call(this,t)}catch(e){B_(this,tx,wx).call(this,e.code),t.provisional=0}T_(this,cx,void 0),r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of O_(this,wE).readdirSync(e,{withFileTypes:!0}))B_(this,ix,Dx).call(this,r,t);B_(this,ZE,px).call(this,t)}catch(e){B_(this,tx,wx).call(this,e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(O_(this,HE)&hE)return!1;const t=nE&O_(this,HE);return t===eE||t===rE||t===iE}shouldWalk(t,e){return(O_(this,HE)&rE)===rE&&!(O_(this,HE)&hE)&&!t.has(this)&&(!e||e(this))}async realpath(){if(O_(this,qE))return O_(this,qE);if(!((768|aE)&O_(this,HE)))try{const t=await O_(this,wE).promises.realpath(this.fullpath());return T_(this,qE,this.resolve(t))}catch(t){B_(this,QE,bx).call(this)}}realpathSync(){if(O_(this,qE))return O_(this,qE);if(!((768|aE)&O_(this,HE)))try{const t=O_(this,wE).realpathSync(this.fullpath());return T_(this,qE,this.resolve(t))}catch(t){B_(this,QE,bx).call(this)}}[yE](t){if(t===this)return;const e=new Set([]);let r=[],i=this;for(;i&&i.parent;)e.add(i),T_(i,UE,r.join(this.sep)),T_(i,zE,r.join("/")),i=i.parent,r.push("..");for(i=t;i&&i.parent&&!e.has(i);)T_(i,UE,void 0),T_(i,zE,void 0),i=i.parent}}function fx(t){let e=this;for(const r of t)e=e.child(r);return e}function px(t){T_(this,HE,16|O_(this,HE));for(let r=t.provisional;r<t.length;r++){var e;B_(e=t[r],KE,mx).call(e)}}function mx(){O_(this,HE)&aE||(T_(this,HE,(O_(this,HE)|aE)&sE),B_(this,JE,gx).call(this))}function gx(){const t=this.children();t.provisional=0;for(const e of t)B_(e,KE,mx).call(e)}function bx(){T_(this,HE,O_(this,HE)|uE),B_(this,XE,yx).call(this)}function yx(){if(O_(this,HE)&oE)return;let t=O_(this,HE);(t&nE)===rE&&(t&=sE),T_(this,HE,t|oE),B_(this,JE,gx).call(this)}function wx(t=""){"ENOTDIR"===t||"EPERM"===t?B_(this,XE,yx).call(this):"ENOENT"===t?B_(this,KE,mx).call(this):this.children().provisional=0}function vx(t=""){if("ENOTDIR"===t){const t=this.parent;B_(t,XE,yx).call(t)}else"ENOENT"===t&&B_(this,KE,mx).call(this)}function _x(t=""){let e=O_(this,HE);var r;(e|=lE,"ENOENT"===t&&(e|=aE),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=sE),T_(this,HE,e),"ENOTDIR"===t&&this.parent)&&B_(r=this.parent,XE,yx).call(r)}function Dx(t,e){return B_(this,sx,Ex).call(this,t,e)||B_(this,nx,Sx).call(this,t,e)}function Sx(t,e){const r=cE(t),i=this.newChild(t.name,r,{parent:this}),n=O_(i,HE)&nE;return n!==rE&&n!==iE&&n!==eE&&T_(i,HE,O_(i,HE)|oE),e.unshift(i),e.provisional++,i}function Ex(t,e){for(let r=e.provisional;r<e.length;r++){const i=e[r];if((this.nocase?mE(t.name):fE(t.name))===O_(i,LE))return B_(this,ox,xx).call(this,t,i,r,e)}}function xx(t,e,r,i){const n=e.name;return T_(e,HE,O_(e,HE)&sE|cE(t)),n!==t.name&&(e.name=t.name),r!==i.provisional&&(r===i.length-1?i.pop():i.splice(r,1),i.unshift(e)),i.provisional++,e}function kx(t){const{atime:e,atimeMs:r,birthtime:i,birthtimeMs:n,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:u,gid:h,ino:c,mode:d,mtime:f,mtimeMs:p,nlink:m,rdev:g,size:b,uid:y}=t;T_(this,PE,e),T_(this,AE,r),T_(this,BE,i),T_(this,ME,n),T_(this,kE,s),T_(this,TE,o),T_(this,jE,a),T_(this,RE,l),T_(this,vE,u),T_(this,EE,h),T_(this,CE,c),T_(this,_E,d),T_(this,IE,f),T_(this,FE,p),T_(this,DE,m),T_(this,xE,g),T_(this,OE,b),T_(this,SE,y);const w=cE(t);T_(this,HE,O_(this,HE)&sE|w|32),w!==eE&&w!==rE&&w!==iE&&T_(this,HE,O_(this,HE)|oE)}function Cx(t){T_(this,ux,!1);const e=O_(this,lx).slice();O_(this,lx).length=0,e.forEach((e=>e(null,t)))}CD.PathBase=dx;class Ox extends dx{constructor(t,e=eE,r,i,n,s,o){super(t,e,r,i,n,s,o),C_(this,"sep","\\"),C_(this,"splitSep",tE)}newChild(t,e=eE,r={}){return new Ox(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return HS.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(XS,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new Ix(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(XS,"$1\\"))===e}}CD.PathWin32=Ox;class Tx extends dx{constructor(t,e=eE,r,i,n,s,o){super(t,e,r,i,n,s,o),C_(this,"splitSep","/"),C_(this,"sep","/")}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=eE,r={}){return new Tx(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}}CD.PathPosix=Tx;var Ax=new WeakMap,Fx=new WeakMap,Rx=new WeakMap,Mx=new WeakMap;LS=Symbol.asyncIterator,NS=Symbol.iterator;class Px{constructor(t=process.cwd(),e,r,{nocase:i,childrenCacheSize:n=16384,fs:s=JS}={}){C_(this,"root",void 0),C_(this,"rootPath",void 0),C_(this,"roots",void 0),C_(this,"cwd",void 0),N_(this,Ax,{writable:!0,value:void 0}),N_(this,Fx,{writable:!0,value:void 0}),N_(this,Rx,{writable:!0,value:void 0}),C_(this,"nocase",void 0),N_(this,Mx,{writable:!0,value:void 0}),T_(this,Mx,QS(s)),(t instanceof URL||t.startsWith("file://"))&&(t=(0,GS.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),T_(this,Ax,new gE),T_(this,Fx,new gE),T_(this,Rx,new bE(n));const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===i)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(O_(this,Mx)),this.roots[this.rootPath]=this.root;let l=this.root,u=a.length-1;const h=e.sep;let c=this.rootPath,d=!1;for(const t of a){const e=u--;l=l.child(t,{relative:new Array(e).fill("..").join(h),relativePosix:new Array(e).fill("..").join("/"),fullpath:c+=(d?"":h)+t}),d=!0}this.cwd=l}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return O_(this,Rx)}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const i=t[r];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const r=O_(this,Ax).get(e);if(void 0!==r)return r;const i=this.cwd.resolve(e).fullpath();return O_(this,Ax).set(e,i),i}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const i=t[r];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const r=O_(this,Fx).get(e);if(void 0!==r)return r;const i=this.cwd.resolve(e).fullpathPosix();return O_(this,Fx).set(e,i),i}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map((t=>t.name))}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map((t=>t.name)):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=[];n&&!n(t)||o.push(r?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB(((t,u)=>{if(t)return e(t);let h=u.length;if(!h)return e();const c=()=>{0==--h&&e()};for(const t of u)n&&!n(t)||o.push(r?t:t.fullpath()),i&&t.isSymbolicLink()?t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(a,s)?l(t,c):c())):t.shouldWalk(a,s)?l(t,c):c()}),!0)},u=t;return new Promise(((t,e)=>{l(u,(r=>{if(r)return e(r);t(o)}))}))}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=[];n&&!n(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){n&&!n(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[LS](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[NS](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e;n&&!n(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){n&&!n(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=new KS.Minipass({objectMode:!0});n&&!n(t)||o.write(r?t:t.fullpath());const a=new Set,l=[t];let u=0;const h=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const c=(e,f,p=!1)=>{if(e)return o.emit("error",e);if(i&&!p){const t=[];for(const e of f)e.isSymbolicLink()&&t.push(e.realpath().then((t=>t?.isUnknown()?t.lstat():t)));if(t.length)return void Promise.all(t).then((()=>c(null,f,!0)))}for(const e of f)!e||n&&!n(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of f){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",h):d||h()};let d=!0;e.readdirCB(c,!0),d=!1}};return h(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof dx||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=new KS.Minipass({objectMode:!0}),a=new Set;n&&!n(t)||o.write(r?t:t.fullpath());const l=[t];let u=0;const h=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const h=e.readdirSync();for(const e of h)n&&!n(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of h){let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",h)};return h(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[yE](e)}}CD.PathScurryBase=Px;class Ix extends Px{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,HS.win32,"\\",{...e,nocase:r}),C_(this,"sep","\\"),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return HS.win32.parse(t).root.toUpperCase()}newRoot(t){return new Ox(this.rootPath,rE,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}CD.PathScurryWin32=Ix;class jx extends Px{constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,HS.posix,"/",{...e,nocase:r}),C_(this,"sep","/"),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new Tx(this.rootPath,rE,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}CD.PathScurryPosix=jx;class Bx extends jx{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}}CD.PathScurryDarwin=Bx,CD.Path="win32"===process.platform?Ox:Tx,CD.PathScurry="win32"===process.platform?Ix:"darwin"===process.platform?Bx:jx;var Lx={};Object.defineProperty(Lx,"__esModule",{value:!0}),Lx.Pattern=void 0;const Nx=W_;var $x=new WeakMap,Wx=new WeakMap,Ux=new WeakMap,zx=new WeakMap,Hx=new WeakMap,Gx=new WeakMap,Vx=new WeakMap,qx=new WeakMap,Yx=new WeakMap,Zx=new WeakMap;class Kx{constructor(t,e,r,i){if(N_(this,$x,{writable:!0,value:void 0}),N_(this,Wx,{writable:!0,value:void 0}),N_(this,Ux,{writable:!0,value:void 0}),C_(this,"length",void 0),N_(this,zx,{writable:!0,value:void 0}),N_(this,Hx,{writable:!0,value:void 0}),N_(this,Gx,{writable:!0,value:void 0}),N_(this,Vx,{writable:!0,value:void 0}),N_(this,qx,{writable:!0,value:void 0}),N_(this,Yx,{writable:!0,value:void 0}),N_(this,Zx,{writable:!0,value:!0}),!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(T_(this,$x,t),T_(this,Wx,e),T_(this,Ux,r),T_(this,zx,i),0===O_(this,Ux))if(this.isUNC()){const[t,e,r,i,...n]=O_(this,$x),[s,o,a,l,...u]=O_(this,Wx);""===n[0]&&(n.shift(),u.shift());const h=[t,e,r,i,""].join("/"),c=[s,o,a,l,""].join("/");T_(this,$x,[h,...n]),T_(this,Wx,[c,...u]),this.length=O_(this,$x).length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=O_(this,$x),[r,...i]=O_(this,Wx);""===e[0]&&(e.shift(),i.shift());const n=r+"/";T_(this,$x,[t+"/",...e]),T_(this,Wx,[n,...i]),this.length=O_(this,$x).length}}pattern(){return O_(this,$x)[O_(this,Ux)]}isString(){return"string"==typeof O_(this,$x)[O_(this,Ux)]}isGlobstar(){return O_(this,$x)[O_(this,Ux)]===Nx.GLOBSTAR}isRegExp(){return O_(this,$x)[O_(this,Ux)]instanceof RegExp}globString(){return T_(this,Gx,O_(this,Gx)||(0===O_(this,Ux)?this.isAbsolute()?O_(this,Wx)[0]+O_(this,Wx).slice(1).join("/"):O_(this,Wx).join("/"):O_(this,Wx).slice(O_(this,Ux)).join("/")))}hasMore(){return this.length>O_(this,Ux)+1}rest(){return void 0!==O_(this,Hx)?O_(this,Hx):this.hasMore()?(T_(this,Hx,new Kx(O_(this,$x),O_(this,Wx),O_(this,Ux)+1,O_(this,zx))),T_(O_(this,Hx),Yx,O_(this,Yx)),T_(O_(this,Hx),qx,O_(this,qx)),T_(O_(this,Hx),Vx,O_(this,Vx)),O_(this,Hx)):T_(this,Hx,null)}isUNC(){const t=O_(this,$x);return void 0!==O_(this,qx)?O_(this,qx):T_(this,qx,"win32"===O_(this,zx)&&0===O_(this,Ux)&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3])}isDrive(){const t=O_(this,$x);return void 0!==O_(this,Vx)?O_(this,Vx):T_(this,Vx,"win32"===O_(this,zx)&&0===O_(this,Ux)&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]))}isAbsolute(){const t=O_(this,$x);return void 0!==O_(this,Yx)?O_(this,Yx):T_(this,Yx,""===t[0]&&t.length>1||this.isDrive()||this.isUNC())}root(){const t=O_(this,$x)[0];return"string"==typeof t&&this.isAbsolute()&&0===O_(this,Ux)?t:""}checkFollowGlobstar(){return!(0===O_(this,Ux)||!this.isGlobstar()||!O_(this,Zx))}markFollowGlobstar(){return!(0===O_(this,Ux)||!this.isGlobstar()||!O_(this,Zx))&&(T_(this,Zx,!1),!0)}}Lx.Pattern=Kx;var Jx={},Qx={};Object.defineProperty(Qx,"__esModule",{value:!0}),Qx.Ignore=void 0;const Xx=W_,tk=Lx,ek="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";Qx.Ignore=class{constructor(t,{nobrace:e,nocase:r,noext:i,noglobstar:n,platform:s=ek}){C_(this,"relative",void 0),C_(this,"relativeChildren",void 0),C_(this,"absolute",void 0),C_(this,"absoluteChildren",void 0),this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const o={dot:!0,nobrace:e,nocase:r,noext:i,noglobstar:n,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t){const t=new Xx.Minimatch(e,o);for(let e=0;e<t.set.length;e++){const r=t.set[e],i=t.globParts[e];if(!r||!i)throw new Error("invalid pattern object");const n=new tk.Pattern(r,i,0,s),a=new Xx.Minimatch(n.globString(),o),l="**"===i[i.length-1],u=n.isAbsolute();u?this.absolute.push(a):this.relative.push(a),l&&(u?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}}ignored(t){const e=t.fullpath(),r=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const t of this.relative)if(t.match(i)||t.match(n))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}};var rk={};Object.defineProperty(rk,"__esModule",{value:!0}),rk.Processor=rk.SubWalks=rk.MatchRecord=rk.HasWalkedCache=void 0;const ik=W_;class nk{constructor(t=new Map){C_(this,"store",void 0),this.store=t}copy(){return new nk(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),i=this.store.get(r);i?i.add(e.globString()):this.store.set(r,new Set([e.globString()]))}}rk.HasWalkedCache=nk;class sk{constructor(){C_(this,"store",new Map)}add(t,e,r){const i=(e?2:0)|(r?1:0),n=this.store.get(t);this.store.set(t,void 0===n?i:i&n)}entries(){return[...this.store.entries()].map((([t,e])=>[t,!!(2&e),!!(1&e)]))}}rk.MatchRecord=sk;class ok{constructor(){C_(this,"store",new Map)}add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find((t=>t.globString()===e.globString()))||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}rk.SubWalks=ok;class ak{constructor(t,e){C_(this,"hasWalkedCache",void 0),C_(this,"matches",new sk),C_(this,"subwalks",new ok),C_(this,"patterns",void 0),C_(this,"follow",void 0),C_(this,"dot",void 0),C_(this,"opts",void 0),this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new nk}processPatterns(t,e){this.patterns=e;const r=e.map((e=>[t,e]));for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),i=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const i=e.rest();if(!i){this.matches.add(t,!0,!1);continue}e=i}if(t.isENOENT())continue;let n,s,o=!1;for(;"string"==typeof(n=e.pattern())&&(s=e.rest());){const r=t.resolve(n);t=r,e=s,o=!0}if(n=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"!=typeof n)if(n===ik.GLOBSTAR){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=s?.pattern(),n=s?.rest();if(s&&(""!==r&&"."!==r||n)){if(".."===r){const e=t.parent||t;n?this.hasWalkedCache.hasWalked(e,n)||this.subwalks.add(e,n):this.matches.add(e,i,!0)}}else this.matches.add(t,i,""===r||"."===r)}else n instanceof RegExp&&this.subwalks.add(t,e);else{const e=".."===n||""===n||"."===n;this.matches.add(t.resolve(n),i,e)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new ak(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),i=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),n=e.pattern(),s=e.rest();n===ik.GLOBSTAR?i.testGlobstar(t,e,s,r):n instanceof RegExp?i.testRegExp(t,n,s,r):i.testString(t,n,s,r)}return i}testGlobstar(t,e,r,i){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),i);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),i)}}testRegExp(t,e,r,i){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}testString(t,e,r,i){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}}rk.Processor=ak,Object.defineProperty(Jx,"__esModule",{value:!0}),Jx.GlobStream=Jx.GlobWalker=Jx.GlobUtil=void 0;const lk=BS,uk=Qx,hk=rk;var ck=new WeakMap,dk=new WeakMap,fk=new WeakMap,pk=new WeakSet,mk=new WeakSet;class gk{constructor(t,e,r){$_(this,mk),$_(this,pk),C_(this,"path",void 0),C_(this,"patterns",void 0),C_(this,"opts",void 0),C_(this,"seen",new Set),C_(this,"paused",!1),C_(this,"aborted",!1),N_(this,ck,{writable:!0,value:[]}),N_(this,dk,{writable:!0,value:void 0}),N_(this,fk,{writable:!0,value:void 0}),C_(this,"signal",void 0),C_(this,"maxDepth",void 0),this.patterns=t,this.path=e,this.opts=r,T_(this,fk,r.posix||"win32"!==r.platform?"/":"\\"),r.ignore&&T_(this,dk,((t,e)=>"string"==typeof t?new uk.Ignore([t],e):Array.isArray(t)?new uk.Ignore(t,e):t)(r.ignore,r)),this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",(()=>{O_(this,ck).length=0})))}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=O_(this,ck).shift());)t()}onResume(t){this.signal?.aborted||(this.paused?O_(this,ck).push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?await t.lstat():t,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||B_(this,pk,bk).call(this,t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const i=t.isUnknown()||this.opts.stat;return this.matchCheckTest(i?t.lstatSync():t,e)}matchFinish(t,e){if(B_(this,pk,bk).call(this,t))return;const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?O_(this,fk):"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+i)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+O_(this,fk))?"."+O_(this,fk):"";this.matchEmit(e?r+e+i:"."+i)}}async match(t,e,r){const i=await this.matchCheck(t,r);i&&this.matchFinish(i,e)}matchSync(t,e,r){const i=this.matchCheckSync(t,r);i&&this.matchFinish(i,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new hk.Processor(this.opts),r)}walkCB2(t,e,r,i){if(B_(this,mk,yk).call(this,t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2(t,e,r,i)));r.processPatterns(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())B_(this,pk,bk).call(this,t)||(n++,this.match(t,e,i).then((()=>s())));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,s):t.readdirCB(((e,i)=>this.walkCB3(t,i,r,s)),!0)}s()}walkCB3(t,e,r,i){r=r.filterEntries(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())B_(this,pk,bk).call(this,t)||(n++,this.match(t,e,i).then((()=>s())));for(const[t,e]of r.subwalks.entries())n++,this.walkCB2(t,e,r.child(),s);s()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new hk.Processor(this.opts),r)}walkCB2Sync(t,e,r,i){if(B_(this,mk,yk).call(this,t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2Sync(t,e,r,i)));r.processPatterns(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())B_(this,pk,bk).call(this,t)||this.matchSync(t,e,i);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,s)}s()}walkCB3Sync(t,e,r,i){r=r.filterEntries(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())B_(this,pk,bk).call(this,t)||this.matchSync(t,e,i);for(const[t,e]of r.subwalks.entries())n++,this.walkCB2Sync(t,e,r.child(),s);s()}}function bk(t){return this.seen.has(t)||!!O_(this,dk)?.ignored?.(t)}function yk(t){return!!O_(this,dk)?.childrenIgnored?.(t)}Jx.GlobUtil=gk;Jx.GlobWalker=class extends gk{constructor(t,e,r){super(t,e,r),C_(this,"matches",void 0),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((t,e)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}};let wk,vk;Jx.GlobStream=class extends gk{constructor(t,e,r){super(t,e,r),C_(this,"results",void 0),this.results=new lk.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))})):this.walkCB(t,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}},Object.defineProperty(kD,"__esModule",{value:!0}),kD.Glob=void 0;const _k=W_,Dk=CD,Sk=g,Ek=Lx,xk=Jx,kk="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";wk=Symbol.iterator,vk=Symbol.asyncIterator;kD.Glob=class{constructor(t,e){if(C_(this,"absolute",void 0),C_(this,"cwd",void 0),C_(this,"root",void 0),C_(this,"dot",void 0),C_(this,"dotRelative",void 0),C_(this,"follow",void 0),C_(this,"ignore",void 0),C_(this,"magicalBraces",void 0),C_(this,"mark",void 0),C_(this,"matchBase",void 0),C_(this,"maxDepth",void 0),C_(this,"nobrace",void 0),C_(this,"nocase",void 0),C_(this,"nodir",void 0),C_(this,"noext",void 0),C_(this,"noglobstar",void 0),C_(this,"pattern",void 0),C_(this,"platform",void 0),C_(this,"realpath",void 0),C_(this,"scurry",void 0),C_(this,"stat",void 0),C_(this,"signal",void 0),C_(this,"windowsPathsNoEscape",void 0),C_(this,"withFileTypes",void 0),C_(this,"opts",void 0),C_(this,"patterns",void 0),!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Sk.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map((t=>t.replace(/\\/g,"/")))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map((t=>t.includes("/")?t:`./**/${t}`))}if(this.pattern=t,this.platform=e.platform||kk,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?Dk.PathScurryWin32:"darwin"===e.platform?Dk.PathScurryDarwin:e.platform?Dk.PathScurryPosix:Dk.PathScurry;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map((t=>new _k.Minimatch(t,i))),[s,o]=n.reduce(((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t)),[[],[]]);this.patterns=s.map(((t,e)=>{const r=o[e];if(!r)throw new Error("invalid pattern object");return new Ek.Pattern(t,r,0,this.platform)}))}async walk(){return[...await new xk.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new xk.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new xk.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new xk.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[wk](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[vk](){return this.iterate()}};var Ck={};Object.defineProperty(Ck,"__esModule",{value:!0}),Ck.hasMagic=void 0;const Ok=W_;Ck.hasMagic=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new Ok.Minimatch(r,e).hasMagic())return!0;return!1},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.hasMagic=t.Glob=t.unescape=t.escape=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.globIterate=t.globIterateSync=t.globSync=t.globStream=t.globStreamSync=void 0;const e=W_,r=kD,i=Ck;function n(t,e={}){return new r.Glob(t,e).streamSync()}function s(t,e={}){return new r.Glob(t,e).stream()}function o(t,e={}){return new r.Glob(t,e).walkSync()}async function a(t,e={}){return new r.Glob(t,e).walk()}function l(t,e={}){return new r.Glob(t,e).iterateSync()}function u(t,e={}){return new r.Glob(t,e).iterate()}t.globStreamSync=n,t.globStream=s,t.globSync=o,t.globIterateSync=l,t.globIterate=u,t.streamSync=n,t.stream=Object.assign(s,{sync:n}),t.iterateSync=l,t.iterate=Object.assign(u,{sync:l}),t.sync=Object.assign(o,{stream:n,iterate:l});var h=W_;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return h.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return h.unescape}});var c=kD;Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return c.Glob}});var d=Ck;Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return d.hasMagic}}),t.glob=Object.assign(a,{glob:a,globSync:o,sync:t.sync,globStream:s,stream:t.stream,globStreamSync:n,streamSync:t.streamSync,globIterate:u,iterate:t.iterate,globIterateSync:l,iterateSync:t.iterateSync,Glob:r.Glob,hasMagic:i.hasMagic,escape:e.escape,unescape:e.unescape}),t.glob.glob=t.glob}(x_);var Tk=tl,Ak=r,Fk=Ew,Rk=Qv,Mk=f_,Pk=E_,Ik=x_,jk=mw.exports={},Bk=/[\/\\]/g;jk.exists=function(){var t=Ak.join.apply(Ak,arguments);return Tk.existsSync(t)},jk.expand=function(...t){var e=Pk(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(0===r.length)return[];var i=function(t,e){var r=[];return Fk(t).forEach((function(t){var i=0===t.indexOf("!");i&&(t=t.slice(1));var n=e(t);r=i?Rk(r,n):Mk(r,n)})),r}(r,(function(t){return Ik.sync(t,e)}));return e.filter&&(i=i.filter((function(t){t=Ak.join(e.cwd||"",t);try{return"function"==typeof e.filter?e.filter(t):Tk.statSync(t)[e.filter]()}catch(t){return!1}}))),i},jk.expandMapping=function(t,e,r){r=Object.assign({rename:function(t,e){return Ak.join(t||"",e)}},r);var i=[],n={};return jk.expand(r,t).forEach((function(t){var s=t;r.flatten&&(s=Ak.basename(s)),r.ext&&(s=s.replace(/(\.[^\/]*)?$/,r.ext));var o=r.rename(e,s,r);r.cwd&&(t=Ak.join(r.cwd,t)),o=o.replace(Bk,"/"),t=t.replace(Bk,"/"),n[o]?n[o].src.push(t):(i.push({src:[t],dest:o}),n[o]=i[i.length-1])})),i},jk.normalizeFilesArray=function(t){var e=[];return t.forEach((function(t){("src"in t||"dest"in t)&&e.push(t)})),0===e.length?[]:(e=_(e).chain().forEach((function(t){"src"in t&&t.src&&(Array.isArray(t.src)?t.src=Fk(t.src):t.src=[t.src])})).map((function(t){var e=Object.assign({},t);if(delete e.src,delete e.dest,t.expand)return jk.expandMapping(t.src,t.dest,e).map((function(e){var r=Object.assign({},t);return r.orig=Object.assign({},t),r.src=e.src,r.dest=e.dest,["expand","cwd","flatten","rename","ext"].forEach((function(t){delete r[t]})),r}));var r=Object.assign({},t);return r.orig=Object.assign({},t),"src"in r&&Object.defineProperty(r,"src",{enumerable:!0,get:function r(){var i;return"result"in r||(i=t.src,i=Array.isArray(i)?Fk(i):[i],r.result=jk.expand(e,i)),r.result}}),"dest"in r&&(r.dest=t.dest),r})).flatten().value(),e)};var Lk=mw.exports,Nk=tl,$k=r,Wk=Tp,Uk=dm,zk=gm,Hk=Ob;u.Stream;var Gk=pw.PassThrough,Vk=Dp.exports={};Vk.file=Lk,Vk.collectStream=function(t,e){var r=[],i=0;t.on("error",e),t.on("data",(function(t){r.push(t),i+=t.length})),t.on("end",(function(){var t=Buffer.alloc(i),n=0;r.forEach((function(e){e.copy(t,n),n+=e.length})),e(null,t)}))},Vk.dateify=function(t){return(t=t||new Date)instanceof Date||(t="string"==typeof t?new Date(t):new Date),t},Vk.defaults=function(t,e,r){var i=arguments;return i[0]=i[0]||{},Hk(...i)},Vk.isStream=function(t){return Wk(t)},Vk.lazyReadStream=function(t){return new Uk.Readable((function(){return Nk.createReadStream(t)}))},Vk.normalizeInputSource=function(t){return null===t?Buffer.alloc(0):"string"==typeof t?Buffer.from(t):Vk.isStream(t)?t.pipe(new Gk):t},Vk.sanitizePath=function(t){return zk(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},Vk.trailingSlashIt=function(t){return"/"!==t.slice(-1)?t+"/":t},Vk.unixifyPath=function(t){return zk(t,!1).replace(/^\w+:/,"")},Vk.walkdir=function(t,e,r){var i=[];"function"==typeof e&&(r=e,e=t),Nk.readdir(t,(function(n,s){var o,a,l=0;if(n)return r(n);!function n(){if(!(o=s[l++]))return r(null,i);a=$k.join(t,o),Nk.stat(a,(function(t,s){i.push({path:a,relative:$k.relative(e,a).replace(/\\/g,"/"),stats:s}),s&&s.isDirectory()?Vk.walkdir(a,e,(function(t,e){if(t)return r(t);e.forEach((function(t){i.push(t)})),n()})):n()}))}()}))};var qk=Dp.exports,Yk={exports:{}};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
!function(t,e){const r={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function i(t,e){Error.captureStackTrace(this,this.constructor),this.message=r[t]||t,this.code=t,this.data=e}c.inherits(i,Error),t.exports=i}(Yk);var Zk=Yk.exports,Kk=i,Jk=Jc,Qk=_p,Xk=r,tC=qk,eC=c.inherits,rC=Zk,iC=pw.Transform,nC="win32"===process.platform,sC=function(t,e){if(!(this instanceof sC))return new sC(t,e);"string"!=typeof t&&(e=t,t="zip"),e=this.options=tC.defaults(e,{highWaterMark:1048576,statConcurrency:4}),iC.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=Qk.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=Qk.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */eC(sC,iC),sC.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()},sC.prototype._append=function(t,e){var r={source:null,filepath:t};(e=e||{}).name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof Kk.Stats?(r=this._updateQueueTaskWithStats(r,e.stats))&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r)):this._statQueue.push(r)},sC.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)},sC.prototype._maybeFinalize=function(){return!(this._state.finalizing||this._state.finalized||this._state.aborted)&&(!!(this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle())&&(this._finalize(),!0))},sC.prototype._moduleAppend=function(t,e,r){this._state.aborted?r():this._module.append(t,e,function(t){if(this._task=null,this._state.aborted)this._shutdown();else{if(t)return this.emit("error",t),void setImmediate(r);this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}}.bind(this))},sC.prototype._moduleFinalize=function(){"function"==typeof this._module.finalize?this._module.finalize():"function"==typeof this._module.end?this._module.end():this.emit("error",new rC("NOENDMETHOD"))},sC.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0},sC.prototype._moduleSupports=function(t){return!(!this._module.supports||!this._module.supports[t])&&this._module.supports[t]},sC.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1},sC.prototype._normalizeEntryData=function(t,e){t=tC.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&!1===t.stats&&(t.stats=e);var r="directory"===t.type;return t.name&&("string"==typeof t.prefix&&""!==t.prefix&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=tC.sanitizePath(t.name),"symlink"!==t.type&&"/"===t.name.slice(-1)?(r=!0,t.type="directory"):r&&(t.name+="/")),"number"==typeof t.mode?t.mode&=nC?511:4095:t.stats&&null===t.mode?(t.mode=nC?511&t.stats.mode:4095&t.stats.mode,nC&&r&&(t.mode=493)):null===t.mode&&(t.mode=r?493:420),t.stats&&null===t.date?t.date=t.stats.mtime:t.date=tC.dateify(t.date),t},sC.prototype._onModuleError=function(t){this.emit("error",t)},sC.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()},sC.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};this._state.finalizing||this._state.finalized||this._state.aborted?r():(this._task=t,this._moduleAppend(t.source,t.data,r))},sC.prototype._onStatQueueTask=function(t,e){this._state.finalizing||this._state.finalized||this._state.aborted?e():Kk.lstat(t.filepath,function(r,i){if(this._state.aborted)setImmediate(e);else{if(r)return this._entriesCount--,this.emit("warning",r),void setImmediate(e);(t=this._updateQueueTaskWithStats(t,i))&&(i.size&&(this._fsEntriesTotalBytes+=i.size),this._queue.push(t)),setImmediate(e)}}.bind(this))},sC.prototype._shutdown=function(){this._moduleUnpipe(),this.end()},sC.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)},sC.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=tC.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=tC.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=tC.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else{if(!e.isSymbolicLink()||!this._moduleSupports("symlink"))return e.isDirectory()?this.emit("warning",new rC("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new rC("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new rC("ENTRYNOTSUPPORTED",t.data)),null;var r=Kk.readlinkSync(t.filepath),i=Xk.dirname(t.filepath);t.data.type="symlink",t.data.linkname=Xk.relative(i,Xk.resolve(i,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}return t.data=this._normalizeEntryData(t.data,e),t},sC.prototype.abort=function(){return this._state.aborted||this._state.finalized||this._abort(),this},sC.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new rC("QUEUECLOSED")),this;if("string"!=typeof(e=this._normalizeEntryData(e)).name||0===e.name.length)return this.emit("error",new rC("ENTRYNAMEREQUIRED")),this;if("directory"===e.type&&!this._moduleSupports("directory"))return this.emit("error",new rC("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=tC.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else{if(!tC.isStream(t))return this.emit("error",new rC("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;e.sourceType="stream"}return this._entriesCount++,this._queue.push({data:e,source:t}),this},sC.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new rC("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new rC("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,!1===e?e="":"string"!=typeof e&&(e=t);var i=!1;"function"==typeof r?(i=r,r={}):"object"!=typeof r&&(r={});var n=Jk(t,{stat:!0,dot:!0});return n.on("error",function(t){this.emit("error",t)}.bind(this)),n.on("match",function(s){n.pause();var o=!1,a=Object.assign({},r);a.name=s.relative,a.prefix=e,a.stats=s.stat,a.callback=n.resume.bind(n);try{if(i)if(!1===(a=i(a)))o=!0;else if("object"!=typeof a)throw new rC("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}catch(t){return void this.emit("error",t)}o?n.resume():this._append(s.absolute,a)}.bind(this)),n.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},sC.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new rC("QUEUECLOSED")),this):"string"!=typeof t||0===t.length?(this.emit("error",new rC("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)},sC.prototype.glob=function(t,e,r){this._pending++,e=tC.defaults(e,{stat:!0,pattern:t});var i=Jk(e.cwd||".",e);return i.on("error",function(t){this.emit("error",t)}.bind(this)),i.on("match",function(t){i.pause();var e=Object.assign({},r);e.callback=i.resume.bind(i),e.stats=t.stat,e.name=t.relative,this._append(t.absolute,e)}.bind(this)),i.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},sC.prototype.finalize=function(){if(this._state.aborted){var t=new rC("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new rC("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise((function(t,e){var i;r._module.on("end",(function(){i||t()})),r._module.on("error",(function(t){i=!0,e(t)}))}))},sC.prototype.setFormat=function(t){return this._format?(this.emit("error",new rC("FORMATSET")),this):(this._format=t,this)},sC.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new rC("ABORTED")),this):this._state.module?(this.emit("error",new rC("MODULESET")),this):(this._module=t,this._modulePipe(),this)},sC.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new rC("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new rC("SYMLINKFILEPATHREQUIRED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new rC("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new rC("SYMLINKNOTSUPPORTED",{filepath:t})),this;var i={type:"symlink"};return i.name=t.replace(/\\/g,"/"),i.linkname=e.replace(/\\/g,"/"),i.sourceType="buffer","number"==typeof r&&(i.mode=r),this._entriesCount++,this._queue.push({data:i,source:Buffer.concat([])}),this},sC.prototype.pointer=function(){return this._pointer},sC.prototype.use=function(t){return this._streams.push(t),this};var oC=sC,aC={exports:{}},lC={exports:{}},uC=lC.exports=function(){};uC.prototype.getName=function(){},uC.prototype.getSize=function(){},uC.prototype.getLastModifiedDate=function(){},uC.prototype.isDirectory=function(){};var hC=lC.exports,cC={exports:{}},dC={exports:{}},fC={exports:{}},pC=fC.exports={};pC.dateToDos=function(t,e){var r=(e=e||!1)?t.getFullYear():t.getUTCFullYear();return r<1980?2162688:r>=2044?2141175677:r-1980<<25|(e?t.getMonth():t.getUTCMonth())+1<<21|(e?t.getDate():t.getUTCDate())<<16|(e?t.getHours():t.getUTCHours())<<11|(e?t.getMinutes():t.getUTCMinutes())<<5|(e?t.getSeconds():t.getUTCSeconds())/2},pC.dosToDate=function(t){return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)},pC.fromDosTime=function(t){return pC.dosToDate(t.readUInt32LE(0))},pC.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e},pC.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((65535&t)>>>0,0),e},pC.getShortBytesValue=function(t,e){return t.readUInt16LE(e)},pC.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((4294967295&t)>>>0,0),e},pC.getLongBytesValue=function(t,e){return t.readUInt32LE(e)},pC.toDosTime=function(t){return pC.getLongBytes(pC.dateToDos(t))};var mC=fC.exports,gC=mC,bC=dC.exports=function(){return this instanceof bC?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new bC};bC.prototype.encode=function(){return gC.getShortBytes((this.descriptor?8:0)|(this.utf8?2048:0)|(this.encryption?1:0)|(this.strongEncryption?64:0))},bC.prototype.parse=function(t,e){var r=gC.getShortBytesValue(t,e),i=new bC;return i.useDataDescriptor(0!=(8&r)),i.useUTF8ForNames(0!=(2048&r)),i.useStrongEncryption(0!=(64&r)),i.useEncryption(0!=(1&r)),i.setSlidingDictionarySize(0!=(2&r)?8192:4096),i.setNumberOfShannonFanoTrees(0!=(4&r)?3:2),i},bC.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t},bC.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees},bC.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t},bC.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize},bC.prototype.useDataDescriptor=function(t){this.descriptor=t},bC.prototype.usesDataDescriptor=function(){return this.descriptor},bC.prototype.useEncryption=function(t){this.encryption=t},bC.prototype.usesEncryption=function(){return this.encryption},bC.prototype.useStrongEncryption=function(t){this.strongEncryption=t},bC.prototype.usesStrongEncryption=function(){return this.strongEncryption},bC.prototype.useUTF8ForNames=function(t){this.utf8=t},bC.prototype.usesUTF8ForNames=function(){return this.utf8};var yC=dC.exports,wC={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1},vC=c.inherits,_C=gm,DC=hC,SC=yC,EC={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420},xC=wC,kC=mC,CC=cC.exports=function(t){if(!(this instanceof CC))return new CC(t);DC.call(this),this.platform=xC.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new SC,this.crc=0,this.time=-1,this.minver=xC.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};vC(CC,DC),CC.prototype.getCentralDirectoryExtra=function(){return this.getExtra()},CC.prototype.getComment=function(){return null!==this.comment?this.comment:""},CC.prototype.getCompressedSize=function(){return this.csize},CC.prototype.getCrc=function(){return this.crc},CC.prototype.getExternalAttributes=function(){return this.exattr},CC.prototype.getExtra=function(){return null!==this.extra?this.extra:xC.EMPTY},CC.prototype.getGeneralPurposeBit=function(){return this.gpb},CC.prototype.getInternalAttributes=function(){return this.inattr},CC.prototype.getLastModifiedDate=function(){return this.getTime()},CC.prototype.getLocalFileDataExtra=function(){return this.getExtra()},CC.prototype.getMethod=function(){return this.method},CC.prototype.getName=function(){return this.name},CC.prototype.getPlatform=function(){return this.platform},CC.prototype.getSize=function(){return this.size},CC.prototype.getTime=function(){return-1!==this.time?kC.dosToDate(this.time):-1},CC.prototype.getTimeDos=function(){return-1!==this.time?this.time:0},CC.prototype.getUnixMode=function(){return this.platform!==xC.PLATFORM_UNIX?0:this.getExternalAttributes()>>xC.SHORT_SHIFT&xC.SHORT_MASK},CC.prototype.getVersionNeededToExtract=function(){return this.minver},CC.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t},CC.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t},CC.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t},CC.prototype.setExternalAttributes=function(t){this.exattr=t>>>0},CC.prototype.setExtra=function(t){this.extra=t},CC.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof SC))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t},CC.prototype.setInternalAttributes=function(t){this.inattr=t},CC.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t},CC.prototype.setName=function(t,e=!1){t=_C(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t},CC.prototype.setPlatform=function(t){this.platform=t},CC.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t},CC.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=kC.dateToDos(t,e)},CC.prototype.setUnixMode=function(t){var e=0;e|=(t|=this.isDirectory()?xC.S_IFDIR:xC.S_IFREG)<<xC.SHORT_SHIFT|(this.isDirectory()?xC.S_DOS_D:xC.S_DOS_A),this.setExternalAttributes(e),this.mode=t&xC.MODE_MASK,this.platform=xC.PLATFORM_UNIX},CC.prototype.setVersionNeededToExtract=function(t){this.minver=t},CC.prototype.isDirectory=function(){return"/"===this.getName().slice(-1)},CC.prototype.isUnixSymlink=function(){return(this.getUnixMode()&EC.FILE_TYPE_FLAG)===EC.LINK_FLAG},CC.prototype.isZip64=function(){return this.csize>xC.ZIP64_MAGIC||this.size>xC.ZIP64_MAGIC};var OC=cC.exports,TC={exports:{}},AC={exports:{}};u.Stream;var FC=pw.PassThrough,RC=Tp;(AC.exports={}).normalizeInputSource=function(t){if(null===t)return Buffer.alloc(0);if("string"==typeof t)return Buffer.from(t);if(RC(t)&&!t._readableState){var e=new FC;return t.pipe(e),e}return t};var MC=AC.exports,PC=c.inherits,IC=Tp,jC=pw.Transform,BC=hC,LC=MC,NC=TC.exports=function(t){if(!(this instanceof NC))return new NC(t);jC.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};PC(NC,jC),NC.prototype._appendBuffer=function(t,e,r){},NC.prototype._appendStream=function(t,e,r){},NC.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)},NC.prototype._finish=function(t){},NC.prototype._normalizeEntry=function(t){},NC.prototype._transform=function(t,e,r){r(null,t)},NC.prototype.entry=function(t,e,r){if(e=e||null,"function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),t instanceof BC)if(this._archive.finish||this._archive.finished)r(new Error("unacceptable entry after finish"));else{if(!this._archive.processing){if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=LC.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else{if(!IC(e))return this._archive.processing=!1,void r(new Error("input source must be valid Stream or Buffer instance"));this._appendStream(t,e,r)}return this}r(new Error("already processing an entry"))}else r(new Error("not a valid instance of ArchiveEntry"))},NC.prototype.finish=function(){this._archive.processing?this._archive.finish=!0:this._finish()},NC.prototype.getBytesWritten=function(){return this.offset},NC.prototype.write=function(t,e){return t&&(this.offset+=t.length),jC.prototype.write.call(this,t,e)};var $C,WC=TC.exports,UC={exports:{}},zC={};$C=function(t){t.version="1.2.2";var e=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),r=function(t){var e=0,r=0,i=0,n="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(i=0;256!=i;++i)n[i]=t[i];for(i=0;256!=i;++i)for(r=t[i],e=256+i;e<4096;e+=256)r=n[e]=r>>>8^t[255&r];var s=[];for(i=1;16!=i;++i)s[i-1]="undefined"!=typeof Int32Array?n.subarray(256*i,256*i+256):n.slice(256*i,256*i+256);return s}(e),i=r[0],n=r[1],s=r[2],o=r[3],a=r[4],l=r[5],u=r[6],h=r[7],c=r[8],d=r[9],f=r[10],p=r[11],m=r[12],g=r[13],b=r[14];t.table=e,t.bstr=function(t,r){for(var i=-1^r,n=0,s=t.length;n<s;)i=i>>>8^e[255&(i^t.charCodeAt(n++))];return~i},t.buf=function(t,r){for(var y=-1^r,w=t.length-15,v=0;v<w;)y=b[t[v++]^255&y]^g[t[v++]^y>>8&255]^m[t[v++]^y>>16&255]^p[t[v++]^y>>>24]^f[t[v++]]^d[t[v++]]^c[t[v++]]^h[t[v++]]^u[t[v++]]^l[t[v++]]^a[t[v++]]^o[t[v++]]^s[t[v++]]^n[t[v++]]^i[t[v++]]^e[t[v++]];for(w+=15;v<w;)y=y>>>8^e[255&(y^t[v++])];return~y},t.str=function(t,r){for(var i=-1^r,n=0,s=t.length,o=0,a=0;n<s;)(o=t.charCodeAt(n++))<128?i=i>>>8^e[255&(i^o)]:o<2048?i=(i=i>>>8^e[255&(i^(192|o>>6&31))])>>>8^e[255&(i^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&t.charCodeAt(n++),i=(i=(i=(i=i>>>8^e[255&(i^(240|o>>8&7))])>>>8^e[255&(i^(128|o>>2&63))])>>>8^e[255&(i^(128|a>>6&15|(3&o)<<4))])>>>8^e[255&(i^(128|63&a))]):i=(i=(i=i>>>8^e[255&(i^(224|o>>12&15))])>>>8^e[255&(i^(128|o>>6&63))])>>>8^e[255&(i^(128|63&o))];return~i}},"undefined"==typeof DO_NOT_EXPORT_CRC?$C(zC):$C({});const{Transform:HC}=pw,GC=zC;var VC=class extends HC{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(t,e,r){t&&(this.checksum=GC.buf(t,this.checksum)>>>0,this.rawSize+=t.length),r(null,t)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};const{DeflateRaw:qC}=y,YC=zC;var ZC=class extends qC{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(t,e){return t&&(this.compressedSize+=t.length),super.push(t,e)}_transform(t,e,r){t&&(this.checksum=YC.buf(t,this.checksum)>>>0,this.rawSize+=t.length),super._transform(t,e,r)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(t=!1){return t?this.compressedSize:this.rawSize}},KC={CRC32Stream:VC,DeflateCRC32Stream:ZC},JC=c.inherits,QC=zC,{CRC32Stream:XC}=KC,{DeflateCRC32Stream:tO}=KC,eO=WC,rO=wC,iO=mC,nO=UC.exports=function(t){if(!(this instanceof nO))return new nO(t);t=this.options=this._defaults(t),eO.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};JC(nO,eO),nO.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()},nO.prototype._appendBuffer=function(t,e,r){0===e.length&&t.setMethod(rO.METHOD_STORED);var i=t.getMethod();return i===rO.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(QC.buf(e)>>>0)),this._writeLocalFileHeader(t),i===rO.METHOD_STORED?(this.write(e),this._afterAppend(t),void r(null,t)):i===rO.METHOD_DEFLATED?void this._smartStream(t,r).end(e):void r(new Error("compression method "+i+" not implemented"))},nO.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(rO.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var i=this._smartStream(t,r);e.once("error",(function(t){i.emit("error",t),i.end()})),e.pipe(i)},nO.prototype._defaults=function(t){return"object"!=typeof t&&(t={}),"object"!=typeof t.zlib&&(t.zlib={}),"number"!=typeof t.zlib.level&&(t.zlib.level=rO.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t},nO.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()},nO.prototype._normalizeEntry=function(t){-1===t.getMethod()&&t.setMethod(rO.METHOD_DEFLATED),t.getMethod()===rO.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(rO.MIN_VERSION_DATA_DESCRIPTOR)),-1===t.getTime()&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}},nO.prototype._smartStream=function(t,e){var r=t.getMethod()===rO.METHOD_DEFLATED?new tO(this.options.zlib):new XC,i=null;return r.once("end",function(){var n=r.digest().readUInt32BE(0);t.setCrc(n),t.setSize(r.size()),t.setCompressedSize(r.size(!0)),this._afterAppend(t),e(i,t)}.bind(this)),r.once("error",(function(t){i=t})),r.pipe(this,{end:!1}),r},nO.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=rO.ZIP64_MAGIC_SHORT,e=rO.ZIP64_MAGIC,r=rO.ZIP64_MAGIC),this.write(iO.getLongBytes(rO.SIG_EOCD)),this.write(rO.SHORT_ZERO),this.write(rO.SHORT_ZERO),this.write(iO.getShortBytes(t)),this.write(iO.getShortBytes(t)),this.write(iO.getLongBytes(e)),this.write(iO.getLongBytes(r));var i=this.getComment(),n=Buffer.byteLength(i);this.write(iO.getShortBytes(n)),this.write(i)},nO.prototype._writeCentralDirectoryZip64=function(){this.write(iO.getLongBytes(rO.SIG_ZIP64_EOCD)),this.write(iO.getEightBytes(44)),this.write(iO.getShortBytes(rO.MIN_VERSION_ZIP64)),this.write(iO.getShortBytes(rO.MIN_VERSION_ZIP64)),this.write(rO.LONG_ZERO),this.write(rO.LONG_ZERO),this.write(iO.getEightBytes(this._entries.length)),this.write(iO.getEightBytes(this._entries.length)),this.write(iO.getEightBytes(this._archive.centralLength)),this.write(iO.getEightBytes(this._archive.centralOffset)),this.write(iO.getLongBytes(rO.SIG_ZIP64_EOCD_LOC)),this.write(rO.LONG_ZERO),this.write(iO.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(iO.getLongBytes(1))},nO.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),i=t._offsets.file,n=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||i>rO.ZIP64_MAGIC){n=rO.ZIP64_MAGIC,s=rO.ZIP64_MAGIC,i=rO.ZIP64_MAGIC,t.setVersionNeededToExtract(rO.MIN_VERSION_ZIP64);var o=Buffer.concat([iO.getShortBytes(rO.ZIP64_EXTRA_ID),iO.getShortBytes(24),iO.getEightBytes(t.getSize()),iO.getEightBytes(t.getCompressedSize()),iO.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(iO.getLongBytes(rO.SIG_CFH)),this.write(iO.getShortBytes(t.getPlatform()<<8|rO.VERSION_MADEBY)),this.write(iO.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(iO.getShortBytes(r)),this.write(iO.getLongBytes(t.getTimeDos())),this.write(iO.getLongBytes(t.getCrc())),this.write(iO.getLongBytes(s)),this.write(iO.getLongBytes(n));var a=t.getName(),l=t.getComment(),u=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(iO.getShortBytes(a.length)),this.write(iO.getShortBytes(u.length)),this.write(iO.getShortBytes(l.length)),this.write(rO.SHORT_ZERO),this.write(iO.getShortBytes(t.getInternalAttributes())),this.write(iO.getLongBytes(t.getExternalAttributes())),this.write(iO.getLongBytes(i)),this.write(a),this.write(u),this.write(l)},nO.prototype._writeDataDescriptor=function(t){this.write(iO.getLongBytes(rO.SIG_DD)),this.write(iO.getLongBytes(t.getCrc())),t.isZip64()?(this.write(iO.getEightBytes(t.getCompressedSize())),this.write(iO.getEightBytes(t.getSize()))):(this.write(iO.getLongBytes(t.getCompressedSize())),this.write(iO.getLongBytes(t.getSize())))},nO.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),i=t.getName(),n=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(rO.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(i=Buffer.from(i)),t._offsets.file=this.offset,this.write(iO.getLongBytes(rO.SIG_LFH)),this.write(iO.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(iO.getShortBytes(r)),this.write(iO.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(rO.LONG_ZERO),this.write(rO.LONG_ZERO),this.write(rO.LONG_ZERO)):(this.write(iO.getLongBytes(t.getCrc())),this.write(iO.getLongBytes(t.getCompressedSize())),this.write(iO.getLongBytes(t.getSize()))),this.write(iO.getShortBytes(i.length)),this.write(iO.getShortBytes(n.length)),this.write(i),this.write(n),t._offsets.contents=this.offset},nO.prototype.getComment=function(t){return null!==this._archive.comment?this._archive.comment:""},nO.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>rO.ZIP64_MAGIC_SHORT||this._archive.centralLength>rO.ZIP64_MAGIC||this._archive.centralOffset>rO.ZIP64_MAGIC},nO.prototype.setComment=function(t){this._archive.comment=t};var sO={ArchiveEntry:hC,ZipArchiveEntry:OC,ArchiveOutputStream:WC,ZipArchiveOutputStream:UC.exports},oO=c.inherits,aO=sO.ZipArchiveOutputStream,lO=sO.ZipArchiveEntry,uO=qk,hO=aC.exports=function(t){if(!(this instanceof hO))return new hO(t);(t=this.options=t||{}).zlib=t.zlib||{},aO.call(this,t),"number"==typeof t.level&&t.level>=0&&(t.zlib.level=t.level,delete t.level),t.forceZip64||"number"!=typeof t.zlib.level||0!==t.zlib.level||(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};oO(hO,aO),hO.prototype._normalizeFileData=function(t){var e="directory"===(t=uO.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""})).type,r="symlink"===t.type;return t.name&&(t.name=uO.sanitizePath(t.name),r||"/"!==t.name.slice(-1)?e&&(t.name+="/"):(e=!0,t.type="directory")),(e||r)&&(t.store=!0),t.date=uO.dateify(t.date),t},hO.prototype.entry=function(t,e,r){if("function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),"file"===(e=this._normalizeFileData(e)).type||"directory"===e.type||"symlink"===e.type)if("string"==typeof e.name&&0!==e.name.length){if("symlink"!==e.type||"string"==typeof e.linkname){var i=new lO(e.name);return i.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&i.setName(e.name,!0),e.store&&i.setMethod(0),e.comment.length>0&&i.setComment(e.comment),"symlink"===e.type&&"number"!=typeof e.mode&&(e.mode=40960),"number"==typeof e.mode&&("symlink"===e.type&&(e.mode|=40960),i.setUnixMode(e.mode)),"symlink"===e.type&&"string"==typeof e.linkname&&(t=Buffer.from(e.linkname)),aO.prototype.entry.call(this,i,t,r)}r(new Error("entry linkname must be a non-empty string value when type equals symlink"))}else r(new Error("entry name must be a non-empty string value"));else r(new Error(e.type+" entries not currently supported"))},hO.prototype.finalize=function(){this.finish()};var cO=aC.exports,dO=qk,fO=function(t){if(!(this instanceof fO))return new fO(t);t=this.options=dO.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new cO(t)};
/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */fO.prototype.append=function(t,e,r){this.engine.entry(t,e,r)},fO.prototype.finalize=function(){this.engine.finalize()},fO.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},fO.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)},fO.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};var pO,mO,gO=fO,bO={};var yO="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick.bind(process):mO?pO:(mO=1,pO="function"==typeof queueMicrotask?queueMicrotask:t=>Promise.resolve().then(t));const wO=class{constructor(t){if(!(t>0)||0!=(t-1&t))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};var vO=class{constructor(t){this.hwm=t||16,this.head=new wO(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){const e=this.head;this.head=e.next=new wO(2*this.head.buffer.length),this.head.push(t)}}shift(){0!==this.length&&this.length--;const t=this.tail.shift();if(void 0===t&&this.tail.next){const t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return t}peek(){const t=this.tail.peek();return void 0===t&&this.tail.next?this.tail.next.peek():t}isEmpty(){return 0===this.length}};function _O(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}var DO={isBuffer:function(t){return Buffer.isBuffer(t)||t instanceof Uint8Array},isEncoding:function(t){return Buffer.isEncoding(t)},alloc:function(t,e,r){return Buffer.alloc(t,e,r)},allocUnsafe:function(t){return Buffer.allocUnsafe(t)},allocUnsafeSlow:function(t){return Buffer.allocUnsafeSlow(t)},byteLength:function(t,e){return Buffer.byteLength(t,e)},compare:function(t,e){return Buffer.compare(t,e)},concat:function(t,e){return Buffer.concat(t,e)},copy:function(t,e,r,i,n){return _O(t).copy(e,r,i,n)},equals:function(t,e){return _O(t).equals(e)},fill:function(t,e,r,i,n){return _O(t).fill(e,r,i,n)},from:function(t,e,r){return Buffer.from(t,e,r)},includes:function(t,e,r,i){return _O(t).includes(e,r,i)},indexOf:function(t,e,r,i){return _O(t).indexOf(e,r,i)},lastIndexOf:function(t,e,r,i){return _O(t).lastIndexOf(e,r,i)},swap16:function(t){return _O(t).swap16()},swap32:function(t){return _O(t).swap32()},swap64:function(t){return _O(t).swap64()},toBuffer:_O,toString:function(t,e,r,i){return _O(t).toString(e,r,i)},write:function(t,e,r,i,n){return _O(t).write(e,r,i,n)},writeDoubleLE:function(t,e,r){return _O(t).writeDoubleLE(e,r)},writeFloatLE:function(t,e,r){return _O(t).writeFloatLE(e,r)},writeUInt32LE:function(t,e,r){return _O(t).writeUInt32LE(e,r)},writeInt32LE:function(t,e,r){return _O(t).writeInt32LE(e,r)},readDoubleLE:function(t,e){return _O(t).readDoubleLE(e)},readFloatLE:function(t,e){return _O(t).readFloatLE(e)},readUInt32LE:function(t,e){return _O(t).readUInt32LE(e)},readInt32LE:function(t,e){return _O(t).readInt32LE(e)}};const SO=DO;const EO=DO;const xO=class{constructor(t){this.encoding=t}decode(t){return SO.toString(t,this.encoding)}flush(){return""}},kO=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}decode(t){if(0===this.bytesNeeded){let e=!0;for(let r=Math.max(0,t.byteLength-4),i=t.byteLength;r<i&&e;r++)e=t[r]<=127;if(e)return EO.toString(t,"utf8")}let e="";for(let r=0,i=t.byteLength;r<i;r++){const i=t[r];0!==this.bytesNeeded?i<this.lowerBoundary||i>this.upperBoundary?(this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e+="�"):(this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|63&i,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(e+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)):i<=127?e+=String.fromCharCode(i):i>=194&&i<=223?(this.bytesNeeded=1,this.codePoint=31&i):i>=224&&i<=239?(224===i?this.lowerBoundary=160:237===i&&(this.upperBoundary=159),this.bytesNeeded=2,this.codePoint=15&i):i>=240&&i<=244?(240===i&&(this.lowerBoundary=144),244===i&&(this.upperBoundary=143),this.bytesNeeded=3,this.codePoint=7&i):e+="�"}return e}flush(){const t=this.bytesNeeded>0?"�":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,t}};const{EventEmitter:CO}=t,OO=new Error("Stream was destroyed"),TO=new Error("Premature close"),AO=yO,FO=vO,RO=class{constructor(t="utf8"){switch(this.encoding=function(t){switch(t=t.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}(t),this.encoding){case"utf8":this.decoder=new kO;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new xO(this.encoding)}}push(t){return"string"==typeof t?t:this.decoder.decode(t)}write(t){return this.push(t)}end(t){let e="";return t&&(e=this.push(t)),e+=this.decoder.flush(),e}},MO=536870911,PO=1^MO,IO=64,jO=128,BO=256,LO=1024,NO=2048,$O=4096,WO=8192,UO=16384,zO=32768,HO=131072,GO=131328,VO=768^MO,qO=536838143,YO=536739839,ZO=1<<18,KO=2<<18,JO=4<<18,QO=8<<18,XO=16<<18,tT=32<<18,eT=64<<18,rT=128<<18,iT=256<<18,nT=512<<18,sT=1024<<18,oT=469499903,aT=535822335,lT=503316479,uT=268435455,hT=262160,cT=536608751,dT=8404992,fT=14,pT=15,mT=8405006,gT=33587200,bT=33587215,yT=2359296,wT=270794767,vT=Symbol.asyncIterator||Symbol("asyncIterator");class _T{constructor(t,{highWaterMark:e=16384,map:r=null,mapWritable:i,byteLength:n,byteLengthWritable:s}={}){this.stream=t,this.queue=new FO,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||n||GT,this.map=i||r,this.afterWrite=OT.bind(this),this.afterUpdateNextTick=FT.bind(this)}get ended(){return 0!=(this.stream._duplexState&tT)}push(t){return null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=QO,!0):(this.stream._duplexState|=6291456,!1)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=534773759),t}end(t){"function"==typeof t?this.stream.once("finish",t):null!=t&&this.push(t),this.stream._duplexState=(this.stream._duplexState|nT)&aT}autoBatch(t,e){const r=[],i=this.stream;for(r.push(t);(i._duplexState&wT)===yT;)r.push(i._writableState.shift());if(0!=(i._duplexState&pT))return e(null);i._writev(r,e)}update(){const t=this.stream;t._duplexState|=KO;do{for(;(t._duplexState&wT)===QO;){const e=this.shift();t._duplexState|=67371008,t._write(e,this.afterWrite)}0==(1310720&t._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=536346623}updateNonPrimary(){const t=this.stream;if((144965647&t._duplexState)===nT)return t._duplexState=402653183&(t._duplexState|ZO),void t._final(kT.bind(this));4!=(t._duplexState&fT)?1==(t._duplexState&bT)&&(t._duplexState=(t._duplexState|hT)&PO,t._open(RT.bind(this))):0==(t._duplexState&gT)&&(t._duplexState|=hT,t._destroy(CT.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&rT)&&(this.stream._duplexState&=lT,!0)}updateCallback(){(35127311&this.stream._duplexState)===JO?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&rT)&&(this.stream._duplexState|=rT,0==(this.stream._duplexState&KO)&&AO(this.afterUpdateNextTick))}}class DT{constructor(t,{highWaterMark:e=16384,map:r=null,mapReadable:i,byteLength:n,byteLengthReadable:s}={}){this.stream=t,this.queue=new FO,this.highWaterMark=0===e?1:e,this.buffered=0,this.readAhead=e>0,this.error=null,this.pipeline=null,this.byteLength=s||n||GT,this.map=i||r,this.pipeTo=null,this.afterRead=TT.bind(this),this.afterUpdateNextTick=AT.bind(this)}get ended(){return 0!=(this.stream._duplexState&UO)}pipe(t,e){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof e&&(e=null),this.stream._duplexState|=512,this.pipeTo=t,this.pipeline=new ET(this.stream,t,e),e&&this.stream.on("error",VT),HT(t))t._writableState.pipeline=this.pipeline,e&&t.on("error",VT),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{const e=this.pipeline.done.bind(this.pipeline,t),r=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",e),t.on("close",r),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",xT.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){const e=this.stream;return null===t?(this.highWaterMark=0,e._duplexState=536805311&(e._duplexState|LO),!1):(null!==this.map&&null===(t=this.map(t))||(this.buffered+=this.byteLength(t),this.queue.push(t),e._duplexState=536805375&(e._duplexState|jO)),this.buffered<this.highWaterMark)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=536862591),t}unshift(t){const e=[null!==this.map?this.map(t):t];for(;this.buffered>0;)e.push(this.shift());for(let t=0;t<e.length-1;t++){const r=e[t];this.buffered+=this.byteLength(r),this.queue.push(r)}this.push(e[e.length-1])}read(){const t=this.stream;if((16527&t._duplexState)===jO){const e=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=VO),0!=(t._duplexState&NO)&&t.emit("data",e),e}return!1===this.readAhead&&(t._duplexState|=HO,this.updateNextTick()),null}drain(){const t=this.stream;for(;(16527&t._duplexState)===jO&&0!=(768&t._duplexState);){const e=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=VO),0!=(t._duplexState&NO)&&t.emit("data",e)}}update(){const t=this.stream;t._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&t._duplexState)===HO;)t._duplexState|=65552,t._read(this.afterRead),this.drain();4224==(12431&t._duplexState)&&(t._duplexState|=WO,t.emit("readable")),0==(80&t._duplexState)&&this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=536870879}updateNonPrimary(){const t=this.stream;(1167&t._duplexState)===LO&&(t._duplexState=536869887&(t._duplexState|UO),t.emit("end"),(t._duplexState&mT)===dT&&(t._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(t._duplexState&fT)?1==(t._duplexState&bT)&&(t._duplexState=(t._duplexState|hT)&PO,t._open(RT.bind(this))):0==(t._duplexState&gT)&&(t._duplexState|=hT,t._destroy(CT.bind(this)))}continueUpdate(){return 0!=(this.stream._duplexState&zO)&&(this.stream._duplexState&=qO,!0)}updateCallback(){(32879&this.stream._duplexState)===IO?this.update():this.updateNextTick()}updateNextTick(){0==(this.stream._duplexState&zO)&&(this.stream._duplexState|=zO,0==(32&this.stream._duplexState)&&AO(this.afterUpdateNextTick))}}class ST{constructor(t){this.data=null,this.afterTransform=MT.bind(t),this.afterFinal=null}}class ET{constructor(t,e,r){this.from=t,this.to=e,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,e){e&&(this.error=e),t!==this.to||(this.to=null,null===this.from)?t!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):0==(t._duplexState&UO)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):0!=(this.from._duplexState&UO)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function xT(){this.stream._duplexState|=512,this.updateCallback()}function kT(t){const e=this.stream;t&&e.destroy(t),0==(e._duplexState&fT)&&(e._duplexState|=tT,e.emit("finish")),(e._duplexState&mT)===dT&&(e._duplexState|=4),e._duplexState&=oT,0==(e._duplexState&KO)?this.update():this.updateNextTick()}function CT(t){const e=this.stream;t||this.error===OO||(t=this.error),t&&e.emit("error",t),e._duplexState|=8,e.emit("close");const r=e._readableState,i=e._writableState;if(null!==r&&null!==r.pipeline&&r.pipeline.done(e,t),null!==i){for(;null!==i.drains&&i.drains.length>0;)i.drains.shift().resolve(!1);null!==i.pipeline&&i.pipeline.done(e,t)}}function OT(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=oT,null!==this.drains&&function(t){for(let e=0;e<t.length;e++)0==--t[e].writes&&(t.shift().resolve(!0),e--)}(this.drains),(6553615&e._duplexState)===XO&&(e._duplexState&=532676607,(e._duplexState&eT)===eT&&e.emit("drain")),this.updateCallback()}function TT(t){t&&this.stream.destroy(t),this.stream._duplexState&=536870895,!1===this.readAhead&&0==(this.stream._duplexState&BO)&&(this.stream._duplexState&=YO),this.updateCallback()}function AT(){0==(32&this.stream._duplexState)&&(this.stream._duplexState&=qO,this.update())}function FT(){0==(this.stream._duplexState&KO)&&(this.stream._duplexState&=lT,this.update())}function RT(t){const e=this.stream;t&&e.destroy(t),0==(4&e._duplexState)&&(0==(17423&e._duplexState)&&(e._duplexState|=IO),0==(142606351&e._duplexState)&&(e._duplexState|=JO),e.emit("open")),e._duplexState&=cT,null!==e._writableState&&e._writableState.updateCallback(),null!==e._readableState&&e._readableState.updateCallback()}function MT(t,e){null!=e&&this.push(e),this._writableState.afterWrite(t)}function PT(t){null!==this._readableState&&("data"===t&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===t&&(this._duplexState|=$O,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===t&&(this._duplexState|=eT,this._writableState.updateNextTick())}class IT extends CO{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",qT.bind(this))),this.on("newListener",PT)}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(8&this._duplexState)}get destroying(){return 0!=(this._duplexState&fT)}destroy(t){0==(this._duplexState&fT)&&(t||(t=OO),this._duplexState=535822271&(4|this._duplexState),null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=t),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=2,this._predestroy(),this._duplexState&=536870909,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}let jT=class t extends IT{constructor(t){super(t),this._duplexState|=8519681,this._readableState=new DT(this,t),t&&(!1===this._readableState.readAhead&&(this._duplexState&=YO),t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick(),t.encoding&&this.setEncoding(t.encoding))}setEncoding(t){const e=new RO(t),r=this._readableState.map||UT;return this._readableState.map=function(t){const i=e.push(t);return""===i?null:r(i)},this}_read(t){t(null)}pipe(t,e){return this._readableState.updateNextTick(),this._readableState.pipe(t,e),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=GO,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?536739583:536870655,this}static _fromAsyncIterator(e,r){let i;const n=new t({...r,read(t){e.next().then(s).then(t.bind(null,null)).catch(t)},predestroy(){i=e.return()},destroy(t){if(!i)return t(null);i.then(t.bind(null,null)).catch(t)}});return n;function s(t){t.done?n.push(null):n.push(t.value)}}static from(e,r){if(function(t){return HT(t)&&t.readable}(e))return e;if(e[vT])return this._fromAsyncIterator(e[vT](),r);Array.isArray(e)||(e=void 0===e?[]:[e]);let i=0;return new t({...r,read(t){this.push(i===e.length?null:e[i++]),t(null)}})}static isBackpressured(t){return 0!=(17422&t._duplexState)||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return 0==(t._duplexState&BO)}[vT](){const t=this;let e=null,r=null,i=null;return this.on("error",(t=>{e=t})),this.on("readable",(function(){null!==r&&n(t.read())})),this.on("close",(function(){null!==r&&n(null)})),{[vT](){return this},next:()=>new Promise((function(e,s){r=e,i=s;const o=t.read();null!==o?n(o):0!=(8&t._duplexState)&&n(null)})),return:()=>s(null),throw:t=>s(t)};function n(n){null!==i&&(e?i(e):null===n&&0==(t._duplexState&UO)?i(OO):r({value:n,done:null===n}),i=r=null)}function s(e){return t.destroy(e),new Promise(((r,i)=>{if(8&t._duplexState)return r({value:void 0,done:!0});t.once("close",(function(){e?i(e):r({value:void 0,done:!0})}))}))}}},BT=class extends IT{constructor(t){super(t),this._duplexState|=16385,this._writableState=new _T(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=sT}uncork(){this._duplexState&=uT,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}static isBackpressured(t){return 0!=(146800654&t._duplexState)}static drained(t){if(t.destroyed)return Promise.resolve(!1);const e=t._writableState;var r;const i=((r=t)._writev!==BT.prototype._writev&&r._writev!==LT.prototype._writev?Math.min(1,e.queue.length):e.queue.length)+(t._duplexState&iT?1:0);return 0===i?Promise.resolve(!0):(null===e.drains&&(e.drains=[]),new Promise((t=>{e.drains.push({writes:i,resolve:t})})))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};class LT extends jT{constructor(t){super(t),this._duplexState=1|this._duplexState&HO,this._writableState=new _T(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}cork(){this._duplexState|=sT}uncork(){this._duplexState&=uT,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}let NT=class extends LT{constructor(t){super(t),this._transformState=new ST(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,e){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(null!==this._transformState.data){const e=this._transformState.data;this._transformState.data=null,t(null),this._transform(e,this._transformState.afterTransform)}else t(null)}destroy(t){super.destroy(t),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(t,e){e(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush($T.bind(this))}};function $T(t,e){const r=this._transformState.afterFinal;if(t)return r(t);null!=e&&this.push(e),this.push(null),r(null)}function WT(t,...e){const r=Array.isArray(t)?[...t,...e]:[t,...e],i=r.length&&"function"==typeof r[r.length-1]?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let n=r[0],s=null,o=null;for(let t=1;t<r.length;t++)s=r[t],HT(n)?n.pipe(s,l):(a(n,!0,t>1,l),n.pipe(s)),n=s;if(i){let t=!1;const e=HT(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(t=>{null===o&&(o=t)})),s.on("finish",(()=>{t=!0,e||i(o)})),e&&s.on("close",(()=>i(o||(t?null:TO))))}return s;function a(t,e,r,i){t.on("error",i),t.on("close",(function(){if(e&&t._readableState&&!t._readableState.ended)return i(TO);if(r&&t._writableState&&!t._writableState.ended)return i(TO)}))}function l(t){if(t&&!o){o=t;for(const e of r)e.destroy(t)}}}function UT(t){return t}function zT(t){return!!t._readableState||!!t._writableState}function HT(t){return"number"==typeof t._duplexState&&zT(t)}function GT(t){return function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.byteLength}(t)?t.byteLength:1024}function VT(){}function qT(){this.destroy(new Error("Stream aborted."))}var YT={pipeline:WT,pipelinePromise:function(...t){return new Promise(((e,r)=>WT(...t,(t=>{if(t)return r(t);e()}))))},isStream:zT,isStreamx:HT,getStreamError:function(t){const e=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e===OO?null:e},Stream:IT,Writable:BT,Readable:jT,Duplex:LT,Transform:NT,PassThrough:class extends NT{}},ZT={};const KT=DO,JT="0000000000000000000",QT="7777777777777777777",XT="0".charCodeAt(0),tA=KT.from([117,115,116,97,114,0]),eA=KT.from([XT,XT]),rA=KT.from([117,115,116,97,114,32]),iA=KT.from([32,0]),nA=257,sA=263;function oA(t,e,r,i){for(;r<i;r++)if(t[r]===e)return r;return i}function aA(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function lA(t,e){return(t=t.toString(8)).length>e?QT.slice(0,e)+" ":JT.slice(0,e-t.length)+t+" "}function uA(t,e,r){if(128&(t=t.subarray(e,e+r))[e=0])return function(t){let e;if(128===t[0])e=!0;else{if(255!==t[0])return null;e=!1}const r=[];let i;for(i=t.length-1;i>0;i--){const n=t[i];e?r.push(n):r.push(255-n)}let n=0;const s=r.length;for(i=0;i<s;i++)n+=r[i]*Math.pow(256,i);return e?n:-1*n}(t);{for(;e<t.length&&32===t[e];)e++;const r=function(t,e,r){return"number"!=typeof t?r:(t=~~t)>=e?e:t>=0||(t+=e)>=0?t:0}(oA(t,32,e,t.length),t.length,t.length);for(;e<r&&0===t[e];)e++;return r===e?0:parseInt(KT.toString(t.subarray(e,r)),8)}}function hA(t,e,r,i){return KT.toString(t.subarray(e,oA(t,0,e,e+r)),i)}function cA(t){const e=KT.byteLength(t);let r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}ZT.decodeLongPath=function(t,e){return hA(t,0,t.length,e)},ZT.encodePax=function(t){let e="";t.name&&(e+=cA(" path="+t.name+"\n")),t.linkname&&(e+=cA(" linkpath="+t.linkname+"\n"));const r=t.pax;if(r)for(const t in r)e+=cA(" "+t+"="+r[t]+"\n");return KT.from(e)},ZT.decodePax=function(t){const e={};for(;t.length;){let r=0;for(;r<t.length&&32!==t[r];)r++;const i=parseInt(KT.toString(t.subarray(0,r)),10);if(!i)return e;const n=KT.toString(t.subarray(r+1,i-1)),s=n.indexOf("=");if(-1===s)return e;e[n.slice(0,s)]=n.slice(s+1),t=t.subarray(i)}return e},ZT.encode=function(t){const e=KT.alloc(512);let r=t.name,i="";if(5===t.typeflag&&"/"!==r[r.length-1]&&(r+="/"),KT.byteLength(r)!==r.length)return null;for(;KT.byteLength(r)>100;){const t=r.indexOf("/");if(-1===t)return null;i+=i?"/"+r.slice(0,t):r.slice(0,t),r=r.slice(t+1)}return KT.byteLength(r)>100||KT.byteLength(i)>155||t.linkname&&KT.byteLength(t.linkname)>100?null:(KT.write(e,r),KT.write(e,lA(4095&t.mode,6),100),KT.write(e,lA(t.uid,6),108),KT.write(e,lA(t.gid,6),116),function(t,e,r){t.toString(8).length>11?function(t,e,r){e[r]=128;for(let i=11;i>0;i--)e[r+i]=255&t,t=Math.floor(t/256)}(t,e,r):KT.write(e,lA(t,11),r)}(t.size,e,124),KT.write(e,lA(t.mtime.getTime()/1e3|0,11),136),e[156]=XT+function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(t.type),t.linkname&&KT.write(e,t.linkname,157),KT.copy(tA,e,nA),KT.copy(eA,e,263),t.uname&&KT.write(e,t.uname,265),t.gname&&KT.write(e,t.gname,297),KT.write(e,lA(t.devmajor||0,6),329),KT.write(e,lA(t.devminor||0,6),337),i&&KT.write(e,i,345),KT.write(e,lA(aA(e),6),148),e)},ZT.decode=function(t,e,r){let i=0===t[156]?0:t[156]-XT,n=hA(t,0,100,e);const s=uA(t,100,8),o=uA(t,108,8),a=uA(t,116,8),l=uA(t,124,12),u=uA(t,136,12),h=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(i),c=0===t[157]?null:hA(t,157,100,e),d=hA(t,265,32),f=hA(t,297,32),p=uA(t,329,8),m=uA(t,337,8),g=aA(t);if(256===g)return null;if(g!==uA(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(t){return KT.equals(tA,t.subarray(nA,263))}(t))t[345]&&(n=hA(t,345,155,e)+"/"+n);else if(function(t){return KT.equals(rA,t.subarray(nA,263))&&KT.equals(iA,t.subarray(sA,265))}(t));else if(!r)throw new Error("Invalid tar header: unknown format.");return 0===i&&n&&"/"===n[n.length-1]&&(i=5),{name:n,mode:s,uid:o,gid:a,size:l,mtime:new Date(1e3*u),type:h,linkname:c,uname:d,gname:f,devmajor:p,devminor:m,pax:null}};const{Writable:dA,Readable:fA,getStreamError:pA}=YT,mA=vO,gA=DO,bA=ZT,yA=gA.alloc(0);class wA{constructor(){this.buffered=0,this.shifted=0,this.queue=new mA,this._offset=0}push(t){this.buffered+=t.byteLength,this.queue.push(t)}shiftFirst(t){return 0===this._buffered?null:this._next(t)}shift(t){if(t>this.buffered)return null;if(0===t)return yA;let e=this._next(t);if(t===e.byteLength)return e;const r=[e];for(;(t-=e.byteLength)>0;)e=this._next(t),r.push(e);return gA.concat(r)}_next(t){const e=this.queue.peek(),r=e.byteLength-this._offset;if(t>=r){const t=this._offset?e.subarray(this._offset,e.byteLength):e;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,t}return this.buffered-=t,this.shifted+=t,e.subarray(this._offset,this._offset+=t)}}class vA extends fA{constructor(t,e,r){super(),this.header=e,this.offset=r,this._parent=t}_read(t){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),t(null)}_predestroy(){this._parent.destroy(pA(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=SA(this.header.size),this._parent._update())}_destroy(t){this._detach(),t(null)}}class _A extends dA{constructor(t){super(t),t||(t={}),this._buffer=new wA,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=DA,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=t.filenameEncoding||"utf-8",this._allowUnknownFormat=!!t.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(t){if(this._locked=!1,t)return this.destroy(t),void this._continueWrite(t);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=bA.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(t){return this._continueWrite(t),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(t){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=bA.decodeLongPath(t,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=bA.decodeLongPath(t,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=bA.decodePax(t);break;case"pax-header":this._pax=null===this._paxGlobal?bA.decodePax(t):Object.assign({},this._paxGlobal,bA.decodePax(t))}}_consumeLongHeader(){this._longHeader=!1,this._missing=SA(this._header.size);const t=this._buffer.shift(this._header.size);try{this._decodeLongHeader(t)}catch(t){return this._continueWrite(t),!1}return!0}_consumeStream(){const t=this._buffer.shiftFirst(this._missing);if(null===t)return!1;this._missing-=t.byteLength;const e=this._stream.push(t);return 0===this._missing?(this._stream.push(null),e&&this._stream._detach(),e&&!1===this._locked):e}_createStream(){return new vA(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;)if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const t=this._buffer.shiftFirst(this._missing);null!==t&&(this._missing-=t.byteLength)}else{if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(t){const e=this._callback;this._callback=DA,e(t)}_write(t,e){this._callback=e,this._buffer.push(t),this._update()}_final(t){this._finished=0===this._missing&&0===this._buffer.buffered,t(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(t){this._stream&&this._stream.destroy(pA(this)),t(null)}[Symbol.asyncIterator](){let t=null,e=null,r=null,i=null,n=null;const s=this;return this.on("entry",(function(t,s,o){n=o,s.on("error",DA),e?(e({value:s,done:!1}),e=r=null):i=s})),this.on("error",(e=>{t=e})),this.on("close",(function(){if(o(t),!e)return;t?r(t):e({value:void 0,done:!0});e=r=null})),{[Symbol.asyncIterator](){return this},next:()=>new Promise(a),return:()=>l(null),throw:t=>l(t)};function o(t){if(!n)return;const e=n;n=null,e(t)}function a(n,a){return t?a(t):i?(n({value:i,done:!1}),void(i=null)):(e=n,r=a,o(null),void(s._finished&&e&&(e({value:void 0,done:!0}),e=r=null)))}function l(t){return s.destroy(t),o(t),new Promise(((e,r)=>{if(s.destroyed)return e({value:void 0,done:!0});s.once("close",(function(){t?r(t):e({value:void 0,done:!0})}))}))}}}function DA(){}function SA(t){return(t&=511)&&512-t}var EA={exports:{}};const xA={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{EA.exports=require("fs").constants||xA}catch{EA.exports=xA}var kA=EA.exports;const{Readable:CA,Writable:OA,getStreamError:TA}=YT,AA=DO,FA=kA,RA=ZT,MA=AA.alloc(1024);class PA extends OA{constructor(t,e,r){super({mapWritable:LA,eagerOpen:!0}),this.written=0,this.header=e,this._callback=r,this._linkname=null,this._isLinkname="symlink"===e.type&&!e.linkname,this._isVoid="file"!==e.type&&"contiguous-file"!==e.type,this._finished=!1,this._pack=t,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(t){this._openCallback=t,this._pack._stream===this&&this._continueOpen()}_continuePack(t){if(null===this._callback)return;const e=this._callback;this._callback=null,e(t)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const t=this._openCallback;if(this._openCallback=null,null!==t){if(this._pack.destroying)return t(new Error("pack stream destroyed"));if(this._pack._finalized)return t(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),t(null)}}_write(t,e){return this._isLinkname?(this._linkname=this._linkname?AA.concat([this._linkname,t]):t,e(null)):this._isVoid?t.byteLength>0?e(new Error("No body allowed for this entry")):e():(this.written+=t.byteLength,this._pack.push(t)?e():void(this._pack._drain=e))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?AA.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),BA(this._pack,this.header.size),this._pack._done(this))}_final(t){if(this.written!==this.header.size)return t(new Error("Size mismatch"));this._finish(),t(null)}_getError(){return TA(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(t){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),t()}}class IA extends CA{constructor(t){super(t),this._drain=jA,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(t,e,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof e&&(r=e,e=null),r||(r=jA),t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=function(t){switch(t&FA.S_IFMT){case FA.S_IFBLK:return"block-device";case FA.S_IFCHR:return"character-device";case FA.S_IFDIR:return"directory";case FA.S_IFIFO:return"fifo";case FA.S_IFLNK:return"symlink"}return"file"}(t.mode)),t.mode||(t.mode="directory"===t.type?493:420),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"==typeof e&&(e=AA.from(e));const i=new PA(this,t,r);return AA.isBuffer(e)?(t.size=e.byteLength,i.write(e),i.end(),i):(i._isVoid,i)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(MA),this.push(null))}_done(t){t===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(t){if(!t.pax){const e=RA.encode(t);if(e)return void this.push(e)}this._encodePax(t)}_encodePax(t){const e=RA.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.byteLength,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(RA.encode(r)),this.push(e),BA(this,e.byteLength),r.size=t.size,r.type=t.type,this.push(RA.encode(r))}_doDrain(){const t=this._drain;this._drain=jA,t()}_predestroy(){const t=TA(this);for(this._stream&&this._stream.destroy(t);this._pending.length;){const e=this._pending.shift();e.destroy(t),e._continueOpen()}this._doDrain()}_read(t){this._doDrain(),t()}}function jA(){}function BA(t,e){(e&=511)&&t.push(MA.subarray(0,512-e))}function LA(t){return AA.isBuffer(t)?t:AA.from(t)}bO.extract=function(t){return new _A(t)},bO.pack=function(t){return new IA(t)};
/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var NA=y,$A=bO,WA=qk,UA=function(t){if(!(this instanceof UA))return new UA(t);"object"!=typeof(t=this.options=WA.defaults(t,{gzip:!1})).gzipOptions&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=$A.pack(t),this.compressor=!1,t.gzip&&(this.compressor=NA.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};UA.prototype._onCompressorError=function(t){this.engine.emit("error",t)},UA.prototype.append=function(t,e,r){var i=this;function n(t,n){t?r(t):i.engine.entry(e,n,(function(t){r(t,e)}))}if(e.mtime=e.date,"buffer"===e.sourceType)n(null,t);else if("stream"===e.sourceType&&e.stats){e.size=e.stats.size;var s=i.engine.entry(e,(function(t){r(t,e)}));t.pipe(s)}else"stream"===e.sourceType&&WA.collectStream(t,n)},UA.prototype.finalize=function(){this.engine.finalize()},UA.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},UA.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)},UA.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};var zA=UA;function HA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const GA=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function VA(t){if(Buffer.isBuffer(t))return t;if("number"==typeof t)return Buffer.alloc(t);if("string"==typeof t)return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function qA(t,e){t=VA(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=-1^~~e;for(var i=0;i<t.length;i++)r=GA[255&(r^t[i])]^r>>>8;return-1^r}function YA(){return function(t){const e=VA(4);return e.writeInt32BE(t,0),e}(qA.apply(null,arguments))}YA.signed=function(){return qA.apply(null,arguments)},YA.unsigned=function(){return qA.apply(null,arguments)>>>0};var ZA=HA(YA),KA=c.inherits,JA=pw.Transform,QA=ZA,XA=qk,tF=function(t){if(!(this instanceof tF))return new tF(t);t=this.options=XA.defaults(t,{}),JA.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};
/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */KA(tF,JA),tF.prototype._transform=function(t,e,r){r(null,t)},tF.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)},tF.prototype.append=function(t,e,r){var i=this;function n(t,n){t?r(t):(e.size=n.length||0,e.crc32=QA.unsigned(n),i.files.push(e),r(null,e))}e.crc32=0,"buffer"===e.sourceType?n(null,t):"stream"===e.sourceType&&XA.collectStream(t,n)},tF.prototype.finalize=function(){this._writeStringified(),this.end()};var eF=tF,rF=oC,iF={},nF=function(t,e){return nF.create(t,e)};
/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */nF.create=function(t,e){if(iF[t]){var r=new rF(t,e);return r.setFormat(t),r.setModule(new iF[t](e)),r}throw new Error("create("+t+"): format not registered")},nF.registerFormat=function(t,e){if(iF[t])throw new Error("register("+t+"): format already registered");if("function"!=typeof e)throw new Error("register("+t+"): format module invalid");if("function"!=typeof e.prototype.append||"function"!=typeof e.prototype.finalize)throw new Error("register("+t+"): format module missing methods");iF[t]=e},nF.isRegisteredFormat=function(t){return!!iF[t]},nF.registerFormat("zip",gO),nF.registerFormat("tar",zA),nF.registerFormat("json",eF);var sF=v(nF);let oF={};const aF=new p.NodeSSH,lF=async t=>{const e=ta({text:pr.yellowBright(`正在删除文件: ${pr.cyan(t)}`)}).start();try{await aF.execCommand(`rm -rf ${t}`),e.succeed(pr.greenBright(`删除文件: ${pr.cyan(`${t}`)} 成功`))}catch(r){e.fail(pr.redBright(`删除文件: ${pr.cyan(`${t}`)} 失败，${r}`)),process.exit(1)}},uF=async({username:t,host:e,port:r,password:i,localFilePath:n,remoteFilePath:s,projectName:o,install:a,publishConfig:l})=>{try{await(async({host:t,port:e,username:r,password:i})=>{const n=ta({text:pr.yellowBright(pr.cyan(`正在连接服务器: ${r}@${t}:${e} ...`))}).start();try{await aF.connect({host:t,username:r,port:e,password:i,tryKeyboard:!0}),n.succeed(pr.greenBright("服务器连接成功!!!"))}catch(t){n.fail(pr.redBright(`服务器连接失败: ${t}`)),process.exit(1)}})({host:e,username:t,port:r,password:i}),ka(l,o,"isServer")?await(async t=>new Promise(((e,r)=>{const i=ta({text:pr.yellowBright(`正在压缩文件: ${pr.cyan(`${t}/dist`)}`)}).start(),n=`${t}/src/upload`,s=`${t}/upload`;Th.moveSync(n,s,{overwrite:!0});const o=sF("zip",{zlib:{level:9}}).on("error",(t=>{console.log(_a.error,pr.red(`压缩文件失败: ${t}`))})),a=Th.createWriteStream(`${t}/dist.zip`);a.on("close",(o=>{o?(i.fail(pr.redBright(`压缩文件: ${pr.cyan(`${t}/src`)} 等文件失败`)),console.log(_a.error,pr.red(`压缩文件失败: ${o}`)),r(o),process.exit(1)):(Th.moveSync(s,n,{overwrite:!0}),i.succeed(pr.greenBright(`压缩文件: ${pr.cyan(`${t}/src`)} 等文件成功`)),e(1))})),o.pipe(a),o.directory(`${t}/src`,"/src"),o.file(d.join(t,"package.json"),{name:"package.json"}),o.file(d.join(t,"yarn.lock"),{name:"yarn.lock"}),o.finalize()})))(n):await(async t=>new Promise(((e,r)=>{const i=ta({text:pr.yellowBright(`正在压缩文件: ${pr.cyan(`${t}/dist`)}`)}).start(),n=sF("zip",{zlib:{level:9}}).on("error",(t=>{console.log(_a.error,pr.red(`压缩文件失败: ${t}`))})),s=Th.createWriteStream(`${t}/dist.zip`);s.on("close",(n=>{n&&(i.fail(pr.redBright(`压缩文件: ${pr.cyan(`${t}/dist`)} 失败`)),console.log(_a.error,pr.red(`压缩文件失败: ${n}`)),r(n),process.exit(1)),i.succeed(pr.greenBright(`压缩文件: ${pr.cyan(`${t}/dist`)} 成功`)),e(1)})),n.pipe(s),n.directory(`${t}/dist`,"/dist"),n.finalize()})))(n),await(async(t,e)=>{try{const r=new dc.SingleBar({format:"文件上传中: {bar} | {percentage}% | ETA: {eta}s | {value}MB / {total}MB",barCompleteChar:"█",barIncompleteChar:"░",hideCursor:!0}),i=d.resolve(__dirname,`${t}/dist.zip`),n=d.join(e,d.basename(i)),s=Th.statSync(i).size;r.start(Math.ceil(s/1024/1024),0),await aF.putFile(i,n,null,{concurrency:10,chunkSize:16384,step:t=>{r.update(Math.ceil(t/1024/1024))}}),r.stop()}catch(t){console.log(_a.error,pr.red(`上传文件失败: ${t}`)),process.exit(1)}})(n,s),await lF(`${s}/dist`),await(async t=>{const e=ta({text:pr.yellowBright(`正在解压文件: ${pr.cyan(`${t}/dist.zip`)}`)}).start();try{await aF.execCommand(`unzip -o ${t}/dist.zip -d ${t}`),e.succeed(pr.greenBright(`解压文件: ${pr.cyan(`${t}/dist.zip`)} 成功`)),await lF(`${t}/dist.zip`),console.log(`\n${_a.success}`,pr.greenBright(`${pr.bold(`🎉 🎉 🎉 前端资源部署成功: ${pr.cyan(`${t}`)} 🎉 🎉 🎉`)}\n`))}catch(r){console.log(_a.error,pr.red(`Failed to unzip dist.zip: ${r}`)),e.fail(pr.redBright(`解压文件: ${pr.cyan(`${t}/dist.zip`)} 失败`)),process.exit(1)}})(s),await Oa(`${n}/dist.zip`),a&&await(async t=>{const e=ta({text:pr.yellowBright(pr.cyan("正在安装依赖..."))}).start();try{const{code:r,stdout:i,stderr:n}=await aF.execCommand(`cd ${t} && yarn install`);0===r?e.succeed(pr.greenBright(`依赖安装成功: \n ${i} \n`)):(e.fail(pr.redBright(`依赖安装失败: ${n}`)),process.exit(1))}catch(t){e.fail(pr.redBright(`依赖安装失败: ${t}`)),process.exit(1)}})(s),ka(l,o,"isServer")&&await Aa(s,aF)}catch(t){console.log(_a.error,pr.red(`部署失败: ${t}`))}finally{aF.dispose()}},hF=async(t,e)=>{var r,i,n;const{host:s,port:o,username:a,password:l,localFilePath:u,remoteFilePath:h,install:c}=e,d=Sa();try{oF=await On([{name:"host",type:s||xa(d,"serverInfo","host",!0)?null:"text",message:"host:",initial:xa(d,"serverInfo","host")||"",validate:t=>!!t||"请输入host"},{name:"port",type:o||xa(d,"serverInfo","port",!0)?null:"text",message:"端口号:",initial:xa(d,"serverInfo","port")||"",validate:t=>!!t||"请输入端口号"},{name:"localFilePath",type:u||ka(d,t,"localFilePath",!0)?null:"text",message:"本地项目文件路径:",initial:process.cwd(),validate:t=>!!t||"请输入本地项目文件路径"},{name:"remoteFilePath",type:h||ka(d,t,"remoteFilePath",!0)?null:"text",message:"目标服务器项目文件路径:",initial:ka(d,t,"remoteFilePath")||"",validate:t=>!!t||"请输入目标服务器项目文件路径"},{name:"isServer",type:c||void 0!==ka(d,t,"isServer",!0)?null:"toggle",message:"是否是后台服务:",initial:!1,active:"yes",inactive:"no"},{name:"install",type:(e,r)=>(e=>{var r;return!(!c&&(d?null===(r=null==d?void 0:d.projectInfo[t])||void 0===r?void 0:r.isServer:e))})(r.isServer)?null:"toggle",message:"是否安装依赖:",initial:!1,active:"yes",inactive:"no"},{name:"username",type:a||xa(d,"serverInfo","username",!0)?null:"text",message:"用户名称:",initial:xa(d,"serverInfo","username")||"",validate:t=>!!t||"请输入用户名称"},{name:"password",type:l?null:"password",message:"密码:",validate:t=>!!t||"请输入密码"}],{onCancel:()=>{console.log(`\n${pr.red("已取消输入配置信息")}\n`),process.exit(1)}})}catch(t){console.log(_a.error,pr.red(t)),process.exit(1)}const{host:f,port:p,username:m,password:g,localFilePath:b,remoteFilePath:y,install:w}=oF;await uF({host:f||s||(null===(r=null==d?void 0:d.serverInfo)||void 0===r?void 0:r.host),port:p||o||(null===(i=null==d?void 0:d.serverInfo)||void 0===i?void 0:i.port),username:m||a||(null===(n=null==d?void 0:d.serverInfo)||void 0===n?void 0:n.username),password:g||l,localFilePath:b||u||ka(d,t,"localFilePath")||process.cwd(),remoteFilePath:y||h||ka(d,t,"remoteFilePath"),install:w||c,projectName:t,publishConfig:d})},cF=new p.NodeSSH,dF=async({host:t,port:e,username:r,password:i,nginxRemoteFilePath:n})=>{try{await Ea({host:t,port:e,username:r,password:i,ssh:cF}),await(async(t,e)=>{const r=ta({text:pr.yellowBright(`正在读取远程文件: ${pr.cyan(`${t}`)}`)}).start();try{const i=(await cF.execCommand(`cat ${t}`)).stdout;i?(await Th.writeFile(e,i),r.succeed(pr.greenBright(`读取 nginx.conf 成功，内容已写入到本地 ${pr.cyan(`${e}`)} 文件中`))):(r.fail(pr.redBright(`读取 nginx.conf 失败，远程文件 ${pr.cyan(`${t}`)} 内容为空`)),process.exit(1))}catch(e){r.fail(pr.redBright(`读取: ${pr.cyan(`${t}`)} 文件失败，${e}`))}})(n,`${process.cwd()}/nginx.conf`)}catch(t){console.log(_a.error,pr.red(`拉取配置文件失败: ${t}`))}finally{cF.dispose()}},fF=new p.NodeSSH,pF=async({host:t,port:e,username:r,password:i,nginxRemoteFilePath:n,nginxRestartPath:s})=>{try{await(()=>{const t=ta({text:pr.yellowBright(`正在检查本地 ${process.cwd()}/nginx.conf 文件是否有效`)}).start();return new Promise((e=>{try{ea.NginxConfFile.create(`${process.cwd()}/nginx.conf`,(function(e,r){var i,n;if(e)return void t.fail(pr.redBright(`读取文件: ${pr.cyan(`${process.cwd()}/nginx.conf`)} 出错，${e}`));const s=null===(n=null===(i=null==r?void 0:r.nginx)||void 0===i?void 0:i.http)||void 0===n?void 0:n[0].server;(null==s?void 0:s.length)?t.succeed(pr.greenBright(`已将相关配置存入本地 ${pr.cyan(`${process.cwd()}/nginx.conf`)} 文件中`)):(t.fail(pr.redBright(`本地 ${pr.cyan(`${process.cwd()}/nginx.conf`)} 文件中配置存在问题`)),process.exit(1))})),e(1)}catch(t){console.error(`nginx 配置文件语法错误: ${t.message}`),process.exit(1)}}))})(),await Ea({host:t,port:e,username:r,password:i,ssh:fF}),await(async(t,e)=>{const r=ta({text:pr.yellowBright("正在推送 nginx.conf 文件到远程服务器")}).start();try{await fF.putFile(t,e),r.succeed(pr.greenBright(`成功推送 nginx.conf 文件到服务器 ${pr.cyan(`${e}`)} 目录下`))}catch(t){r.fail(pr.redBright(`推送 nginx.conf 文件到服务器失败: ${t}`)),process.exit(0)}})(`${process.cwd()}/nginx.conf`,n),await Ta(n,s,fF)}catch(t){console.log(_a.error,pr.red(`拉取配置文件失败: ${t}`))}finally{fF.dispose()}},mF=new p.NodeSSH,gF=async(t,e)=>{var r,i,n,s,o,a;const{host:l,port:u,username:h,password:c,nginxRemoteFilePath:d,nginxRestartPath:f,serviceRestartPath:p}=e,m=Sa(),g=await Ca({host:l,port:u,username:h,password:c,projectName:t,publishConfig:m,nginxRemoteFilePath:d,nginxRestartPath:f,serviceRestartPath:p,command:"restart"}),{host:b,port:y,username:w,password:v,nginxRemoteFilePath:_,nginxRestartPath:D,serviceRestartPath:S}=g;await(async({host:t,port:e,username:r,password:i,projectName:n,nginxRemoteFilePath:s,nginxRestartPath:o,serviceRestartPath:a})=>{try{await Ea({host:t,port:e,username:r,password:i,ssh:mF}),"nginx"===n?await Ta(s,o,mF):"node"===n?await Aa(a,mF):(console.log(_a.error,pr.red(`暂不支持 ${n} 服务的重启`)),process.exit(1))}catch(t){console.log(_a.error,pr.red(`拉取配置文件失败: ${t}`))}finally{mF.dispose()}})({host:b||l||(null===(r=null==m?void 0:m.serverInfo)||void 0===r?void 0:r.host),port:y||u||(null===(i=null==m?void 0:m.serverInfo)||void 0===i?void 0:i.port),username:w||h||(null===(n=null==m?void 0:m.serverInfo)||void 0===n?void 0:n.username),password:v||c,projectName:t,nginxRemoteFilePath:_||d||(null===(s=null==m?void 0:m.nginxInfo)||void 0===s?void 0:s.remoteFilePath),nginxRestartPath:D||f||(null===(o=null==m?void 0:m.nginxInfo)||void 0===o?void 0:o.restartPath),serviceRestartPath:S||p||(null===(a=null==m?void 0:m.serviceInfo)||void 0===a?void 0:a.restartPath)})};var bF="0.0.13";tt.version((t=>{const e=t.split(".");let r=parseInt(e[0]),i=parseInt(e[1]),n=parseInt(e[2]);return n>=99?(i+=1,n=0):i>=99?(r+=1,i=0):n+=1,`${r}.${i}.${n}`})(bF),"-v, --version"),tt.name("dnhyxc-ci").description("自动部署工具").usage("<command> [options]").on("--help",(()=>{console.log(`\r\nRun ${pr.cyan("dnhyxc-ci <command> --help")} for detailed usage of given command\r\n`)}));tt.command("publish <name>").description("项目部署").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-l, --lcalFilePath [lcalFilePath]","输入本地文件路径").option("-r, --remoteFilePath [remoteFilePath]","输入服务器目标文件路径").option("-i, --install","是否需要安装依赖").action((async(t,e)=>{await hF(t,e)})),tt.command("pull [configName]").description("获取 nginx.conf 配置文件到本地").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-ncp, --nginxRemoteFilePath [nginxRemoteFilePath]","输入服务器 nginx.conf 文件路径").action((async(t,e)=>{await(async(t,e)=>{var r,i,n,s;const{host:o,port:a,username:l,password:u,nginxRemoteFilePath:h}=e,c=Sa(),d=await Ca({host:o,port:a,username:l,password:u,publishConfig:c,command:"pull",nginxRemoteFilePath:h}),{host:f,port:p,username:m,password:g,nginxRemoteFilePath:b}=d;await dF({host:f||o||(null===(r=null==c?void 0:c.serverInfo)||void 0===r?void 0:r.host),port:p||a||(null===(i=null==c?void 0:c.serverInfo)||void 0===i?void 0:i.port),username:m||l||(null===(n=null==c?void 0:c.serverInfo)||void 0===n?void 0:n.username),password:g||u,nginxRemoteFilePath:b||h||(null===(s=null==c?void 0:c.nginxInfo)||void 0===s?void 0:s.remoteFilePath)})})(0,e)})),tt.command("push [configName]").description("发布 nginx.conf 配置到服务器").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-ncp, --nginxRemoteFilePath [nginxRemoteFilePath]","输入服务器 nginx.conf 文件路径").option("-nrp, --nginxRestartPath [nginxRestartPath]","输入服务器 nginx 重启路径").action((async(t,e)=>{await(async(t,e)=>{var r,i,n,s,o;const{host:a,port:l,username:u,password:h,nginxRemoteFilePath:c,nginxRestartPath:d}=e,f=Sa(),p=await Ca({host:a,port:l,username:u,password:h,publishConfig:f,command:"push",nginxRemoteFilePath:c,nginxRestartPath:d}),{host:m,port:g,username:b,password:y,nginxRemoteFilePath:w,nginxRestartPath:v}=p;await pF({host:m||a||(null===(r=null==f?void 0:f.serverInfo)||void 0===r?void 0:r.host),port:g||l||(null===(i=null==f?void 0:f.serverInfo)||void 0===i?void 0:i.port),username:b||u||(null===(n=null==f?void 0:f.serverInfo)||void 0===n?void 0:n.username),password:y||h,nginxRemoteFilePath:w||c||(null===(s=null==f?void 0:f.nginxInfo)||void 0===s?void 0:s.remoteFilePath),nginxRestartPath:v||d||(null===(o=null==f?void 0:f.nginxInfo)||void 0===o?void 0:o.restartPath)})})(0,e)})),tt.command("restart <serviceName>").description("重启 nginx 或者 node 服务").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-ncp, --nginxRemoteFilePath [nginxRemoteFilePath]","输入服务器 nginx.conf 文件路径").option("-nrp, --nginxRestartPath [nginxRestartPath]","输入服务器 nginx 重启路径").option("-srp, --serviceRestartPath [serviceRestartPath]","输入服务器 node 重启路径").action(((t,e)=>{const r=(t=>("nginx"!==t&&"node"!==t&&(console.log("\n"+_a.warning,pr.yellowBright(`Error: serviceName must be ${pr.cyan("nginx")} or ${pr.cyan("node")}\n`)),process.exit(1)),t))(t);(async(t,e)=>{await gF(t,e)})(r,e)})),tt.parse(process.argv);
