#!/usr/bin/env node
"use strict";var t=require("node:events"),e=require("node:child_process"),r=require("node:path"),i=require("node:fs"),n=require("node:process"),s=require("os"),o=require("tty"),a=require("path"),l=require("fs"),u=require("readline"),h=require("events"),c=require("assert"),d=require("stream"),f=require("buffer"),p=require("util"),m=require("constants"),g=require("node-ssh"),b=require("string_decoder"),y=require("node:url"),w=require("node:fs/promises"),v=require("node:stream"),D=require("node:string_decoder"),S=require("zlib"),E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C(t){if(t.__esModule)return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var i=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,i.get?i:{enumerable:!0,get:function(){return t[e]}})})),r}var k={},O={},T={};let A=class extends Error{constructor(t,e,r){super(r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=e,this.exitCode=t,this.nestedError=void 0}};T.CommanderError=A,T.InvalidArgumentError=class extends A{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};const{InvalidArgumentError:F}=T;O.Argument=class{constructor(t,e){switch(this.description=e||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new F(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},O.humanReadableArgName=function(t){const e=t.name()+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"};var R={},M={};const{humanReadableArgName:P}=O;M.Help=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){const e=t.commands.filter((t=>!t._hidden)),r=t._getHelpCommand();return r&&!r._hidden&&e.push(r),this.sortSubcommands&&e.sort(((t,e)=>t.name().localeCompare(e.name()))),e}compareOptions(t,e){const r=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return r(t).localeCompare(r(e))}visibleOptions(t){const e=t.options.filter((t=>!t.hidden)),r=t._getHelpOption();if(r&&!r.hidden){const i=r.short&&t._findOption(r.short),n=r.long&&t._findOption(r.long);i||n?r.long&&!n?e.push(t.createOption(r.long,r.description)):r.short&&!i&&e.push(t.createOption(r.short,r.description)):e.push(r)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const e=[];for(let r=t.parent;r;r=r.parent){const t=r.options.filter((t=>!t.hidden));e.push(...t)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach((e=>{e.description=e.description||t._argsDescription[e.name()]||""})),t.registeredArguments.find((t=>t.description))?t.registeredArguments:[]}subcommandTerm(t){const e=t.registeredArguments.map((t=>P(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(e?" "+e:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,e){return e.visibleCommands(t).reduce(((t,r)=>Math.max(t,e.subcommandTerm(r).length)),0)}longestOptionTermLength(t,e){return e.visibleOptions(t).reduce(((t,r)=>Math.max(t,e.optionTerm(r).length)),0)}longestGlobalOptionTermLength(t,e){return e.visibleGlobalOptions(t).reduce(((t,r)=>Math.max(t,e.optionTerm(r).length)),0)}longestArgumentTermLength(t,e){return e.visibleArguments(t).reduce(((t,r)=>Math.max(t,e.argumentTerm(r).length)),0)}commandUsage(t){let e=t._name;t._aliases[0]&&(e=e+"|"+t._aliases[0]);let r="";for(let e=t.parent;e;e=e.parent)r=e.name()+" "+r;return r+e+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue){(t.required||t.optional||t.isBoolean()&&"boolean"==typeof t.defaultValue)&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}return void 0!==t.presetArg&&t.optional&&e.push(`preset: ${JSON.stringify(t.presetArg)}`),void 0!==t.envVar&&e.push(`env: ${t.envVar}`),e.length>0?`${t.description} (${e.join(", ")})`:t.description}argumentDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),e.length>0){const r=`(${e.join(", ")})`;return t.description?`${t.description} ${r}`:r}return t.description}formatHelp(t,e){const r=e.padWidth(t,e),i=e.helpWidth||80;function n(t,n){if(n){const s=`${t.padEnd(r+2)}${n}`;return e.wrap(s,i-2,r+2)}return t}function s(t){return t.join("\n").replace(/^/gm," ".repeat(2))}let o=[`Usage: ${e.commandUsage(t)}`,""];const a=e.commandDescription(t);a.length>0&&(o=o.concat([e.wrap(a,i,0),""]));const l=e.visibleArguments(t).map((t=>n(e.argumentTerm(t),e.argumentDescription(t))));l.length>0&&(o=o.concat(["Arguments:",s(l),""]));const u=e.visibleOptions(t).map((t=>n(e.optionTerm(t),e.optionDescription(t))));if(u.length>0&&(o=o.concat(["Options:",s(u),""])),this.showGlobalOptions){const r=e.visibleGlobalOptions(t).map((t=>n(e.optionTerm(t),e.optionDescription(t))));r.length>0&&(o=o.concat(["Global Options:",s(r),""]))}const h=e.visibleCommands(t).map((t=>n(e.subcommandTerm(t),e.subcommandDescription(t))));return h.length>0&&(o=o.concat(["Commands:",s(h),""])),o.join("\n")}padWidth(t,e){return Math.max(e.longestOptionTermLength(t,e),e.longestGlobalOptionTermLength(t,e),e.longestSubcommandTermLength(t,e),e.longestArgumentTermLength(t,e))}wrap(t,e,r,i=40){const n=new RegExp("[\\n][ \\f\\t\\v   -   　\ufeff]+");if(t.match(n))return t;const s=e-r;if(s<i)return t;const o=t.slice(0,r),a=t.slice(r).replace("\r\n","\n"),l=" ".repeat(r),u="\\s​",h=new RegExp(`\n|.{1,${s-1}}([${u}]|$)|[^${u}]+?([${u}]|$)`,"g");return o+(a.match(h)||[]).map(((t,e)=>"\n"===t?"":(e>0?l:"")+t.trimEnd())).join("\n")}};var I={};const{InvalidArgumentError:B}=T;I.Option=class{constructor(t,e){this.flags=t,this.description=e||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;const r=function(t){let e,r;const i=t.split(/[ |,]+/);i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift());r=i.shift(),!e&&/^-[^-]$/.test(r)&&(e=r,r=void 0);return{shortFlag:e,longFlag:r}}(t);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let e=t;return"string"==typeof t&&(e={[t]:!0}),this.implied=Object.assign(this.implied||{},e),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new B(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((t,e)=>t+e[0].toUpperCase()+e.slice(1)))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},I.DualOptions=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach((t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)})),this.negativeOptions.forEach(((t,e)=>{this.positiveOptions.has(e)&&this.dualOptions.add(e)}))}valueFromOption(t,e){const r=e.attributeName();if(!this.dualOptions.has(r))return!0;const i=this.negativeOptions.get(r).presetArg,n=void 0!==i&&i;return e.negate===(n===t)}};var j={};const L=3;j.suggestSimilar=function(t,e){if(!e||0===e.length)return"";e=Array.from(new Set(e));const r=t.startsWith("--");r&&(t=t.slice(2),e=e.map((t=>t.slice(2))));let i=[],n=L;return e.forEach((e=>{if(e.length<=1)return;const r=function(t,e){if(Math.abs(t.length-e.length)>L)return Math.max(t.length,e.length);const r=[];for(let e=0;e<=t.length;e++)r[e]=[e];for(let t=0;t<=e.length;t++)r[0][t]=t;for(let i=1;i<=e.length;i++)for(let n=1;n<=t.length;n++){let s=1;s=t[n-1]===e[i-1]?0:1,r[n][i]=Math.min(r[n-1][i]+1,r[n][i-1]+1,r[n-1][i-1]+s),n>1&&i>1&&t[n-1]===e[i-2]&&t[n-2]===e[i-1]&&(r[n][i]=Math.min(r[n][i],r[n-2][i-2]+1))}return r[t.length][e.length]}(t,e),s=Math.max(t.length,e.length);(s-r)/s>.4&&(r<n?(n=r,i=[e]):r===n&&i.push(e))})),i.sort(((t,e)=>t.localeCompare(e))),r&&(i=i.map((t=>`--${t}`))),i.length>1?`\n(Did you mean one of ${i.join(", ")}?)`:1===i.length?`\n(Did you mean ${i[0]}?)`:""};const N=t.EventEmitter,$=e,W=r,U=i,z=n,{Argument:H,humanReadableArgName:G}=O,{CommanderError:V}=T,{Help:q}=M,{Option:Y,DualOptions:Z}=I,{suggestSimilar:K}=j;function J(t){return t.map((t=>{if(!t.startsWith("--inspect"))return t;let e,r,i="127.0.0.1",n="9229";return null!==(r=t.match(/^(--inspect(-brk)?)$/))?e=r[1]:null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(e=r[1],/^\d+$/.test(r[3])?n=r[3]:i=r[3]):null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(e=r[1],i=r[3],n=r[4]),e&&"0"!==n?`${e}=${i}:${parseInt(n)+1}`:t}))}R.Command=class t extends N{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>z.stdout.write(t),writeErr:t=>z.stderr.write(t),getOutHelpWidth:()=>z.stdout.isTTY?z.stdout.columns:void 0,getErrHelpWidth:()=>z.stderr.isTTY?z.stderr.columns:void 0,outputError:(t,e)=>e(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){const t=[];for(let e=this;e;e=e.parent)t.push(e);return t}command(t,e,r){let i=e,n=r;"object"==typeof i&&null!==i&&(n=i,i=null),n=n||{};const[,s,o]=t.match(/([^ ]+) *(.*)/),a=this.createCommand(s);return i&&(a.description(i),a._executableHandler=!0),n.isDefault&&(this._defaultCommandName=a._name),a._hidden=!(!n.noHelp&&!n.hidden),a._executableFile=n.executableFile||null,o&&a.arguments(o),this._registerCommand(a),a.parent=this,a.copyInheritedSettings(this),i?this:a}createCommand(e){return new t(e)}createHelp(){return Object.assign(new q,this.configureHelp())}configureHelp(t){return void 0===t?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return void 0===t?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return"string"!=typeof t&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,e){if(!t._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(e=e||{}).isDefault&&(this._defaultCommandName=t._name),(e.noHelp||e.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,e){return new H(t,e)}argument(t,e,r,i){const n=this.createArgument(t,e);return"function"==typeof r?n.default(i).argParser(r):n.default(r),this.addArgument(n),this}arguments(t){return t.trim().split(/ +/).forEach((t=>{this.argument(t)})),this}addArgument(t){const e=this.registeredArguments.slice(-1)[0];if(e&&e.variadic)throw new Error(`only the last argument can be variadic '${e.name()}'`);if(t.required&&void 0!==t.defaultValue&&void 0===t.parseArg)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,e){if("boolean"==typeof t)return this._addImplicitHelpCommand=t,this;t=t??"help [command]";const[,r,i]=t.match(/([^ ]+) *(.*)/),n=e??"display help for command",s=this.createCommand(r);return s.helpOption(!1),i&&s.arguments(i),n&&s.description(n),this._addImplicitHelpCommand=!0,this._helpCommand=s,this}addHelpCommand(t,e){return"object"!=typeof t?(this.helpCommand(t,e),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,e){const r=["preSubcommand","preAction","postAction"];if(!r.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${r.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(e):this._lifeCycleHooks[t]=[e],this}exitOverride(t){return this._exitCallback=t||(t=>{if("commander.executeSubCommandAsync"!==t.code)throw t}),this}_exit(t,e,r){this._exitCallback&&this._exitCallback(new V(t,e,r)),z.exit(t)}action(t){return this._actionHandler=e=>{const r=this.registeredArguments.length,i=e.slice(0,r);return this._storeOptionsAsProperties?i[r]=this:i[r]=this.opts(),i.push(this),t.apply(this,i)},this}createOption(t,e){return new Y(t,e)}_callParseArg(t,e,r,i){try{return t.parseArg(e,r)}catch(t){if("commander.invalidArgument"===t.code){const e=`${i} ${t.message}`;this.error(e,{exitCode:t.exitCode,code:t.code})}throw t}}_registerOption(t){const e=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(e){const r=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${r}'\n-  already used by option '${e.flags}'`)}this.options.push(t)}_registerCommand(t){const e=t=>[t.name()].concat(t.aliases()),r=e(t).find((t=>this._findCommand(t)));if(r){const i=e(this._findCommand(r)).join("|"),n=e(t).join("|");throw new Error(`cannot add command '${n}' as already have command '${i}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);const e=t.name(),r=t.attributeName();if(t.negate){const e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(r,void 0===t.defaultValue||t.defaultValue,"default")}else void 0!==t.defaultValue&&this.setOptionValueWithSource(r,t.defaultValue,"default");const i=(e,i,n)=>{null==e&&void 0!==t.presetArg&&(e=t.presetArg);const s=this.getOptionValue(r);null!==e&&t.parseArg?e=this._callParseArg(t,e,s,i):null!==e&&t.variadic&&(e=t._concatValue(e,s)),null==e&&(e=!t.negate&&(!(!t.isBoolean()&&!t.optional)||"")),this.setOptionValueWithSource(r,e,n)};return this.on("option:"+e,(e=>{const r=`error: option '${t.flags}' argument '${e}' is invalid.`;i(e,r,"cli")})),t.envVar&&this.on("optionEnv:"+e,(e=>{const r=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;i(e,r,"env")})),this}_optionEx(t,e,r,i,n){if("object"==typeof e&&e instanceof Y)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const s=this.createOption(e,r);if(s.makeOptionMandatory(!!t.mandatory),"function"==typeof i)s.default(n).argParser(i);else if(i instanceof RegExp){const t=i;i=(e,r)=>{const i=t.exec(e);return i?i[0]:r},s.default(n).argParser(i)}else s.default(i);return this.addOption(s)}option(t,e,r,i){return this._optionEx({},t,e,r,i)}requiredOption(t,e,r,i){return this._optionEx({mandatory:!0},t,e,r,i)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,e){return this.setOptionValueWithSource(t,e,void 0)}setOptionValueWithSource(t,e,r){return this._storeOptionsAsProperties?this[t]=e:this._optionValues[t]=e,this._optionValueSources[t]=r,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let e;return this._getCommandAndAncestors().forEach((r=>{void 0!==r.getOptionValueSource(t)&&(e=r.getOptionValueSource(t))})),e}_prepareUserArgs(t,e){if(void 0!==t&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");if(e=e||{},void 0===t&&void 0===e.from){z.versions?.electron&&(e.from="electron");const t=z.execArgv??[];(t.includes("-e")||t.includes("--eval")||t.includes("-p")||t.includes("--print"))&&(e.from="eval")}let r;switch(void 0===t&&(t=z.argv),this.rawArgs=t.slice(),e.from){case void 0:case"node":this._scriptPath=t[1],r=t.slice(2);break;case"electron":z.defaultApp?(this._scriptPath=t[1],r=t.slice(2)):r=t.slice(1);break;case"user":r=t.slice(0);break;case"eval":r=t.slice(1);break;default:throw new Error(`unexpected parse option { from: '${e.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",r}parse(t,e){const r=this._prepareUserArgs(t,e);return this._parseCommand([],r),this}async parseAsync(t,e){const r=this._prepareUserArgs(t,e);return await this._parseCommand([],r),this}_executeSubCommand(t,e){e=e.slice();let r=!1;const i=[".js",".ts",".tsx",".mjs",".cjs"];function n(t,e){const r=W.resolve(t,e);if(U.existsSync(r))return r;if(i.includes(W.extname(e)))return;const n=i.find((t=>U.existsSync(`${r}${t}`)));return n?`${r}${n}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let s,o=t._executableFile||`${this._name}-${t._name}`,a=this._executableDir||"";if(this._scriptPath){let t;try{t=U.realpathSync(this._scriptPath)}catch(e){t=this._scriptPath}a=W.resolve(W.dirname(t),a)}if(a){let e=n(a,o);if(!e&&!t._executableFile&&this._scriptPath){const r=W.basename(this._scriptPath,W.extname(this._scriptPath));r!==this._name&&(e=n(a,`${r}-${t._name}`))}o=e||o}if(r=i.includes(W.extname(o)),"win32"!==z.platform?r?(e.unshift(o),e=J(z.execArgv).concat(e),s=$.spawn(z.argv[0],e,{stdio:"inherit"})):s=$.spawn(o,e,{stdio:"inherit"}):(e.unshift(o),e=J(z.execArgv).concat(e),s=$.spawn(z.execPath,e,{stdio:"inherit"})),!s.killed){["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((t=>{z.on(t,(()=>{!1===s.killed&&null===s.exitCode&&s.kill(t)}))}))}const l=this._exitCallback;s.on("close",(t=>{t=t??1,l?l(new V(t,"commander.executeSubCommandAsync","(close)")):z.exit(t)})),s.on("error",(e=>{if("ENOENT"===e.code){const e=a?`searched for local subcommand relative to directory '${a}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",r=`'${o}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${e}`;throw new Error(r)}if("EACCES"===e.code)throw new Error(`'${o}' not executable`);if(l){const t=new V(1,"commander.executeSubCommandAsync","(error)");t.nestedError=e,l(t)}else z.exit(1)})),this.runningCommand=s}_dispatchSubcommand(t,e,r){const i=this._findCommand(t);let n;return i||this.help({error:!0}),n=this._chainOrCallSubCommandHook(n,i,"preSubcommand"),n=this._chainOrCall(n,(()=>{if(!i._executableHandler)return i._parseCommand(e,r);this._executeSubCommand(i,e.concat(r))})),n}_dispatchHelpCommand(t){t||this.help();const e=this._findCommand(t);return e&&!e._executableHandler&&e.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((t,e)=>{t.required&&null==this.args[e]&&this.missingArgument(t.name())})),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const t=(t,e,r)=>{let i=e;if(null!==e&&t.parseArg){const n=`error: command-argument value '${e}' is invalid for argument '${t.name()}'.`;i=this._callParseArg(t,e,r,n)}return i};this._checkNumberOfArguments();const e=[];this.registeredArguments.forEach(((r,i)=>{let n=r.defaultValue;r.variadic?i<this.args.length?(n=this.args.slice(i),r.parseArg&&(n=n.reduce(((e,i)=>t(r,i,e)),r.defaultValue))):void 0===n&&(n=[]):i<this.args.length&&(n=this.args[i],r.parseArg&&(n=t(r,n,r.defaultValue))),e[i]=n})),this.processedArgs=e}_chainOrCall(t,e){return t&&t.then&&"function"==typeof t.then?t.then((()=>e())):e()}_chainOrCallHooks(t,e){let r=t;const i=[];return this._getCommandAndAncestors().reverse().filter((t=>void 0!==t._lifeCycleHooks[e])).forEach((t=>{t._lifeCycleHooks[e].forEach((e=>{i.push({hookedCommand:t,callback:e})}))})),"postAction"===e&&i.reverse(),i.forEach((t=>{r=this._chainOrCall(r,(()=>t.callback(t.hookedCommand,this)))})),r}_chainOrCallSubCommandHook(t,e,r){let i=t;return void 0!==this._lifeCycleHooks[r]&&this._lifeCycleHooks[r].forEach((t=>{i=this._chainOrCall(i,(()=>t(this,e)))})),i}_parseCommand(t,e){const r=this.parseOptions(e);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(r.operands),e=r.unknown,this.args=t.concat(e),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),e);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(e),this._dispatchSubcommand(this._defaultCommandName,t,e);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),this._outputHelpIfRequested(r.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const i=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},n=`command:${this.name()}`;if(this._actionHandler){let r;return i(),this._processArguments(),r=this._chainOrCallHooks(r,"preAction"),r=this._chainOrCall(r,(()=>this._actionHandler(this.processedArgs))),this.parent&&(r=this._chainOrCall(r,(()=>{this.parent.emit(n,t,e)}))),r=this._chainOrCallHooks(r,"postAction"),r}if(this.parent&&this.parent.listenerCount(n))i(),this._processArguments(),this.parent.emit(n,t,e);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,e);this.listenerCount("command:*")?this.emit("command:*",t,e):this.commands.length?this.unknownCommand():(i(),this._processArguments())}else this.commands.length?(i(),this.help({error:!0})):(i(),this._processArguments())}_findCommand(t){if(t)return this.commands.find((e=>e._name===t||e._aliases.includes(t)))}_findOption(t){return this.options.find((e=>e.is(t)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((t=>{t.options.forEach((e=>{e.mandatory&&void 0===t.getOptionValue(e.attributeName())&&t.missingMandatoryOptionValue(e)}))}))}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const e=t.attributeName();return void 0!==this.getOptionValue(e)&&"default"!==this.getOptionValueSource(e)})),e=t.filter((t=>t.conflictsWith.length>0));e.forEach((e=>{const r=t.find((t=>e.conflictsWith.includes(t.attributeName())));r&&this._conflictingOption(e,r)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((t=>{t._checkForConflictingLocalOptions()}))}parseOptions(t){const e=[],r=[];let i=e;const n=t.slice();function s(t){return t.length>1&&"-"===t[0]}let o=null;for(;n.length;){const t=n.shift();if("--"===t){i===r&&i.push(t),i.push(...n);break}if(!o||s(t)){if(o=null,s(t)){const e=this._findOption(t);if(e){if(e.required){const t=n.shift();void 0===t&&this.optionMissingArgument(e),this.emit(`option:${e.name()}`,t)}else if(e.optional){let t=null;n.length>0&&!s(n[0])&&(t=n.shift()),this.emit(`option:${e.name()}`,t)}else this.emit(`option:${e.name()}`);o=e.variadic?e:null;continue}}if(t.length>2&&"-"===t[0]&&"-"!==t[1]){const e=this._findOption(`-${t[1]}`);if(e){e.required||e.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${e.name()}`,t.slice(2)):(this.emit(`option:${e.name()}`),n.unshift(`-${t.slice(2)}`));continue}}if(/^--[^=]+=/.test(t)){const e=t.indexOf("="),r=this._findOption(t.slice(0,e));if(r&&(r.required||r.optional)){this.emit(`option:${r.name()}`,t.slice(e+1));continue}}if(s(t)&&(i=r),(this._enablePositionalOptions||this._passThroughOptions)&&0===e.length&&0===r.length){if(this._findCommand(t)){e.push(t),n.length>0&&r.push(...n);break}if(this._getHelpCommand()&&t===this._getHelpCommand().name()){e.push(t),n.length>0&&e.push(...n);break}if(this._defaultCommandName){r.push(t),n.length>0&&r.push(...n);break}}if(this._passThroughOptions){i.push(t),n.length>0&&i.push(...n);break}i.push(t)}else this.emit(`option:${o.name()}`,t)}return{operands:e,unknown:r}}opts(){if(this._storeOptionsAsProperties){const t={},e=this.options.length;for(let r=0;r<e;r++){const e=this.options[r].attributeName();t[e]=e===this._versionOptionName?this._version:this[e]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((t,e)=>Object.assign(t,e.opts())),{})}error(t,e){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const r=e||{},i=r.exitCode||1,n=r.code||"commander.error";this._exit(i,n,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in z.env){const e=t.attributeName();(void 0===this.getOptionValue(e)||["default","config","env"].includes(this.getOptionValueSource(e)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,z.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}}))}_parseOptionsImplied(){const t=new Z(this.options),e=t=>void 0!==this.getOptionValue(t)&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((r=>void 0!==r.implied&&e(r.attributeName())&&t.valueFromOption(this.getOptionValue(r.attributeName()),r))).forEach((t=>{Object.keys(t.implied).filter((t=>!e(t))).forEach((e=>{this.setOptionValueWithSource(e,t.implied[e],"implied")}))}))}missingArgument(t){const e=`error: missing required argument '${t}'`;this.error(e,{code:"commander.missingArgument"})}optionMissingArgument(t){const e=`error: option '${t.flags}' argument missing`;this.error(e,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const e=`error: required option '${t.flags}' not specified`;this.error(e,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,e){const r=t=>{const e=t.attributeName(),r=this.getOptionValue(e),i=this.options.find((t=>t.negate&&e===t.attributeName())),n=this.options.find((t=>!t.negate&&e===t.attributeName()));return i&&(void 0===i.presetArg&&!1===r||void 0!==i.presetArg&&r===i.presetArg)?i:n||t},i=t=>{const e=r(t),i=e.attributeName();return"env"===this.getOptionValueSource(i)?`environment variable '${e.envVar}'`:`option '${e.flags}'`},n=`error: ${i(t)} cannot be used with ${i(e)}`;this.error(n,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let e="";if(t.startsWith("--")&&this._showSuggestionAfterError){let r=[],i=this;do{const t=i.createHelp().visibleOptions(i).filter((t=>t.long)).map((t=>t.long));r=r.concat(t),i=i.parent}while(i&&!i._enablePositionalOptions);e=K(t,r)}const r=`error: unknown option '${t}'${e}`;this.error(r,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const e=this.registeredArguments.length,r=1===e?"":"s",i=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${e} argument${r} but got ${t.length}.`;this.error(i,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let e="";if(this._showSuggestionAfterError){const r=[];this.createHelp().visibleCommands(this).forEach((t=>{r.push(t.name()),t.alias()&&r.push(t.alias())})),e=K(t,r)}const r=`error: unknown command '${t}'${e}`;this.error(r,{code:"commander.unknownCommand"})}version(t,e,r){if(void 0===t)return this._version;this._version=t,e=e||"-V, --version",r=r||"output the version number";const i=this.createOption(e,r);return this._versionOptionName=i.attributeName(),this._registerOption(i),this.on("option:"+i.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`),this._exit(0,"commander.version",t)})),this}description(t,e){return void 0===t&&void 0===e?this._description:(this._description=t,e&&(this._argsDescription=e),this)}summary(t){return void 0===t?this._summary:(this._summary=t,this)}alias(t){if(void 0===t)return this._aliases[0];let e=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(e=this.commands[this.commands.length-1]),t===e._name)throw new Error("Command alias can't be the same as its name");const r=this.parent?._findCommand(t);if(r){const e=[r.name()].concat(r.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${e}'`)}return e._aliases.push(t),this}aliases(t){return void 0===t?this._aliases:(t.forEach((t=>this.alias(t))),this)}usage(t){if(void 0===t){if(this._usage)return this._usage;const t=this.registeredArguments.map((t=>G(t)));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=t,this}name(t){return void 0===t?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=W.basename(t,W.extname(t)),this}executableDir(t){return void 0===t?this._executableDir:(this._executableDir=t,this)}helpInformation(t){const e=this.createHelp();return void 0===e.helpWidth&&(e.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),e.formatHelp(this,e)}_getHelpContext(t){const e={error:!!(t=t||{}).error};let r;return r=e.error?t=>this._outputConfiguration.writeErr(t):t=>this._outputConfiguration.writeOut(t),e.write=t.write||r,e.command=this,e}outputHelp(t){let e;"function"==typeof t&&(e=t,t=void 0);const r=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach((t=>t.emit("beforeAllHelp",r))),this.emit("beforeHelp",r);let i=this.helpInformation(r);if(e&&(i=e(i),"string"!=typeof i&&!Buffer.isBuffer(i)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(i),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",r),this._getCommandAndAncestors().forEach((t=>t.emit("afterAllHelp",r)))}helpOption(t,e){return"boolean"==typeof t?(this._helpOption=t?this._helpOption??void 0:null,this):(t=t??"-h, --help",e=e??"display help for command",this._helpOption=this.createOption(t,e),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let e=z.exitCode||0;0===e&&t&&"function"!=typeof t&&t.error&&(e=1),this._exit(e,"commander.help","(outputHelp)")}addHelpText(t,e){const r=["beforeAll","before","after","afterAll"];if(!r.includes(t))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${r.join("', '")}'`);const i=`${t}Help`;return this.on(i,(t=>{let r;r="function"==typeof e?e({error:t.error,command:t.command}):e,r&&t.write(`${r}\n`)})),this}_outputHelpIfRequested(t){const e=this._getHelpOption();e&&t.find((t=>e.is(t)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};const{Argument:Q}=O,{Command:X}=R,{CommanderError:tt,InvalidArgumentError:et}=T,{Help:rt}=M,{Option:it}=I;k.program=new X,k.createCommand=t=>new X(t),k.createOption=(t,e)=>new it(t,e),k.createArgument=(t,e)=>new Q(t,e),k.Command=X,k.Option=it,k.Argument=Q,k.Help=rt,k.CommanderError=tt,k.InvalidArgumentError=et,k.InvalidOptionArgumentError=et;const{program:nt,createCommand:st,createArgument:ot,createOption:at,CommanderError:lt,InvalidArgumentError:ut,InvalidOptionArgumentError:ht,Command:ct,Argument:dt,Option:ft,Help:pt}=k;var mt,gt,bt,yt,wt,vt,_t,Dt,St={exports:{}};function Et(){if(yt)return bt;yt=1;const t=gt?mt:(gt=1,mt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),e={};for(const r of Object.keys(t))e[t[r]]=r;const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};bt=r;for(const t of Object.keys(r)){if(!("channels"in r[t]))throw new Error("missing channels property: "+t);if(!("labels"in r[t]))throw new Error("missing channel labels property: "+t);if(r[t].labels.length!==r[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:i}=r[t];delete r[t].channels,delete r[t].labels,Object.defineProperty(r[t],"channels",{value:e}),Object.defineProperty(r[t],"labels",{value:i})}return r.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(e,r,i),s=Math.max(e,r,i),o=s-n;let a,l;s===n?a=0:e===s?a=(r-i)/o:r===s?a=2+(i-e)/o:i===s&&(a=4+(e-r)/o),a=Math.min(60*a,360),a<0&&(a+=360);const u=(n+s)/2;return l=s===n?0:u<=.5?o/(s+n):o/(2-s-n),[a,100*l,100*u]},r.rgb.hsv=function(t){let e,r,i,n,s;const o=t[0]/255,a=t[1]/255,l=t[2]/255,u=Math.max(o,a,l),h=u-Math.min(o,a,l),c=function(t){return(u-t)/6/h+.5};return 0===h?(n=0,s=0):(s=h/u,e=c(o),r=c(a),i=c(l),o===u?n=i-r:a===u?n=1/3+e-i:l===u&&(n=2/3+r-e),n<0?n+=1:n>1&&(n-=1)),[360*n,100*s,100*u]},r.rgb.hwb=function(t){const e=t[0],i=t[1];let n=t[2];const s=r.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(i,n));return n=1-1/255*Math.max(e,Math.max(i,n)),[s,100*o,100*n]},r.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(1-e,1-r,1-i);return[100*((1-e-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*n]},r.rgb.keyword=function(r){const i=e[r];if(i)return i;let n,s=1/0;for(const e of Object.keys(t)){const i=t[e],l=(a=i,((o=r)[0]-a[0])**2+(o[1]-a[1])**2+(o[2]-a[2])**2);l<s&&(s=l,n=e)}var o,a;return n},r.keyword.rgb=function(e){return t[e]},r.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,i=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;return[100*(.4124*e+.3576*r+.1805*i),100*(.2126*e+.7152*r+.0722*i),100*(.0193*e+.1192*r+.9505*i)]},r.rgb.lab=function(t){const e=r.rgb.xyz(t);let i=e[0],n=e[1],s=e[2];i/=95.047,n/=100,s/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*n-16,500*(i-n),200*(n-s)]},r.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,i=t[2]/100;let n,s,o;if(0===r)return o=255*i,[o,o,o];n=i<.5?i*(1+r):i+r-i*r;const a=2*i-n,l=[0,0,0];for(let t=0;t<3;t++)s=e+1/3*-(t-1),s<0&&s++,s>1&&s--,o=6*s<1?a+6*(n-a)*s:2*s<1?n:3*s<2?a+(n-a)*(2/3-s)*6:a,l[t]=255*o;return l},r.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,i=t[2]/100,n=r;const s=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,n*=s<=1?s:2-s;return[e,100*(0===i?2*n/(s+n):2*r/(i+r)),100*((i+r)/2)]},r.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let i=t[2]/100;const n=Math.floor(e)%6,s=e-Math.floor(e),o=255*i*(1-r),a=255*i*(1-r*s),l=255*i*(1-r*(1-s));switch(i*=255,n){case 0:return[i,l,o];case 1:return[a,i,o];case 2:return[o,i,l];case 3:return[o,a,i];case 4:return[l,o,i];case 5:return[i,o,a]}},r.hsv.hsl=function(t){const e=t[0],r=t[1]/100,i=t[2]/100,n=Math.max(i,.01);let s,o;o=(2-r)*i;const a=(2-r)*n;return s=r*n,s/=a<=1?a:2-a,s=s||0,o/=2,[e,100*s,100*o]},r.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,i=t[2]/100;const n=r+i;let s;n>1&&(r/=n,i/=n);const o=Math.floor(6*e),a=1-i;s=6*e-o,1&o&&(s=1-s);const l=r+s*(a-r);let u,h,c;switch(o){default:case 6:case 0:u=a,h=l,c=r;break;case 1:u=l,h=a,c=r;break;case 2:u=r,h=a,c=l;break;case 3:u=r,h=l,c=a;break;case 4:u=l,h=r,c=a;break;case 5:u=a,h=r,c=l}return[255*u,255*h,255*c]},r.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,i=t[2]/100,n=t[3]/100;return[255*(1-Math.min(1,e*(1-n)+n)),255*(1-Math.min(1,r*(1-n)+n)),255*(1-Math.min(1,i*(1-n)+n))]},r.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,i=t[2]/100;let n,s,o;return n=3.2406*e+-1.5372*r+-.4986*i,s=-.9689*e+1.8758*r+.0415*i,o=.0557*e+-.204*r+1.057*i,n=n>.0031308?1.055*n**(1/2.4)-.055:12.92*n,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,n=Math.min(Math.max(0,n),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[255*n,255*s,255*o]},r.xyz.lab=function(t){let e=t[0],r=t[1],i=t[2];e/=95.047,r/=100,i/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(e-r),200*(r-i)]},r.lab.xyz=function(t){let e,r,i;r=(t[0]+16)/116,e=t[1]/500+r,i=r-t[2]/200;const n=r**3,s=e**3,o=i**3;return r=n>.008856?n:(r-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,i=o>.008856?o:(i-16/116)/7.787,e*=95.047,r*=100,i*=108.883,[e,r,i]},r.lab.lch=function(t){const e=t[0],r=t[1],i=t[2];let n;n=360*Math.atan2(i,r)/2/Math.PI,n<0&&(n+=360);return[e,Math.sqrt(r*r+i*i),n]},r.lch.lab=function(t){const e=t[0],r=t[1],i=t[2]/360*2*Math.PI;return[e,r*Math.cos(i),r*Math.sin(i)]},r.rgb.ansi16=function(t,e=null){const[i,n,s]=t;let o=null===e?r.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),0===o)return 30;let a=30+(Math.round(s/255)<<2|Math.round(n/255)<<1|Math.round(i/255));return 2===o&&(a+=60),a},r.hsv.ansi16=function(t){return r.rgb.ansi16(r.hsv.rgb(t),t[2])},r.rgb.ansi256=function(t){const e=t[0],r=t[1],i=t[2];if(e===r&&r===i)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;return 16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},r.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;t-=16;return[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},r.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},r.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=r.split("").map((t=>t+t)).join(""));const i=parseInt(r,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.max(Math.max(e,r),i),s=Math.min(Math.min(e,r),i),o=n-s;let a,l;return a=o<1?s/(1-o):0,l=o<=0?0:n===e?(r-i)/o%6:n===r?2+(i-e)/o:4+(e-r)/o,l/=6,l%=1,[360*l,100*o,100*a]},r.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,i=r<.5?2*e*r:2*e*(1-r);let n=0;return i<1&&(n=(r-.5*i)/(1-i)),[t[0],100*i,100*n]},r.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,i=e*r;let n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],100*i,100*n]},r.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,i=t[2]/100;if(0===r)return[255*i,255*i,255*i];const n=[0,0,0],s=e%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=a,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=a,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=a}return l=(1-r)*i,[255*(r*n[0]+l),255*(r*n[1]+l),255*(r*n[2]+l)]},r.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let i=0;return r>0&&(i=e/r),[t[0],100*i,100*r]},r.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],100*i,100*r]},r.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},r.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,i=r-e;let n=0;return i<1&&(n=(r-i)/(1-i)),[t[0],100*i,100*n]},r.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},r.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},r.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},r.gray.hsl=function(t){return[0,0,t[0]]},r.gray.hsv=r.gray.hsl,r.gray.hwb=function(t){return[0,100,t[0]]},r.gray.cmyk=function(t){return[0,0,0,t[0]]},r.gray.lab=function(t){return[t[0],0,0]},r.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},r.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]},bt}function xt(){if(vt)return wt;vt=1;const t=Et();function e(e){const r=function(){const e={},r=Object.keys(t);for(let t=r.length,i=0;i<t;i++)e[r[i]]={distance:-1,parent:null};return e}(),i=[e];for(r[e].distance=0;i.length;){const e=i.pop(),n=Object.keys(t[e]);for(let t=n.length,s=0;s<t;s++){const t=n[s],o=r[t];-1===o.distance&&(o.distance=r[e].distance+1,o.parent=e,i.unshift(t))}}return r}function r(t,e){return function(r){return e(t(r))}}function i(e,i){const n=[i[e].parent,e];let s=t[i[e].parent][e],o=i[e].parent;for(;i[o].parent;)n.unshift(i[o].parent),s=r(t[i[o].parent][o],s),o=i[o].parent;return s.conversion=n,s}return wt=function(t){const r=e(t),n={},s=Object.keys(r);for(let t=s.length,e=0;e<t;e++){const t=s[e];null!==r[t].parent&&(n[t]=i(t,r))}return n}}function Ct(){if(Dt)return _t;Dt=1;const t=Et(),e=xt(),r={};return Object.keys(t).forEach((i=>{r[i]={},Object.defineProperty(r[i],"channels",{value:t[i].channels}),Object.defineProperty(r[i],"labels",{value:t[i].labels});const n=e(i);Object.keys(n).forEach((t=>{const e=n[t];r[i][t]=function(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const i=t(e);if("object"==typeof i)for(let t=i.length,e=0;e<t;e++)i[e]=Math.round(i[e]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}(e),r[i][t].raw=function(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(e)}))})),_t=r}!function(t){const e=(t,e)=>(...r)=>`[${t(...r)+e}m`,r=(t,e)=>(...r)=>{const i=t(...r);return`[${38+e};5;${i}m`},i=(t,e)=>(...r)=>{const i=t(...r);return`[${38+e};2;${i[0]};${i[1]};${i[2]}m`},n=t=>t,s=(t,e,r)=>[t,e,r],o=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{const i=r();return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0}),i},enumerable:!0,configurable:!0})};let a;const l=(t,e,r,i)=>{void 0===a&&(a=Ct());const n=i?10:0,s={};for(const[i,o]of Object.entries(a)){const a="ansi16"===i?"ansi":i;i===e?s[a]=t(r,n):"object"==typeof o&&(s[a]=t(o[e],n))}return s};Object.defineProperty(t,"exports",{enumerable:!0,get:function(){const t=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[e,r]of Object.entries(a)){for(const[e,i]of Object.entries(r))a[e]={open:`[${i[0]}m`,close:`[${i[1]}m`},r[e]=a[e],t.set(i[0],i[1]);Object.defineProperty(a,e,{value:r,enumerable:!1})}return Object.defineProperty(a,"codes",{value:t,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",o(a.color,"ansi",(()=>l(e,"ansi16",n,!1))),o(a.color,"ansi256",(()=>l(r,"ansi256",n,!1))),o(a.color,"ansi16m",(()=>l(i,"rgb",s,!1))),o(a.bgColor,"ansi",(()=>l(e,"ansi16",n,!0))),o(a.bgColor,"ansi256",(()=>l(r,"ansi256",n,!0))),o(a.bgColor,"ansi16m",(()=>l(i,"rgb",s,!0))),a}})}(St);var kt=St.exports;const Ot=s,Tt=o,At=(t,e=process.argv)=>{const r=t.startsWith("-")?"":1===t.length?"-":"--",i=e.indexOf(r+t),n=e.indexOf("--");return-1!==i&&(-1===n||i<n)},{env:Ft}=process;let Rt;function Mt(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Pt(t,e){if(0===Rt)return 0;if(At("color=16m")||At("color=full")||At("color=truecolor"))return 3;if(At("color=256"))return 2;if(t&&!e&&void 0===Rt)return 0;const r=Rt||0;if("dumb"===Ft.TERM)return r;if("win32"===process.platform){const t=Ot.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Ft)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((t=>t in Ft))||"codeship"===Ft.CI_NAME?1:r;if("TEAMCITY_VERSION"in Ft)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ft.TEAMCITY_VERSION)?1:0;if("truecolor"===Ft.COLORTERM)return 3;if("TERM_PROGRAM"in Ft){const t=parseInt((Ft.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ft.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ft.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ft.TERM)||"COLORTERM"in Ft?1:r}At("no-color")||At("no-colors")||At("color=false")||At("color=never")?Rt=0:(At("color")||At("colors")||At("color=true")||At("color=always"))&&(Rt=1),"FORCE_COLOR"in Ft&&(Rt="true"===Ft.FORCE_COLOR?1:"false"===Ft.FORCE_COLOR?0:0===Ft.FORCE_COLOR.length?1:Math.min(parseInt(Ft.FORCE_COLOR,10),3));var It={supportsColor:function(t){return Mt(Pt(t,t&&t.isTTY))},stdout:Mt(Pt(!0,Tt.isatty(1))),stderr:Mt(Pt(!0,Tt.isatty(2)))};var Bt,jt,Lt={stringReplaceAll:(t,e,r)=>{let i=t.indexOf(e);if(-1===i)return t;const n=e.length;let s=0,o="";do{o+=t.substr(s,i-s)+e+r,s=i+n,i=t.indexOf(e,s)}while(-1!==i);return o+=t.substr(s),o},stringEncaseCRLFWithFirstIndex:(t,e,r,i)=>{let n=0,s="";do{const o="\r"===t[i-1];s+=t.substr(n,(o?i-1:i)-n)+e+(o?"\r\n":"\n")+r,n=i+1,i=t.indexOf("\n",n)}while(-1!==i);return s+=t.substr(n),s}};const Nt=kt,{stdout:$t,stderr:Wt}=It,{stringReplaceAll:Ut,stringEncaseCRLFWithFirstIndex:zt}=Lt,{isArray:Ht}=Array,Gt=["ansi","ansi","ansi256","ansi16m"],Vt=Object.create(null);class qt{constructor(t){return Yt(t)}}const Yt=t=>{const e={};return((t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=$t?$t.level:0;t.level=void 0===e.level?r:e.level})(e,t),e.template=(...t)=>re(e.template,...t),Object.setPrototypeOf(e,Zt.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=qt,e.template};function Zt(t){return Yt(t)}for(const[t,e]of Object.entries(Nt))Vt[t]={get(){const r=Xt(this,Qt(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};Vt.visible={get(){const t=Xt(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};const Kt=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const t of Kt)Vt[t]={get(){const{level:e}=this;return function(...r){const i=Qt(Nt.color[Gt[e]][t](...r),Nt.color.close,this._styler);return Xt(this,i,this._isEmpty)}}};for(const t of Kt){Vt["bg"+t[0].toUpperCase()+t.slice(1)]={get(){const{level:e}=this;return function(...r){const i=Qt(Nt.bgColor[Gt[e]][t](...r),Nt.bgColor.close,this._styler);return Xt(this,i,this._isEmpty)}}}}const Jt=Object.defineProperties((()=>{}),{...Vt,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),Qt=(t,e,r)=>{let i,n;return void 0===r?(i=t,n=e):(i=r.openAll+t,n=e+r.closeAll),{open:t,close:e,openAll:i,closeAll:n,parent:r}},Xt=(t,e,r)=>{const i=(...t)=>Ht(t[0])&&Ht(t[0].raw)?te(i,re(i,...t)):te(i,1===t.length?""+t[0]:t.join(" "));return Object.setPrototypeOf(i,Jt),i._generator=t,i._styler=e,i._isEmpty=r,i},te=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(void 0===r)return e;const{openAll:i,closeAll:n}=r;if(-1!==e.indexOf(""))for(;void 0!==r;)e=Ut(e,r.close,r.open),r=r.parent;const s=e.indexOf("\n");return-1!==s&&(e=zt(e,n,i,s)),i+e+n};let ee;const re=(t,...e)=>{const[r]=e;if(!Ht(r)||!Ht(r.raw))return e.join(" ");const i=e.slice(1),n=[r.raw[0]];for(let t=1;t<r.length;t++)n.push(String(i[t-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[t]));return void 0===ee&&(ee=function(){if(jt)return Bt;jt=1;const t=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,e=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,r=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,i=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,n=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function s(t){const e="u"===t[0],r="{"===t[1];return e&&!r&&5===t.length||"x"===t[0]&&3===t.length?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):n.get(t)||t}function o(t,e){const n=[],o=e.trim().split(/\s*,\s*/g);let a;for(const e of o){const o=Number(e);if(Number.isNaN(o)){if(!(a=e.match(r)))throw new Error(`Invalid Chalk template style argument: ${e} (in style '${t}')`);n.push(a[2].replace(i,((t,e,r)=>e?s(e):r)))}else n.push(o)}return n}function a(t){e.lastIndex=0;const r=[];let i;for(;null!==(i=e.exec(t));){const t=i[1];if(i[2]){const e=o(t,i[2]);r.push([t].concat(e))}else r.push([t])}return r}function l(t,e){const r={};for(const t of e)for(const e of t.styles)r[e[0]]=t.inverse?null:e.slice(1);let i=t;for(const[t,e]of Object.entries(r))if(Array.isArray(e)){if(!(t in i))throw new Error(`Unknown Chalk style: ${t}`);i=e.length>0?i[t](...e):i[t]}return i}return Bt=(e,r)=>{const i=[],n=[];let o=[];if(r.replace(t,((t,r,u,h,c,d)=>{if(r)o.push(s(r));else if(h){const t=o.join("");o=[],n.push(0===i.length?t:l(e,i)(t)),i.push({inverse:u,styles:a(h)})}else if(c){if(0===i.length)throw new Error("Found extraneous } in Chalk template literal");n.push(l(e,i)(o.join(""))),o=[],i.pop()}else o.push(d)})),n.push(o.join("")),i.length>0){const t=`Chalk template literal is missing ${i.length} closing bracket${1===i.length?"":"s"} (\`}\`)`;throw new Error(t)}return n.join("")},Bt}()),ee(t,n.join(""))};Object.defineProperties(Zt.prototype,Vt);const ie=Zt();ie.supportsColor=$t,ie.stderr=Zt({level:Wt?Wt.level:0}),ie.stderr.supportsColor=Wt;var ne,se,oe,ae,le,ue,he,ce,de,fe,pe,me,ge,be,ye,we,ve,_e,De,Se,Ee,xe,Ce,ke,Oe,Te,Ae,Fe,Re,Me,Pe,Ie,Be,je,Le,Ne,$e,We,Ue,ze,He,Ge,Ve,qe,Ye,Ze,Ke,Je,Qe,Xe,tr,er,rr,ir,nr,sr,or,ar,lr,ur,hr,cr,dr,fr,pr,mr,gr,br=ie,yr=x(br),wr={};function vr(){if(se)return ne;se=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:e,TERM:r}=process.env,i={enabled:!e&&"dumb"!==r&&"0"!==t,reset:s(0,0),bold:s(1,22),dim:s(2,22),italic:s(3,23),underline:s(4,24),inverse:s(7,27),hidden:s(8,28),strikethrough:s(9,29),black:s(30,39),red:s(31,39),green:s(32,39),yellow:s(33,39),blue:s(34,39),magenta:s(35,39),cyan:s(36,39),white:s(37,39),gray:s(90,39),grey:s(90,39),bgBlack:s(40,49),bgRed:s(41,49),bgGreen:s(42,49),bgYellow:s(43,49),bgBlue:s(44,49),bgMagenta:s(45,49),bgCyan:s(46,49),bgWhite:s(47,49)};function n(t,e){let r,i=0,n="",s="";for(;i<t.length;i++)r=t[i],n+=r.open,s+=r.close,e.includes(r.close)&&(e=e.replace(r.rgx,r.close+r.open));return n+e+s}function s(t,e){let r={open:`[${t}m`,close:`[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(e){return void 0!==this&&void 0!==this.has?(this.has.includes(t)||(this.has.push(t),this.keys.push(r)),void 0===e?this:i.enabled?n(this.keys,e+""):e+""):void 0===e?function(t,e){let r={has:t,keys:e};return r.reset=i.reset.bind(r),r.bold=i.bold.bind(r),r.dim=i.dim.bind(r),r.italic=i.italic.bind(r),r.underline=i.underline.bind(r),r.inverse=i.inverse.bind(r),r.hidden=i.hidden.bind(r),r.strikethrough=i.strikethrough.bind(r),r.black=i.black.bind(r),r.red=i.red.bind(r),r.green=i.green.bind(r),r.yellow=i.yellow.bind(r),r.blue=i.blue.bind(r),r.magenta=i.magenta.bind(r),r.cyan=i.cyan.bind(r),r.white=i.white.bind(r),r.gray=i.gray.bind(r),r.grey=i.grey.bind(r),r.bgBlack=i.bgBlack.bind(r),r.bgRed=i.bgRed.bind(r),r.bgGreen=i.bgGreen.bind(r),r.bgYellow=i.bgYellow.bind(r),r.bgBlue=i.bgBlue.bind(r),r.bgMagenta=i.bgMagenta.bind(r),r.bgCyan=i.bgCyan.bind(r),r.bgWhite=i.bgWhite.bind(r),r}([t],[r]):i.enabled?n([r],e+""):e+""}}return ne=i}function _r(){return ue||(ue=1,le=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return"string"==typeof t?t.replace(r,""):t}),le}function Dr(){if(ce)return he;ce=1;const t="[",e={to:(e,r)=>r?`${t}${r+1};${e+1}H`:`${t}${e+1}G`,move(e,r){let i="";return e<0?i+=`${t}${-e}D`:e>0&&(i+=`${t}${e}C`),r<0?i+=`${t}${-r}A`:r>0&&(i+=`${t}${r}B`),i},up:(e=1)=>`${t}${e}A`,down:(e=1)=>`${t}${e}B`,forward:(e=1)=>`${t}${e}C`,backward:(e=1)=>`${t}${e}D`,nextLine:(e=1)=>`${t}E`.repeat(e),prevLine:(e=1)=>`${t}F`.repeat(e),left:`${t}G`,hide:`${t}?25l`,show:`${t}?25h`,save:"7",restore:"8"},r={up:(e=1)=>`${t}S`.repeat(e),down:(e=1)=>`${t}T`.repeat(e)},i={screen:`${t}2J`,up:(e=1)=>`${t}1J`.repeat(e),down:(e=1)=>`${t}J`.repeat(e),line:`${t}2K`,lineEnd:`${t}K`,lineStart:`${t}1K`,lines(t){let r="";for(let i=0;i<t;i++)r+=this.line+(i<t-1?e.up():"");return t&&(r+=e.left),r}};return he={cursor:e,scroll:r,erase:i,beep:""}}function Sr(){if(fe)return de;function t(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return e(t,r)}(t))||r){i&&(t=i);var n=0,s=function(){};return{s:s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw o}}}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}fe=1;const r=_r(),i=Dr(),n=i.erase,s=i.cursor;return de=function(e,i){if(!i)return n.line+s.to(0);let o=0;var a,l=t(e.split(/\r?\n/));try{for(l.s();!(a=l.n()).done;){let t=a.value;o+=1+Math.floor(Math.max([...r(t)].length-1,0)/i)}}catch(t){l.e(t)}finally{l.f()}return n.lines(o)},de}function Er(){if(me)return pe;me=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},r="win32"===process.platform?e:t;return pe=r}function xr(){if(be)return ge;be=1;const t=vr(),e=Er(),r=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),i=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return ge={styles:r,render:t=>r[t]||r.default,symbols:i,symbol:(t,e,r)=>e?i.aborted:r?i.exited:t?i.done:i.default,delimiter:r=>t.gray(r?e.ellipsis:e.pointerSmall),item:(r,i)=>t.gray(r?i?e.pointerSmall:"+":e.line)},ge}function Cr(){if(we)return ye;we=1;const t=_r();return ye=function(e,r){let i=String(t(e)||"").split(/\r?\n/);return r?i.map((t=>Math.ceil(t.length/r))).reduce(((t,e)=>t+e)):i.length},ye}function kr(){return xe||(xe=1,Ee={action:ae?oe:(ae=1,oe=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:Sr(),style:xr(),strip:_r(),figures:Er(),lines:Cr(),wrap:(_e||(_e=1,ve=(t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+r.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${r}${e}`),t)),[r]).join("\n"))).join("\n")}),ve),entriesToDisplay:Se?De:(Se=1,De=(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+r,e)}})}),Ee}function Or(){if(ke)return Ce;ke=1;const t=u,e=kr().action,r=h,i=Dr(),n=i.beep,s=i.cursor,o=vr();return Ce=class extends r{constructor(r={}){super(),this.firstRender=!0,this.in=r.stdin||process.stdin,this.out=r.stdout||process.stdout,this.onRender=(r.onRender||(()=>{})).bind(this);const i=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);const n=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(t,r)=>{let i=e(r,n);!1===i?this._&&this._(t,r):"function"==typeof this[i]?this[i](r):this.bell()};this.close=()=>{this.out.write(s.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(n)}render(){this.onRender(o),this.firstRender&&(this.firstRender=!1)}}}function Tr(){if(Te)return Oe;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(e){return function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))}}Te=1;const r=vr(),i=Or(),n=Dr(),s=n.erase,o=n.cursor,a=kr(),l=a.style,u=a.clear,h=a.lines,c=a.figures;return Oe=class extends i{constructor(t={}){super(t),this.transform=l.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(t){!t&&this.initial?(this.placeholder=!0,this.rendered=r.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(t)),this._value=t,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(t.value=t.value||t.initial,t.cursorOffset=0,t.cursor=t.rendered.length,yield t.validate(),t.error)return t.red=!0,t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${r}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(h(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),r.bold(this.msg),l.delimiter(this.done),this.red?r.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":c.pointerSmall} ${r.red().italic(e)}`),"")),this.out.write(s.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore+o.move(this.cursorOffset,0)))}}}function Ar(){if(Fe)return Ae;Fe=1;const t=vr(),e=Or(),r=kr(),i=r.style,n=r.clear,s=r.figures,o=r.wrap,a=r.entriesToDisplay,l=Dr().cursor;return Ae=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=n("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(l.hide):this.out.write(n(this.outputText,this.out.columns)),super.render();let e=a(this.cursor,this.choices.length,this.optionsPerPage),r=e.startIndex,u=e.endIndex;if(this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let e=r;e<u;e++){let i,n,a="",l=this.choices[e];n=e===r&&r>0?s.arrowUp:e===u-1&&u<this.choices.length?s.arrowDown:" ",l.disabled?(i=this.cursor===e?t.gray().underline(l.title):t.strikethrough().gray(l.title),n=(this.cursor===e?t.bold().gray(s.pointer)+" ":"  ")+n):(i=this.cursor===e?t.cyan().underline(l.title):l.title,n=(this.cursor===e?t.cyan(s.pointer)+" ":"  ")+n,l.description&&this.cursor===e&&(a=` - ${l.description}`,(n.length+i.length+a.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(a="\n"+o(l.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${i}${t.gray(a)}\n`}}this.out.write(this.outputText)}}}function Fr(){if(Me)return Re;Me=1;const t=vr(),e=Or(),r=kr(),i=r.style,n=r.clear,s=Dr(),o=s.cursor,a=s.erase;return Re=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(a.line+o.to(0)+this.outputText))}}}function Rr(){if(Ie)return Pe;Ie=1;class t{constructor({token:t,date:e,parts:r,locales:i}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=i||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((r,i)=>i>e&&r instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const r=e.indexOf(this);return e.find(((e,i)=>i>r&&e instanceof t))}toString(){return String(this.date)}}return Pe=t}function Mr(){if(je)return Be;je=1;const t=Rr();return Be=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}},Be}function Pr(){if(Ne)return Le;Ne=1;const t=Rr();return Le=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(r=t,1==(r%=10)?"st":2===r?"nd":3===r?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var r}},Le}function Ir(){if(We)return $e;We=1;const t=Rr();return $e=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}},$e}function Br(){if(ze)return Ue;ze=1;const t=Rr();return Ue=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function jr(){if(Ge)return He;Ge=1;const t=Rr();return He=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Lr(){if(qe)return Ve;qe=1;const t=Rr();return Ve=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}},Ve}function Nr(){if(Ze)return Ye;Ze=1;const t=Rr();return Ye=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function $r(){if(Je)return Ke;Je=1;const t=Rr();return Ke=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}},Ke}function Wr(){if(er)return tr;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(e){return function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))}}er=1;const r=vr(),i=Or(),n=kr(),s=n.style,o=n.clear,a=n.figures,l=Dr(),u=l.erase,h=l.cursor,c=Xe?Qe:(Xe=1,Qe={DatePart:Rr(),Meridiem:Mr(),Day:Pr(),Hours:Ir(),Milliseconds:Br(),Minutes:jr(),Month:Lr(),Seconds:Nr(),Year:$r()}),d=c.DatePart,f=c.Meridiem,p=c.Day,m=c.Hours,g=c.Milliseconds,b=c.Minutes,y=c.Month,w=c.Seconds,v=c.Year,_=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,D={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new p(t),3:t=>new y(t),4:t=>new v(t),5:t=>new f(t),6:t=>new m(t),7:t=>new b(t),8:t=>new w(t),9:t=>new g(t)},S={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return tr=class extends i{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(S,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=o("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=_.exec(t);){let t=e.shift(),r=e.findIndex((t=>null!=t));this.parts.push(r in D?D[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof d))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();t.done=!0,t.aborted=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof d))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(o(this.outputText,this.out.columns)),super.render(),this.outputText=[s.symbol(this.done,this.aborted),r.bold(this.msg),s.delimiter(!1),this.parts.reduce(((t,e,i)=>t.concat(i!==this.cursor||this.done?e:r.cyan().underline(e.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":a.pointerSmall} ${r.red().italic(e)}`),"")),this.out.write(u.line+h.to(0)+this.outputText))}},tr}function Ur(){if(ir)return rr;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(e){return function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))}}ir=1;const r=vr(),i=Or(),n=Dr(),s=n.cursor,o=n.erase,a=kr(),l=a.style,u=a.figures,h=a.clear,c=a.lines,d=/[0-9]/,f=t=>void 0!==t,p=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};return rr=class extends i{constructor(t={}){super(t),this.transform=l.render(t.style),this.msg=t.message,this.initial=f(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=f(t.min)?t.min:-1/0,this.max=f(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(t){t||0===t?(this.placeholder=!1,this.rendered=this.transform.render(`${p(t,this.round)}`),this._value=p(t,this.round)):(this.placeholder=!0,this.rendered=r.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||d.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var t=this;return e((function*(){let e=yield t.validator(t.value);"string"==typeof e&&(t.errorMsg=e,e=!1),t.error=!e}))()}submit(){var t=this;return e((function*(){if(yield t.validate(),t.error)return t.color="red",t.fire(),void t.render();let e=t.value;t.value=""!==e?e:t.initial,t.done=!0,t.aborted=!1,t.error=!1,t.fire(),t.render(),t.out.write("\n"),t.close()}))()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(s.down(c(this.outputError,this.out.columns)-1)+h(this.outputError,this.out.columns)),this.out.write(h(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),r.bold(this.msg),l.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:r[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((t,e,i)=>t+`\n${i?" ":u.pointerSmall} ${r.red().italic(e)}`),"")),this.out.write(o.line+s.to(0)+this.outputText+s.save+this.outputError+s.restore))}}}function zr(){if(sr)return nr;sr=1;const t=vr(),e=Dr().cursor,r=Or(),i=kr(),n=i.clear,s=i.figures,o=i.style,a=i.wrap,l=i.entriesToDisplay;return nr=class extends r{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=n("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${s.arrowUp}/${s.arrowDown}: Highlight option\n    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,r,i,n){const o=(r.selected?t.green(s.radioOn):s.radioOff)+" "+n+" ";let l,u;return r.disabled?l=e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):(l=e===i?t.cyan().underline(r.title):r.title,e===i&&r.description&&(u=` - ${r.description}`,(o.length+l.length+u.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(u="\n"+a(r.description,{margin:o.length,width:this.out.columns})))),o+l+t.gray(u||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let r,i=l(this.cursor,e.length,this.optionsPerPage),n=i.startIndex,o=i.endIndex,a=[];for(let t=n;t<o;t++)r=t===n&&n>0?s.arrowUp:t===o-1&&o<e.length?s.arrowDown:" ",a.push(this.renderOption(this.cursor,e[t],t,r));return"\n"+a.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[o.symbol(this.done,this.aborted),t.bold(this.msg),o.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.value),this.out.write(this.clear+r),this.clear=n(r,this.out.columns)}},nr}function Hr(){if(ar)return or;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}ar=1;const e=vr(),r=Or(),i=Dr(),n=i.erase,s=i.cursor,o=kr(),a=o.style,l=o.clear,u=o.figures,h=o.wrap,c=o.entriesToDisplay,d=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),f=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return or=class extends r{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const r=t.findIndex((t=>t.value===e||t.title===e));return r>-1?r:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=a.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=l("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=d(this.suggestions,t):this.value=this.fallback.value,this.fire()}complete(e){var r,i=this;return(r=function*(){const t=i.completing=i.suggest(i.input,i.choices),r=yield t;if(i.completing!==t)return;i.suggestions=r.map(((t,e,r)=>({title:f(r,e),value:d(r,e),description:t.description}))),i.completing=!1;const n=Math.max(r.length-1,0);i.moveSelect(Math.min(n,i.select)),e&&e()},function(){var e=this,i=arguments;return new Promise((function(n,s){var o=r.apply(e,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))})()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${r}${t}${i}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(t,r,i,n){let s,o=i?u.arrowUp:n?u.arrowDown:" ",a=r?e.cyan().underline(t.title):t.title;return o=(r?e.cyan(u.pointer)+" ":"  ")+o,t.description&&(s=` - ${t.description}`,(o.length+a.length+s.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(s="\n"+h(t.description,{margin:3,width:this.out.columns}))),o+" "+a+e.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(s.hide):this.out.write(l(this.outputText,this.out.columns)),super.render();let t=c(this.select,this.choices.length,this.limit),r=t.startIndex,i=t.endIndex;if(this.outputText=[a.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const t=this.suggestions.slice(r,i).map(((t,e)=>this.renderOption(t,this.select===e+r,0===e&&r>0,e+r===i-1&&i<this.choices.length))).join("\n");this.outputText+="\n"+(t||e.gray(this.fallback.title))}this.out.write(n.line+s.to(0)+this.outputText)}},or}function Gr(){if(ur)return lr;ur=1;const t=vr(),e=Dr().cursor,r=zr(),i=kr(),n=i.clear,s=i.style,o=i.figures;return lr=class extends r{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=n("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${o.arrowUp}/${o.arrowDown}: Highlight option\n    ${o.arrowLeft}/${o.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,r,i){let n;return n=r.disabled?e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):e===i?t.cyan().underline(r.title):r.title,(r.selected?t.green(o.radioOn):o.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+r),this.clear=n(r,this.out.columns)}},lr}function Vr(){if(cr)return hr;cr=1;const t=vr(),e=Or(),r=kr(),i=r.style,n=r.clear,s=Dr(),o=s.erase,a=s.cursor;return hr=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(a.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),t.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(o.line+a.to(0)+this.outputText))}}}function qr(){return pr||(pr=1,function(){const t=wr,e=fr?dr:(fr=1,dr={TextPrompt:Tr(),SelectPrompt:Ar(),TogglePrompt:Fr(),DatePrompt:Wr(),NumberPrompt:Ur(),MultiselectPrompt:zr(),AutocompletePrompt:Hr(),AutocompleteMultiselectPrompt:Gr(),ConfirmPrompt:Vr()}),r=t=>t;function i(t,i,n={}){return new Promise(((s,o)=>{const a=new e[t](i),l=n.onAbort||r,u=n.onSubmit||r,h=n.onExit||r;a.on("state",i.onState||r),a.on("submit",(t=>s(u(t)))),a.on("exit",(t=>s(h(t)))),a.on("abort",(t=>o(l(t))))}))}t.text=t=>i("TextPrompt",t),t.password=e=>(e.style="password",t.text(e)),t.invisible=e=>(e.style="invisible",t.text(e)),t.number=t=>i("NumberPrompt",t),t.date=t=>i("DatePrompt",t),t.confirm=t=>i("ConfirmPrompt",t),t.list=t=>{const e=t.separator||",";return i("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},t.toggle=t=>i("TogglePrompt",t),t.select=t=>i("SelectPrompt",t),t.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return i("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},t.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return i("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));t.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),i("AutocompletePrompt",t))}()),wr}var Yr,Zr,Kr,Jr,Qr,Xr,ti,ei,ri,ii,ni,si,oi,ai,li,ui,hi,ci,di,fi,pi,mi,gi,bi,yi,wi,vi,_i,Di,Si,Ei,xi,Ci,ki,Oi,Ti,Ai,Fi,Ri,Mi,Pi,Ii,Bi,ji,Li,Ni,$i,Wi,Ui,zi,Hi,Gi,Vi,qi,Yi,Zi,Ki,Ji,Qi,Xi,tn,en,rn,nn={};function sn(){return Jr||(Jr=1,Kr=t=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(e,"g");return"string"==typeof t?t.replace(r,""):t}),Kr}function on(){if(Xr)return Qr;Xr=1;const t=sn(),{erase:e,cursor:r}=Dr();return Qr=function(i,n){if(!n)return e.line+r.to(0);let s=0;const o=i.split(/\r?\n/);for(let e of o)s+=1+Math.floor(Math.max([...t(e)].length-1,0)/n);return e.lines(s)},Qr}function an(){if(ei)return ti;ei=1;const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"},e={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"},r="win32"===process.platform?e:t;return ti=r}function ln(){if(ii)return ri;ii=1;const t=vr(),e=an(),r=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"😃".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}}),i=Object.freeze({aborted:t.red(e.cross),done:t.green(e.tick),exited:t.yellow(e.cross),default:t.cyan("?")});return ri={styles:r,render:t=>r[t]||r.default,symbols:i,symbol:(t,e,r)=>e?i.aborted:r?i.exited:t?i.done:i.default,delimiter:r=>t.gray(r?e.ellipsis:e.pointerSmall),item:(r,i)=>t.gray(r?i?e.pointerSmall:"+":e.line)},ri}function un(){if(si)return ni;si=1;const t=sn();return ni=function(e,r){let i=String(t(e)||"").split(/\r?\n/);return r?i.map((t=>Math.ceil(t.length/r))).reduce(((t,e)=>t+e)):i.length}}function hn(){return ci||(ci=1,hi={action:Zr?Yr:(Zr=1,Yr=(t,e)=>{if(!t.meta||"escape"===t.name){if(t.ctrl){if("a"===t.name)return"first";if("c"===t.name)return"abort";if("d"===t.name)return"abort";if("e"===t.name)return"last";if("g"===t.name)return"reset"}if(e){if("j"===t.name)return"down";if("k"===t.name)return"up"}return"return"===t.name||"enter"===t.name?"submit":"backspace"===t.name?"delete":"delete"===t.name?"deleteForward":"abort"===t.name?"abort":"escape"===t.name?"exit":"tab"===t.name?"next":"pagedown"===t.name?"nextPage":"pageup"===t.name?"prevPage":"home"===t.name?"home":"end"===t.name?"end":"up"===t.name?"up":"down"===t.name?"down":"right"===t.name?"right":"left"===t.name&&"left"}}),clear:on(),style:ln(),strip:sn(),figures:an(),lines:un(),wrap:(ai||(ai=1,oi=(t,e={})=>{const r=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,e)=>(e.length+r.length>=i||t[t.length-1].length+e.length+1<i?t[t.length-1]+=` ${e}`:t.push(`${r}${e}`),t)),[r]).join("\n"))).join("\n")}),oi),entriesToDisplay:ui?li:(ui=1,li=(t,e,r)=>{r=r||e;let i=Math.min(e-r,t-Math.floor(r/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+r,e)}})}),hi}function cn(){if(fi)return di;fi=1;const t=u,{action:e}=hn(),r=h,{beep:i,cursor:n}=Dr(),s=vr();return di=class extends r{constructor(r={}){super(),this.firstRender=!0,this.in=r.stdin||process.stdin,this.out=r.stdout||process.stdout,this.onRender=(r.onRender||(()=>{})).bind(this);const i=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,i),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(t,r)=>{let i=e(r,s);!1===i?this._&&this._(t,r):"function"==typeof this[i]?this[i](r):this.bell()};this.close=()=>{this.out.write(n.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),i.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(i)}render(){this.onRender(s),this.firstRender&&(this.firstRender=!1)}}}function dn(){if(mi)return pi;mi=1;const t=vr(),e=cn(),{erase:r,cursor:i}=Dr(),{style:n,clear:s,lines:o,figures:a}=hn();return pi=class extends e{constructor(t={}){super(t),this.transform=n.render(t.style),this.scale=this.transform.scale,this.msg=t.message,this.initial=t.initial||"",this.validator=t.validate||(()=>!0),this.value="",this.errorMsg=t.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=s("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(t){this.placeholder||(this.cursor=this.cursor+t,this.cursorOffset+=t)}_(t,e){let r=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${r}${t}${i}`,this.red=!1,this.cursor=this.placeholder?0:r.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1),e=this.value.slice(this.cursor);this.value=`${t}${e}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor),e=this.value.slice(this.cursor+1);this.value=`${t}${e}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(o(this.outputError,this.out.columns)-1)+s(this.outputError,this.out.columns)),this.out.write(s(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,r,i)=>e+`\n${i?" ":a.pointerSmall} ${t.red().italic(r)}`),"")),this.out.write(r.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore+i.move(this.cursorOffset,0)))}}}function fn(){if(bi)return gi;bi=1;const t=vr(),e=cn(),{style:r,clear:i,figures:n,wrap:s,entriesToDisplay:o}=hn(),{cursor:a}=Dr();return gi=class extends e{constructor(t={}){super(t),this.msg=t.message,this.hint=t.hint||"- Use arrow-keys. Return to submit.",this.warn=t.warn||"- This option is disabled",this.cursor=t.initial||0,this.choices=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),value:t&&(void 0===t.value?e:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}))),this.optionsPerPage=t.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=i("",this.out.columns),this.render()}moveCursor(t){this.cursor=t,this.value=this.choices[t].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(t,e){if(" "===t)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(a.hide):this.out.write(i(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:l}=o(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let r=e;r<l;r++){let i,o,a="",u=this.choices[r];o=r===e&&e>0?n.arrowUp:r===l-1&&l<this.choices.length?n.arrowDown:" ",u.disabled?(i=this.cursor===r?t.gray().underline(u.title):t.strikethrough().gray(u.title),o=(this.cursor===r?t.bold().gray(n.pointer)+" ":"  ")+o):(i=this.cursor===r?t.cyan().underline(u.title):u.title,o=(this.cursor===r?t.cyan(n.pointer)+" ":"  ")+o,u.description&&this.cursor===r&&(a=` - ${u.description}`,(o.length+i.length+a.length>=this.out.columns||u.description.split(/\r?\n/).length>1)&&(a="\n"+s(u.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${i}${t.gray(a)}\n`}}this.out.write(this.outputText)}}}function pn(){if(wi)return yi;wi=1;const t=vr(),e=cn(),{style:r,clear:i}=hn(),{cursor:n,erase:s}=Dr();return yi=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=!!t.initial,this.active=t.active||"on",this.inactive=t.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(t,e){if(" "===t)this.value=!this.value;else if("1"===t)this.value=!0;else{if("0"!==t)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(s.line+n.to(0)+this.outputText))}}}function mn(){if(_i)return vi;_i=1;class t{constructor({token:t,date:e,parts:r,locales:i}){this.token=t,this.date=e||new Date,this.parts=r||[this],this.locales=i||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((r,i)=>i>e&&r instanceof t))}setTo(t){}prev(){let e=[].concat(this.parts).reverse();const r=e.indexOf(this);return e.find(((e,i)=>i>r&&e instanceof t))}toString(){return String(this.date)}}return vi=t}function gn(){if(Si)return Di;Si=1;const t=mn();return Di=class extends t{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}}function bn(){if(xi)return Ei;xi=1;const t=mn();return Ei=class extends t{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate(),e=this.date.getDay();return"DD"===this.token?String(t).padStart(2,"0"):"Do"===this.token?t+(r=t,1==(r%=10)?"st":2===r?"nd":3===r?"rd":"th"):"d"===this.token?e+1:"ddd"===this.token?this.locales.weekdaysShort[e]:"dddd"===this.token?this.locales.weekdays[e]:t;var r}},Ei}function yn(){if(ki)return Ci;ki=1;const t=mn();return Ci=class extends t{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}}function wn(){if(Ti)return Oi;Ti=1;const t=mn();return Oi=class extends t{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}}function vn(){if(Fi)return Ai;Fi=1;const t=mn();return Ai=class extends t{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}}function _n(){if(Mi)return Ri;Mi=1;const t=mn();return Ri=class extends t{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),e=this.token.length;return 2===e?String(t+1).padStart(2,"0"):3===e?this.locales.monthsShort[t]:4===e?this.locales.months[t]:String(t+1)}}}function Dn(){if(Ii)return Pi;Ii=1;const t=mn();return Pi=class extends t{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}}function Sn(){if(ji)return Bi;ji=1;const t=mn();return Bi=class extends t{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?t.substr(-2):t}}}function En(){if(Wi)return $i;Wi=1;const t=vr(),e=cn(),{style:r,clear:i,figures:n}=hn(),{erase:s,cursor:o}=Dr(),{DatePart:a,Meridiem:l,Day:u,Hours:h,Milliseconds:c,Minutes:d,Month:f,Seconds:p,Year:m}=Ni?Li:(Ni=1,Li={DatePart:mn(),Meridiem:gn(),Day:bn(),Hours:yn(),Milliseconds:wn(),Minutes:vn(),Month:_n(),Seconds:Dn(),Year:Sn()}),g=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,b={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new u(t),3:t=>new f(t),4:t=>new m(t),5:t=>new l(t),6:t=>new h(t),7:t=>new d(t),8:t=>new p(t),9:t=>new c(t)},y={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};return $i=class extends e{constructor(t={}){super(t),this.msg=t.message,this.cursor=0,this.typed="",this.locales=Object.assign(y,t.locales),this._date=t.initial||new Date,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.mask=t.mask||"YYYY-MM-DD HH:mm:ss",this.clear=i("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(t){t&&this._date.setTime(t.getTime())}set mask(t){let e;for(this.parts=[];e=g.exec(t);){let t=e.shift(),r=e.findIndex((t=>null!=t));this.parts.push(r in b?b[r]({token:e[r]||t,date:this.date,parts:this.parts,locales:this.locales}):e[r]||t)}let r=this.parts.reduce(((t,e)=>("string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t)),[]);this.parts.splice(0),this.parts.push(...r),this.reset()}moveCursor(t){this.typed="",this.cursor=t,this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof a))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let t=this.parts[this.cursor].prev();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}right(){let t=this.parts[this.cursor].next();if(null==t)return this.bell();this.moveCursor(this.parts.indexOf(t)),this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof a))),this.render()}_(t){/\d/.test(t)&&(this.typed+=t,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.parts.reduce(((e,r,i)=>e.concat(i!==this.cursor||this.done?r:t.cyan().underline(r.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((e,r,i)=>e+`\n${i?" ":n.pointerSmall} ${t.red().italic(r)}`),"")),this.out.write(s.line+o.to(0)+this.outputText))}},$i}function xn(){if(zi)return Ui;zi=1;const t=vr(),e=cn(),{cursor:r,erase:i}=Dr(),{style:n,figures:s,clear:o,lines:a}=hn(),l=/[0-9]/,u=t=>void 0!==t,h=(t,e)=>{let r=Math.pow(10,e);return Math.round(t*r)/r};return Ui=class extends e{constructor(t={}){super(t),this.transform=n.render(t.style),this.msg=t.message,this.initial=u(t.initial)?t.initial:"",this.float=!!t.float,this.round=t.round||2,this.inc=t.increment||1,this.min=u(t.min)?t.min:-1/0,this.max=u(t.max)?t.max:1/0,this.errorMsg=t.error||"Please Enter A Valid Value",this.validator=t.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${h(e,this.round)}`),this._value=h(e,this.round)):(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return"-"===t||"."===t&&this.float||l.test(t)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=""!==t?t:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let t=await this.validator(this.value);"string"==typeof t&&(this.errorMsg=t,t=!1),this.error=!t}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let t=this.value;this.value=""!==t?t:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let t=this.value.toString();if(0===t.length)return this.bell();this.value=this.parse(t=t.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(t,e){if(!this.valid(t))return this.bell();const r=Date.now();if(r-this.lastHit>1e3&&(this.typed=""),this.typed+=t,this.lastHit=r,this.color="cyan","."===t)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(a(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:t[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,r,i)=>e+`\n${i?" ":s.pointerSmall} ${t.red().italic(r)}`),"")),this.out.write(i.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore))}}}function Cn(){if(Gi)return Hi;Gi=1;const t=vr(),{cursor:e}=Dr(),r=cn(),{clear:i,figures:n,style:s,wrap:o,entriesToDisplay:a}=hn();return Hi=class extends r{constructor(t={}){super(t),this.msg=t.message,this.cursor=t.cursor||0,this.scrollIndex=t.cursor||0,this.hint=t.hint||"",this.warn=t.warn||"- This option is disabled -",this.minSelected=t.min,this.showMinError=!1,this.maxChoices=t.max,this.instructions=t.instructions,this.optionsPerPage=t.optionsPerPage||10,this.value=t.choices.map(((t,e)=>("string"==typeof t&&(t={title:t,value:e}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(void 0===t.value?e:t.value),selected:t&&t.selected,disabled:t&&t.disabled}))),this.clear=i("",this.out.columns),t.overrideRender||this.render()}reset(){this.value.map((t=>!t.selected)),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const t=this.value.filter((t=>t.selected));this.minSelected&&t.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((e=>e.selected=t)),this.render()}_(t,e){if(" "===t)this.handleSpaceToggle();else{if("a"!==t)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${n.arrowUp}/${n.arrowDown}: Highlight option\n    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,r,i,s){const a=(r.selected?t.green(n.radioOn):n.radioOff)+" "+s+" ";let l,u;return r.disabled?l=e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):(l=e===i?t.cyan().underline(r.title):r.title,e===i&&r.description&&(u=` - ${r.description}`,(a.length+l.length+u.length>=this.out.columns||r.description.split(/\r?\n/).length>1)&&(u="\n"+o(r.description,{margin:a.length,width:this.out.columns})))),a+l+t.gray(u||"")}paginateOptions(e){if(0===e.length)return t.red("No matches for this query.");let r,{startIndex:i,endIndex:s}=a(this.cursor,e.length,this.optionsPerPage),o=[];for(let t=i;t<s;t++)r=t===i&&i>0?n.arrowUp:t===s-1&&s<e.length?n.arrowDown:" ",o.push(this.renderOption(this.cursor,e[t],t,r));return"\n"+o.join("\n")}renderOptions(t){return this.done?"":this.paginateOptions(t)}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[s.symbol(this.done,this.aborted),t.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.value),this.out.write(this.clear+r),this.clear=i(r,this.out.columns)}},Hi}function kn(){if(qi)return Vi;qi=1;const t=vr(),e=cn(),{erase:r,cursor:i}=Dr(),{style:n,clear:s,figures:o,wrap:a,entriesToDisplay:l}=hn(),u=(t,e)=>t[e]&&(t[e].value||t[e].title||t[e]),h=(t,e)=>t[e]&&(t[e].title||t[e].value||t[e]);return Vi=class extends e{constructor(t={}){super(t),this.msg=t.message,this.suggest=t.suggest,this.choices=t.choices,this.initial="number"==typeof t.initial?t.initial:((t,e)=>{const r=t.findIndex((t=>t.value===e||t.title===e));return r>-1?r:void 0})(t.choices,t.initial),this.select=this.initial||t.cursor||0,this.i18n={noMatches:t.noMatches||"no matches found"},this.fallback=t.fallback||this.initial,this.clearFirst=t.clearFirst||!1,this.suggestions=[],this.input="",this.limit=t.limit||10,this.cursor=0,this.transform=n.render(t.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=s("",this.out.columns),this.complete(this.render),this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;return"number"==typeof this._fb?t=this.choices[this._fb]:"string"==typeof this._fb&&(t={title:this._fb}),t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t,this.suggestions.length>0?this.value=u(this.suggestions,t):this.value=this.fallback.value,this.fire()}async complete(t){const e=this.completing=this.suggest(this.input,this.choices),r=await e;if(this.completing!==e)return;this.suggestions=r.map(((t,e,r)=>({title:h(r,e),value:u(r,e),description:t.description}))),this.completing=!1;const i=Math.max(r.length-1,0);this.moveSelect(Math.min(i,this.select)),t&&t()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){let r=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${r}${t}${i}`,this.cursor=r.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let t=this.input.slice(0,this.cursor-1),e=this.input.slice(this.cursor);this.input=`${t}${e}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor),e=this.input.slice(this.cursor+1);this.input=`${t}${e}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,r,i,n){let s,l=i?o.arrowUp:n?o.arrowDown:" ",u=r?t.cyan().underline(e.title):e.title;return l=(r?t.cyan(o.pointer)+" ":"  ")+l,e.description&&(s=` - ${e.description}`,(l.length+u.length+s.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(s="\n"+a(e.description,{margin:3,width:this.out.columns}))),l+" "+u+t.gray(s||"")}render(){if(this.closed)return;this.firstRender?this.out.write(i.hide):this.out.write(s(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:o}=l(this.select,this.choices.length,this.limit);if(this.outputText=[n.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),n.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const r=this.suggestions.slice(e,o).map(((t,r)=>this.renderOption(t,this.select===r+e,0===r&&e>0,r+e===o-1&&o<this.choices.length))).join("\n");this.outputText+="\n"+(r||t.gray(this.fallback.title))}this.out.write(r.line+i.to(0)+this.outputText)}},Vi}function On(){if(Zi)return Yi;Zi=1;const t=vr(),{cursor:e}=Dr(),r=Cn(),{clear:i,style:n,figures:s}=hn();return Yi=class extends r{constructor(t={}){t.overrideRender=!0,super(t),this.inputValue="",this.clear=i("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>!this.inputValue||(!("string"!=typeof t.title||!t.title.toLowerCase().includes(this.inputValue.toLowerCase()))||!("string"!=typeof t.value||!t.value.toLowerCase().includes(this.inputValue.toLowerCase())))));const e=this.filteredOptions.findIndex((e=>e===t));this.cursor=e<0?0:e,this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected)t.selected=!1,this.render();else{if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();t.selected=!0,this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t,this.updateFilteredOptions()}_(t,e){" "===t?this.handleSpaceToggle():this.handleInputChange(t)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${s.arrowUp}/${s.arrowDown}: Highlight option\n    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}\n`}renderOption(e,r,i){let n;return n=r.disabled?e===i?t.gray().underline(r.title):t.strikethrough().gray(r.title):e===i?t.cyan().underline(r.title):r.title,(r.selected?t.green(s.radioOn):s.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ");const e=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(t.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(e.hide),super.render();let r=[n.symbol(this.done,this.aborted),t.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(r+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),r+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+r),this.clear=i(r,this.out.columns)}},Yi}function Tn(){if(Ji)return Ki;Ji=1;const t=vr(),e=cn(),{style:r,clear:i}=hn(),{erase:n,cursor:s}=Dr();return Ki=class extends e{constructor(t={}){super(t),this.msg=t.message,this.value=t.initial,this.initialValue=!!t.initial,this.yesMsg=t.yes||"yes",this.yesOption=t.yesOption||"(Y/n)",this.noMsg=t.no||"no",this.noOption=t.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(t,e){return"y"===t.toLowerCase()?(this.value=!0,this.submit()):"n"===t.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(n.line+s.to(0)+this.outputText))}}}function An(){return tn||(tn=1,function(){const t=nn,e=Xi?Qi:(Xi=1,Qi={TextPrompt:dn(),SelectPrompt:fn(),TogglePrompt:pn(),DatePrompt:En(),NumberPrompt:xn(),MultiselectPrompt:Cn(),AutocompletePrompt:kn(),AutocompleteMultiselectPrompt:On(),ConfirmPrompt:Tn()}),r=t=>t;function i(t,i,n={}){return new Promise(((s,o)=>{const a=new e[t](i),l=n.onAbort||r,u=n.onSubmit||r,h=n.onExit||r;a.on("state",i.onState||r),a.on("submit",(t=>s(u(t)))),a.on("exit",(t=>s(h(t)))),a.on("abort",(t=>o(l(t))))}))}t.text=t=>i("TextPrompt",t),t.password=e=>(e.style="password",t.text(e)),t.invisible=e=>(e.style="invisible",t.text(e)),t.number=t=>i("NumberPrompt",t),t.date=t=>i("DatePrompt",t),t.confirm=t=>i("ConfirmPrompt",t),t.list=t=>{const e=t.separator||",";return i("TextPrompt",t,{onSubmit:t=>t.split(e).map((t=>t.trim()))})},t.toggle=t=>i("TogglePrompt",t),t.select=t=>i("SelectPrompt",t),t.multiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return i("MultiselectPrompt",t,{onAbort:e,onSubmit:e})},t.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const e=t=>t.filter((t=>t.selected)).map((t=>t.value));return i("AutocompleteMultiselectPrompt",t,{onAbort:e,onSubmit:e})};const n=(t,e)=>Promise.resolve(e.filter((e=>e.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));t.autocomplete=t=>(t.suggest=t.suggest||n,t.choices=[].concat(t.choices||[]),i("AutocompletePrompt",t))}()),nn}var Fn=function(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let e=0,r=process.versions.node.split(".").map(Number);for(;e<t.length;e++){if(r[e]>t[e])return!1;if(t[e]>r[e])return!0}return!1}("8.6.0")?function(){if(gr)return mr;function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(t,e)}(t))||e){r&&(t=r);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function s(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function a(t){s(o,i,n,a,l,"next",t)}function l(t){s(o,i,n,a,l,"throw",t)}a(void 0)}))}}gr=1;const a=qr(),l=["suggest","format","onState","validate","onRender","type"],u=()=>{};function h(){return c.apply(this,arguments)}function c(){return c=o((function*(t=[],{onSubmit:r=u,onCancel:n=u}={}){const s={},c=h._override||{};let f,p,m,g,b,y;t=[].concat(t);const w=function(){var t=o((function*(t,e,r=!1){if(r||!t.validate||!0===t.validate(e))return t.format?yield t.format(e,s):e}));return function(e,r){return t.apply(this,arguments)}}();var v,_=i(t);try{for(_.s();!(v=_.n()).done;){p=v.value;var D=p;if(g=D.name,b=D.type,"function"==typeof b&&(b=yield b(f,e({},s),p),p.type=b),b){for(let t in p){if(l.includes(t))continue;let r=p[t];p[t]="function"==typeof r?yield r(f,e({},s),y):r}if(y=p,"string"!=typeof p.message)throw new Error("prompt message is required");var S=p;if(g=S.name,b=S.type,void 0===a[b])throw new Error(`prompt type (${b}) is not defined`);if(void 0===c[p.name]||(f=yield w(p,c[p.name]),void 0===f)){try{f=h._injected?d(h._injected,p.initial):yield a[b](p),s[g]=f=yield w(p,f,!0),m=yield r(p,f,s)}catch(t){m=!(yield n(p,s))}if(m)return s}else s[g]=f}}}catch(t){_.e(t)}finally{_.f()}return s})),c.apply(this,arguments)}function d(t,e){const r=t.shift();if(r instanceof Error)throw r;return void 0===r?e:r}return mr=Object.assign(h,{prompt:h,prompts:a,inject:function(t){h._injected=(h._injected||[]).concat(t)},override:function(t){h._override=Object.assign({},t)}})}():function(){if(rn)return en;rn=1;const t=An(),e=["suggest","format","onState","validate","onRender","type"],r=()=>{};async function i(s=[],{onSubmit:o=r,onCancel:a=r}={}){const l={},u=i._override||{};let h,c,d,f,p,m;s=[].concat(s);const g=async(t,e,r=!1)=>{if(r||!t.validate||!0===t.validate(e))return t.format?await t.format(e,l):e};for(c of s)if(({name:f,type:p}=c),"function"==typeof p&&(p=await p(h,{...l},c),c.type=p),p){for(let t in c){if(e.includes(t))continue;let r=c[t];c[t]="function"==typeof r?await r(h,{...l},m):r}if(m=c,"string"!=typeof c.message)throw new Error("prompt message is required");if(({name:f,type:p}=c),void 0===t[p])throw new Error(`prompt type (${p}) is not defined`);if(void 0===u[c.name]||(h=await g(c,u[c.name]),void 0===h)){try{h=i._injected?n(i._injected,c.initial):await t[p](c),l[f]=h=await g(c,h,!0),d=await o(c,h,l)}catch(t){d=!await a(c,l)}if(d)return l}else l[f]=h}return l}function n(t,e){const r=t.shift();if(r instanceof Error)throw r;return void 0===r?e:r}return en=Object.assign(i,{prompt:i,prompts:t,inject:function(t){i._injected=(i._injected||[]).concat(t)},override:function(t){i._override=Object.assign({},t)}})}(),Rn=x(Fn),Mn={exports:{}},Pn={},In={exports:{}},Bn={exports:{}};const jn=(t,e)=>{for(const r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};Bn.exports=jn,Bn.exports.default=jn;const Ln=Bn.exports,Nn=new WeakMap,$n=(t,e={})=>{if("function"!=typeof t)throw new TypeError("Expected a function");let r,i=0;const n=t.displayName||t.name||"<anonymous>",s=function(...o){if(Nn.set(s,++i),1===i)r=t.apply(this,o),t=null;else if(!0===e.throw)throw new Error(`Function \`${n}\` can only be called once`);return r};return Ln(s,t),Nn.set(s,i),s};In.exports=$n,In.exports.default=$n,In.exports.callCount=t=>{if(!Nn.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Nn.get(t)};var Wn,Un=In.exports,zn={exports:{}},Hn={exports:{}};var Gn=E.process;const Vn=function(t){return t&&"object"==typeof t&&"function"==typeof t.removeListener&&"function"==typeof t.emit&&"function"==typeof t.reallyExit&&"function"==typeof t.listeners&&"function"==typeof t.kill&&"number"==typeof t.pid&&"function"==typeof t.on};if(Vn(Gn)){var qn,Yn=c,Zn=(Wn||(Wn=1,(as=Hn).exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&as.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&as.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")),Hn.exports),Kn=/^win/i.test(Gn.platform),Jn=h;"function"!=typeof Jn&&(Jn=Jn.EventEmitter),Gn.__signal_exit_emitter__?qn=Gn.__signal_exit_emitter__:((qn=Gn.__signal_exit_emitter__=new Jn).count=0,qn.emitted={}),qn.infinite||(qn.setMaxListeners(1/0),qn.infinite=!0),zn.exports=function(t,e){if(!Vn(E.process))return function(){};Yn.equal(typeof t,"function","a callback must be provided for exit handler"),!1===es&&rs();var r="exit";e&&e.alwaysLast&&(r="afterexit");return qn.on(r,t),function(){qn.removeListener(r,t),0===qn.listeners("exit").length&&0===qn.listeners("afterexit").length&&Qn()}};var Qn=function(){es&&Vn(E.process)&&(es=!1,Zn.forEach((function(t){try{Gn.removeListener(t,ts[t])}catch(t){}})),Gn.emit=ss,Gn.reallyExit=is,qn.count-=1)};zn.exports.unload=Qn;var Xn=function(t,e,r){qn.emitted[t]||(qn.emitted[t]=!0,qn.emit(t,e,r))},ts={};Zn.forEach((function(t){ts[t]=function(){Vn(E.process)&&(Gn.listeners(t).length===qn.count&&(Qn(),Xn("exit",null,t),Xn("afterexit",null,t),Kn&&"SIGHUP"===t&&(t="SIGINT"),Gn.kill(Gn.pid,t)))}})),zn.exports.signals=function(){return Zn};var es=!1,rs=function(){!es&&Vn(E.process)&&(es=!0,qn.count+=1,Zn=Zn.filter((function(t){try{return Gn.on(t,ts[t]),!0}catch(t){return!1}})),Gn.emit=os,Gn.reallyExit=ns)};zn.exports.load=rs;var is=Gn.reallyExit,ns=function(t){Vn(E.process)&&(Gn.exitCode=t||0,Xn("exit",Gn.exitCode,null),Xn("afterexit",Gn.exitCode,null),is.call(Gn,Gn.exitCode))},ss=Gn.emit,os=function(t,e){if("exit"===t&&Vn(E.process)){void 0!==e&&(Gn.exitCode=e);var r=ss.apply(this,arguments);return Xn("exit",Gn.exitCode,null),Xn("afterexit",Gn.exitCode,null),r}return ss.apply(this,arguments)}}else zn.exports=function(){return function(){}};var as;const ls=zn.exports;var us=Un((()=>{ls((()=>{process.stderr.write("[?25h")}),{alwaysLast:!0})}));!function(t){const e=us;let r=!1;t.show=(t=process.stderr)=>{t.isTTY&&(r=!1,t.write("[?25h"))},t.hide=(t=process.stderr)=>{t.isTTY&&(e(),r=!0,t.write("[?25l"))},t.toggle=(e,i)=>{void 0!==e&&(r=e),r?t.show(i):t.hide(i)}}(Pn);var hs={dots:{interval:80,frames:["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]},dots2:{interval:80,frames:["⣾","⣽","⣻","⢿","⡿","⣟","⣯","⣷"]},dots3:{interval:80,frames:["⠋","⠙","⠚","⠞","⠖","⠦","⠴","⠲","⠳","⠓"]},dots4:{interval:80,frames:["⠄","⠆","⠇","⠋","⠙","⠸","⠰","⠠","⠰","⠸","⠙","⠋","⠇","⠆"]},dots5:{interval:80,frames:["⠋","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋"]},dots6:{interval:80,frames:["⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠴","⠲","⠒","⠂","⠂","⠒","⠚","⠙","⠉","⠁"]},dots7:{interval:80,frames:["⠈","⠉","⠋","⠓","⠒","⠐","⠐","⠒","⠖","⠦","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈"]},dots8:{interval:80,frames:["⠁","⠁","⠉","⠙","⠚","⠒","⠂","⠂","⠒","⠲","⠴","⠤","⠄","⠄","⠤","⠠","⠠","⠤","⠦","⠖","⠒","⠐","⠐","⠒","⠓","⠋","⠉","⠈","⠈"]},dots9:{interval:80,frames:["⢹","⢺","⢼","⣸","⣇","⡧","⡗","⡏"]},dots10:{interval:80,frames:["⢄","⢂","⢁","⡁","⡈","⡐","⡠"]},dots11:{interval:100,frames:["⠁","⠂","⠄","⡀","⢀","⠠","⠐","⠈"]},dots12:{interval:80,frames:["⢀⠀","⡀⠀","⠄⠀","⢂⠀","⡂⠀","⠅⠀","⢃⠀","⡃⠀","⠍⠀","⢋⠀","⡋⠀","⠍⠁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⢈⠩","⡀⢙","⠄⡙","⢂⠩","⡂⢘","⠅⡘","⢃⠨","⡃⢐","⠍⡐","⢋⠠","⡋⢀","⠍⡁","⢋⠁","⡋⠁","⠍⠉","⠋⠉","⠋⠉","⠉⠙","⠉⠙","⠉⠩","⠈⢙","⠈⡙","⠈⠩","⠀⢙","⠀⡙","⠀⠩","⠀⢘","⠀⡘","⠀⠨","⠀⢐","⠀⡐","⠀⠠","⠀⢀","⠀⡀"]},dots13:{interval:80,frames:["⣼","⣹","⢻","⠿","⡟","⣏","⣧","⣶"]},dots8Bit:{interval:80,frames:["⠀","⠁","⠂","⠃","⠄","⠅","⠆","⠇","⡀","⡁","⡂","⡃","⡄","⡅","⡆","⡇","⠈","⠉","⠊","⠋","⠌","⠍","⠎","⠏","⡈","⡉","⡊","⡋","⡌","⡍","⡎","⡏","⠐","⠑","⠒","⠓","⠔","⠕","⠖","⠗","⡐","⡑","⡒","⡓","⡔","⡕","⡖","⡗","⠘","⠙","⠚","⠛","⠜","⠝","⠞","⠟","⡘","⡙","⡚","⡛","⡜","⡝","⡞","⡟","⠠","⠡","⠢","⠣","⠤","⠥","⠦","⠧","⡠","⡡","⡢","⡣","⡤","⡥","⡦","⡧","⠨","⠩","⠪","⠫","⠬","⠭","⠮","⠯","⡨","⡩","⡪","⡫","⡬","⡭","⡮","⡯","⠰","⠱","⠲","⠳","⠴","⠵","⠶","⠷","⡰","⡱","⡲","⡳","⡴","⡵","⡶","⡷","⠸","⠹","⠺","⠻","⠼","⠽","⠾","⠿","⡸","⡹","⡺","⡻","⡼","⡽","⡾","⡿","⢀","⢁","⢂","⢃","⢄","⢅","⢆","⢇","⣀","⣁","⣂","⣃","⣄","⣅","⣆","⣇","⢈","⢉","⢊","⢋","⢌","⢍","⢎","⢏","⣈","⣉","⣊","⣋","⣌","⣍","⣎","⣏","⢐","⢑","⢒","⢓","⢔","⢕","⢖","⢗","⣐","⣑","⣒","⣓","⣔","⣕","⣖","⣗","⢘","⢙","⢚","⢛","⢜","⢝","⢞","⢟","⣘","⣙","⣚","⣛","⣜","⣝","⣞","⣟","⢠","⢡","⢢","⢣","⢤","⢥","⢦","⢧","⣠","⣡","⣢","⣣","⣤","⣥","⣦","⣧","⢨","⢩","⢪","⢫","⢬","⢭","⢮","⢯","⣨","⣩","⣪","⣫","⣬","⣭","⣮","⣯","⢰","⢱","⢲","⢳","⢴","⢵","⢶","⢷","⣰","⣱","⣲","⣳","⣴","⣵","⣶","⣷","⢸","⢹","⢺","⢻","⢼","⢽","⢾","⢿","⣸","⣹","⣺","⣻","⣼","⣽","⣾","⣿"]},sand:{interval:80,frames:["⠁","⠂","⠄","⡀","⡈","⡐","⡠","⣀","⣁","⣂","⣄","⣌","⣔","⣤","⣥","⣦","⣮","⣶","⣷","⣿","⡿","⠿","⢟","⠟","⡛","⠛","⠫","⢋","⠋","⠍","⡉","⠉","⠑","⠡","⢁"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["⠂","-","–","—","–","-"]},pipe:{interval:100,frames:["┤","┘","┴","└","├","┌","┬","┐"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["✶","✸","✹","✺","✹","✷"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","´","-","_","_","_"]},hamburger:{interval:100,frames:["☱","☲","☴"]},growVertical:{interval:120,frames:["▁","▃","▄","▅","▆","▇","▆","▅","▄","▃"]},growHorizontal:{interval:120,frames:["▏","▎","▍","▌","▋","▊","▉","▊","▋","▌","▍","▎"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","°","O","o","."]},noise:{interval:100,frames:["▓","▒","░"]},bounce:{interval:120,frames:["⠁","⠂","⠄","⠂"]},boxBounce:{interval:120,frames:["▖","▘","▝","▗"]},boxBounce2:{interval:100,frames:["▌","▀","▐","▄"]},triangle:{interval:50,frames:["◢","◣","◤","◥"]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["◜","◠","◝","◞","◡","◟"]},circle:{interval:120,frames:["◡","⊙","◠"]},squareCorners:{interval:180,frames:["◰","◳","◲","◱"]},circleQuarters:{interval:120,frames:["◴","◷","◶","◵"]},circleHalves:{interval:50,frames:["◐","◓","◑","◒"]},squish:{interval:100,frames:["╫","╪"]},toggle:{interval:250,frames:["⊶","⊷"]},toggle2:{interval:80,frames:["▫","▪"]},toggle3:{interval:120,frames:["□","■"]},toggle4:{interval:100,frames:["■","□","▪","▫"]},toggle5:{interval:100,frames:["▮","▯"]},toggle6:{interval:300,frames:["ဝ","၀"]},toggle7:{interval:80,frames:["⦾","⦿"]},toggle8:{interval:100,frames:["◍","◌"]},toggle9:{interval:100,frames:["◉","◎"]},toggle10:{interval:100,frames:["㊂","㊀","㊁"]},toggle11:{interval:50,frames:["⧇","⧆"]},toggle12:{interval:120,frames:["☗","☖"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["←","↖","↑","↗","→","↘","↓","↙"]},arrow2:{interval:80,frames:["⬆️ ","↗️ ","➡️ ","↘️ ","⬇️ ","↙️ ","⬅️ ","↖️ "]},arrow3:{interval:120,frames:["▹▹▹▹▹","▸▹▹▹▹","▹▸▹▹▹","▹▹▸▹▹","▹▹▹▸▹","▹▹▹▹▸"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( ●    )","(  ●   )","(   ●  )","(    ● )","(     ●)","(    ● )","(   ●  )","(  ●   )","( ●    )","(●     )"]},smiley:{interval:200,frames:["😄 ","😝 "]},monkey:{interval:300,frames:["🙈 ","🙈 ","🙉 ","🙊 "]},hearts:{interval:100,frames:["💛 ","💙 ","💜 ","💚 ","❤️ "]},clock:{interval:100,frames:["🕛 ","🕐 ","🕑 ","🕒 ","🕓 ","🕔 ","🕕 ","🕖 ","🕗 ","🕘 ","🕙 ","🕚 "]},earth:{interval:180,frames:["🌍 ","🌎 ","🌏 "]},material:{interval:17,frames:["█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","██████▁▁▁▁▁▁▁▁▁▁▁▁▁▁","███████▁▁▁▁▁▁▁▁▁▁▁▁▁","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","██████████▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","█████████████▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁██████████████▁▁▁▁","▁▁▁██████████████▁▁▁","▁▁▁▁█████████████▁▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁██████████████▁▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁██████████████▁","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁██████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁█████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁████████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁███████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁██████████","▁▁▁▁▁▁▁▁▁▁▁▁████████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁██████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","█▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","██▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","███▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","████▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","█████▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","██████▁▁▁▁▁▁▁▁▁▁▁▁▁█","████████▁▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","█████████▁▁▁▁▁▁▁▁▁▁▁","███████████▁▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","████████████▁▁▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","██████████████▁▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁██████████████▁▁▁▁▁","▁▁▁█████████████▁▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁████████████▁▁▁","▁▁▁▁▁▁███████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁█████████▁▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁█████████▁▁","▁▁▁▁▁▁▁▁▁▁█████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁████████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁███████▁","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁███████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁████","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁███","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁██","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁█","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁","▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁"]},moon:{interval:80,frames:["🌑 ","🌒 ","🌓 ","🌔 ","🌕 ","🌖 ","🌗 ","🌘 "]},runner:{interval:140,frames:["🚶 ","🏃 "]},pong:{interval:80,frames:["▐⠂       ▌","▐⠈       ▌","▐ ⠂      ▌","▐ ⠠      ▌","▐  ⡀     ▌","▐  ⠠     ▌","▐   ⠂    ▌","▐   ⠈    ▌","▐    ⠂   ▌","▐    ⠠   ▌","▐     ⡀  ▌","▐     ⠠  ▌","▐      ⠂ ▌","▐      ⠈ ▌","▐       ⠂▌","▐       ⠠▌","▐       ⡀▌","▐      ⠠ ▌","▐      ⠂ ▌","▐     ⠈  ▌","▐     ⠂  ▌","▐    ⠠   ▌","▐    ⡀   ▌","▐   ⠠    ▌","▐   ⠂    ▌","▐  ⠈     ▌","▐  ⠂     ▌","▐ ⠠      ▌","▐ ⡀      ▌","▐⠠       ▌"]},shark:{interval:120,frames:["▐|\\____________▌","▐_|\\___________▌","▐__|\\__________▌","▐___|\\_________▌","▐____|\\________▌","▐_____|\\_______▌","▐______|\\______▌","▐_______|\\_____▌","▐________|\\____▌","▐_________|\\___▌","▐__________|\\__▌","▐___________|\\_▌","▐____________|\\▌","▐____________/|▌","▐___________/|_▌","▐__________/|__▌","▐_________/|___▌","▐________/|____▌","▐_______/|_____▌","▐______/|______▌","▐_____/|_______▌","▐____/|________▌","▐___/|_________▌","▐__/|__________▌","▐_/|___________▌","▐/|____________▌"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["☀️ ","☀️ ","☀️ ","🌤 ","⛅️ ","🌥 ","☁️ ","🌧 ","🌨 ","🌧 ","🌨 ","🌧 ","🌨 ","⛈ ","🌨 ","🌧 ","🌨 ","☁️ ","🌥 ","⛅️ ","🌤 ","☀️ ","☀️ "]},christmas:{interval:400,frames:["🌲","🎄"]},grenade:{interval:80,frames:["،  ","′  "," ´ "," ‾ ","  ⸌","  ⸊","  |","  ⁎","  ⁕"," ෴ ","  ⁓","   ","   ","   "]},point:{interval:125,frames:["∙∙∙","●∙∙","∙●∙","∙∙●","∙∙∙"]},layer:{interval:150,frames:["-","=","≡"]},betaWave:{interval:80,frames:["ρββββββ","βρβββββ","ββρββββ","βββρβββ","ββββρββ","βββββρβ","ββββββρ"]},fingerDance:{interval:160,frames:["🤘 ","🤟 ","🖖 ","✋ ","🤚 ","👆 "]},fistBump:{interval:80,frames:["🤜　　　　🤛 ","🤜　　　　🤛 ","🤜　　　　🤛 ","　🤜　　🤛　 ","　　🤜🤛　　 ","　🤜✨🤛　　 ","🤜　✨　🤛　 "]},soccerHeader:{interval:80,frames:[" 🧑⚽️       🧑 ","🧑  ⚽️      🧑 ","🧑   ⚽️     🧑 ","🧑    ⚽️    🧑 ","🧑     ⚽️   🧑 ","🧑      ⚽️  🧑 ","🧑       ⚽️🧑  ","🧑      ⚽️  🧑 ","🧑     ⚽️   🧑 ","🧑    ⚽️    🧑 ","🧑   ⚽️     🧑 ","🧑  ⚽️      🧑 "]},mindblown:{interval:160,frames:["😐 ","😐 ","😮 ","😮 ","😦 ","😦 ","😧 ","😧 ","🤯 ","💥 ","✨ ","　 ","　 ","　 "]},speaker:{interval:160,frames:["🔈 ","🔉 ","🔊 ","🔉 "]},orangePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 "]},bluePulse:{interval:100,frames:["🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},orangeBluePulse:{interval:100,frames:["🔸 ","🔶 ","🟠 ","🟠 ","🔶 ","🔹 ","🔷 ","🔵 ","🔵 ","🔷 "]},timeTravel:{interval:100,frames:["🕛 ","🕚 ","🕙 ","🕘 ","🕗 ","🕖 ","🕕 ","🕔 ","🕓 ","🕒 ","🕑 ","🕐 "]},aesthetic:{interval:80,frames:["▰▱▱▱▱▱▱","▰▰▱▱▱▱▱","▰▰▰▱▱▱▱","▰▰▰▰▱▱▱","▰▰▰▰▰▱▱","▰▰▰▰▰▰▱","▰▰▰▰▰▰▰","▰▱▱▱▱▱▱"]},dwarfFortress:{interval:80,frames:[" ██████£££  ","☺██████£££  ","☺██████£££  ","☺▓█████£££  ","☺▓█████£££  ","☺▒█████£££  ","☺▒█████£££  ","☺░█████£££  ","☺░█████£££  ","☺ █████£££  "," ☺█████£££  "," ☺█████£££  "," ☺▓████£££  "," ☺▓████£££  "," ☺▒████£££  "," ☺▒████£££  "," ☺░████£££  "," ☺░████£££  "," ☺ ████£££  ","  ☺████£££  ","  ☺████£££  ","  ☺▓███£££  ","  ☺▓███£££  ","  ☺▒███£££  ","  ☺▒███£££  ","  ☺░███£££  ","  ☺░███£££  ","  ☺ ███£££  ","   ☺███£££  ","   ☺███£££  ","   ☺▓██£££  ","   ☺▓██£££  ","   ☺▒██£££  ","   ☺▒██£££  ","   ☺░██£££  ","   ☺░██£££  ","   ☺ ██£££  ","    ☺██£££  ","    ☺██£££  ","    ☺▓█£££  ","    ☺▓█£££  ","    ☺▒█£££  ","    ☺▒█£££  ","    ☺░█£££  ","    ☺░█£££  ","    ☺ █£££  ","     ☺█£££  ","     ☺█£££  ","     ☺▓£££  ","     ☺▓£££  ","     ☺▒£££  ","     ☺▒£££  ","     ☺░£££  ","     ☺░£££  ","     ☺ £££  ","      ☺£££  ","      ☺£££  ","      ☺▓££  ","      ☺▓££  ","      ☺▒££  ","      ☺▒££  ","      ☺░££  ","      ☺░££  ","      ☺ ££  ","       ☺££  ","       ☺££  ","       ☺▓£  ","       ☺▓£  ","       ☺▒£  ","       ☺▒£  ","       ☺░£  ","       ☺░£  ","       ☺ £  ","        ☺£  ","        ☺£  ","        ☺▓  ","        ☺▓  ","        ☺▒  ","        ☺▒  ","        ☺░  ","        ☺░  ","        ☺   ","        ☺  &","        ☺ ☼&","       ☺ ☼ &","       ☺☼  &","      ☺☼  & ","      ‼   & ","     ☺   &  ","    ‼    &  ","   ☺    &   ","  ‼     &   "," ☺     &    ","‼      &    ","      &     ","      &     ","     &   ░  ","     &   ▒  ","    &    ▓  ","    &    £  ","   &    ░£  ","   &    ▒£  ","  &     ▓£  ","  &     ££  "," &     ░££  "," &     ▒££  ","&      ▓££  ","&      £££  ","      ░£££  ","      ▒£££  ","      ▓£££  ","      █£££  ","     ░█£££  ","     ▒█£££  ","     ▓█£££  ","     ██£££  ","    ░██£££  ","    ▒██£££  ","    ▓██£££  ","    ███£££  ","   ░███£££  ","   ▒███£££  ","   ▓███£££  ","   ████£££  ","  ░████£££  ","  ▒████£££  ","  ▓████£££  ","  █████£££  "," ░█████£££  "," ▒█████£££  "," ▓█████£££  "," ██████£££  "," ██████£££  "]}};const cs=Object.assign({},hs),ds=Object.keys(cs);Object.defineProperty(cs,"random",{get(){const t=Math.floor(Math.random()*ds.length),e=ds[t];return cs[e]}});var fs=cs,ps=()=>"win32"!==process.platform||(Boolean(process.env.CI)||Boolean(process.env.WT_SESSION)||"vscode"===process.env.TERM_PROGRAM||"xterm-256color"===process.env.TERM||"alacritty"===process.env.TERM);const ms=br,gs=ps,bs={info:ms.blue("ℹ"),success:ms.green("✔"),warning:ms.yellow("⚠"),error:ms.red("✖")},ys={info:ms.blue("i"),success:ms.green("√"),warning:ms.yellow("‼"),error:ms.red("×")};var ws=gs()?bs:ys;const vs=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")};var _s=t=>"string"==typeof t?t.replace(vs(),""):t,Ds={exports:{}},Ss={exports:{}};!function(t){var e=function(){function t(e,i,n,s){"object"==typeof i&&(n=i.depth,s=i.prototype,i.filter,i=i.circular);var o=[],a=[],l="undefined"!=typeof Buffer;return void 0===i&&(i=!0),void 0===n&&(n=1/0),function e(n,u){if(null===n)return null;if(0==u)return n;var h,c;if("object"!=typeof n)return n;if(t.__isArray(n))h=[];else if(t.__isRegExp(n))h=new RegExp(n.source,r(n)),n.lastIndex&&(h.lastIndex=n.lastIndex);else if(t.__isDate(n))h=new Date(n.getTime());else{if(l&&Buffer.isBuffer(n))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(n.length):new Buffer(n.length),n.copy(h),h;void 0===s?(c=Object.getPrototypeOf(n),h=Object.create(c)):(h=Object.create(s),c=s)}if(i){var d=o.indexOf(n);if(-1!=d)return a[d];o.push(n),a.push(h)}for(var f in n){var p;c&&(p=Object.getOwnPropertyDescriptor(c,f)),p&&null==p.set||(h[f]=e(n[f],u-1))}return h}(e,n)}function e(t){return Object.prototype.toString.call(t)}function r(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=r,t}();t.exports&&(t.exports=e)}(Ss);var Es=Ss.exports,xs=function(t,e){return t=t||{},Object.keys(e).forEach((function(r){void 0===t[r]&&(t[r]=Es(e[r]))})),t},Cs=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],ks={nul:0,control:0};function Os(t,e){if("string"!=typeof t)return Ts(t,e);for(var r=0,i=0;i<t.length;i++){var n=Ts(t.charCodeAt(i),e);if(n<0)return-1;r+=n}return r}function Ts(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,r=0,i=Cs.length-1;if(t<Cs[0][0]||t>Cs[i][1])return!1;for(;i>=r;)if(e=Math.floor((r+i)/2),t>Cs[e][1])r=e+1;else{if(!(t<Cs[e][0]))return!0;i=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}Ds.exports=function(t){return Os(t,ks)},Ds.exports.config=function(t){return t=xs(t||{},ks),function(e){return Os(e,t)}};var As,Fs,Rs,Ms,Ps,Is,Bs=Ds.exports,js={exports:{}},Ls={exports:{}};function Ns(){return Fs?As:(Fs=1,As=d)}function $s(){if(Ms)return Rs;function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e,r){return e&&function(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}Ms=1;var s=f.Buffer,o=p.inspect,a=o&&o.custom||"inspect";function l(t,e,r){s.prototype.copy.call(t,e,r)}return Rs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return i(t,[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return s.alloc(0);for(var e=s.allocUnsafe(t>>>0),r=this.head,i=0;r;)l(r.data,e,i),i+=r.data.length,r=r.next;return e}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,i=e.data;for(t-=i.length;e=e.next;){var n=e.data,s=t>n.length?n.length:t;if(s===n.length?i+=n:i+=n.slice(0,t),0===(t-=s)){s===n.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(t){var e=s.allocUnsafe(t),r=this.head,i=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var n=r.data,o=t>n.length?n.length:t;if(n.copy(e,e.length-t,0,o),0===(t-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,e}},{key:a,value:function(t,r){return o(this,e(e({},r),{},{depth:0,customInspect:!1}))}}]),t}(),Rs}function Ws(){if(Is)return Ps;function t(t,i){r(t,i),e(t)}function e(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function r(t,e){t.emit("error",e)}return Is=1,Ps={destroy:function(i,n){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(n?n(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(r,this,i)):process.nextTick(r,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,(function(r){!n&&r?s._writableState?s._writableState.errorEmitted?process.nextTick(e,s):(s._writableState.errorEmitted=!0,process.nextTick(t,s,r)):process.nextTick(t,s,r):n?(process.nextTick(e,s),n(r)):process.nextTick(e,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,i=t._writableState;r&&r.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}},Ps}var Us,zs,Hs,Gs={};function Vs(){if(Us)return Gs;Us=1;const t={};function e(e,r,i){i||(i=Error);class n extends i{constructor(t,e,i){super(function(t,e,i){return"string"==typeof r?r:r(t,e,i)}(t,e,i))}}n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function r(t,e){if(Array.isArray(t)){const r=t.length;return t=t.map((t=>String(t))),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:2===r?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}return`of ${e} ${String(t)}`}return e("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),e("ERR_INVALID_ARG_TYPE",(function(t,e,i){let n;var s;let o;if("string"==typeof e&&(s="not ",e.substr(0,s.length)===s)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))o=`The ${t} ${n} ${r(e,"type")}`;else{const i=function(t,e,r){return"number"!=typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";o=`The "${t}" ${i} ${n} ${r(e,"type")}`}return o+=". Received type "+typeof i,o}),TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Gs.codes=t,Gs}function qs(){if(Hs)return zs;Hs=1;var t=Vs().codes.ERR_INVALID_OPT_VALUE;return zs={getHighWaterMark:function(e,r,i,n){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(r,n,i);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new t(n?i:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}},zs}var Ys,Zs={exports:{}},Ks={exports:{}};try{var Js=require("util");if("function"!=typeof Js.inherits)throw"";Zs.exports=Js.inherits}catch(t){Zs.exports=(Ys||(Ys=1,"function"==typeof Object.create?Ks.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ks.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}),Ks.exports)}var Qs,Xs,to,eo,ro,io,no=Zs.exports;function so(){return Xs?Qs:(Xs=1,Qs=p.deprecate)}function oo(){if(eo)return to;function t(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;t.entry=null;for(;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}var e;eo=1,to=D,D.WritableState=_;var r={deprecate:so()},i=Ns(),n=f.Buffer,s=(void 0!==E?E:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,a=Ws(),l=qs().getHighWaterMark,u=Vs().codes,h=u.ERR_INVALID_ARG_TYPE,c=u.ERR_METHOD_NOT_IMPLEMENTED,d=u.ERR_MULTIPLE_CALLBACK,p=u.ERR_STREAM_CANNOT_PIPE,m=u.ERR_STREAM_DESTROYED,g=u.ERR_STREAM_NULL_VALUES,b=u.ERR_STREAM_WRITE_AFTER_END,y=u.ERR_UNKNOWN_ENCODING,w=a.errorOrDestroy;function v(){}function _(r,i,n){e=e||ao(),r=r||{},"boolean"!=typeof n&&(n=i instanceof e),this.objectMode=!!r.objectMode,n&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=l(this,r,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===r.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new d;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,n){--e.pendingcb,r?(process.nextTick(n,i),process.nextTick(T,t,e),t._writableState.errorEmitted=!0,w(t,i)):(n(i),t._writableState.errorEmitted=!0,w(t,i),T(t,e))}(t,r,i,e,n);else{var s=k(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||C(t,r),i?process.nextTick(x,t,r,s,n):x(t,r,s,n)}}(i,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==r.emitClose,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function D(t){var r=this instanceof(e=e||ao());if(!r&&!o.call(D,this))return new D(t);this._writableState=new _(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),i.call(this)}function S(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function x(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),T(t,e)}function C(e,r){r.bufferProcessing=!0;var i=r.bufferedRequest;if(e._writev&&i&&i.next){var n=r.bufferedRequestCount,s=new Array(n),o=r.corkedRequestsFree;o.entry=i;for(var a=0,l=!0;i;)s[a]=i,i.isBuf||(l=!1),i=i.next,a+=1;s.allBuffers=l,S(e,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new t(r),r.bufferedRequestCount=0}else{for(;i;){var u=i.chunk,h=i.encoding,c=i.callback;if(S(e,r,!1,r.objectMode?1:u.length,u,h,c),i=i.next,r.bufferedRequestCount--,r.writing)break}null===i&&(r.lastBufferedRequest=null)}r.bufferedRequest=i,r.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(r){e.pendingcb--,r&&w(t,r),e.prefinished=!0,t.emit("prefinish"),T(t,e)}))}function T(t,e){var r=k(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var i=t._readableState;(!i||i.autoDestroy&&i.endEmitted)&&t.destroy()}return r}return no(D,i),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(_.prototype,"buffer",{get:r.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(t){return!!o.call(this,t)||this===D&&(t&&t._writableState instanceof _)}})):o=function(t){return t instanceof this},D.prototype.pipe=function(){w(this,new p)},D.prototype.write=function(t,e,r){var i,o=this._writableState,a=!1,l=!o.objectMode&&(i=t,n.isBuffer(i)||i instanceof s);return l&&!n.isBuffer(t)&&(t=function(t){return n.from(t)}(t)),"function"==typeof e&&(r=e,e=null),l?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=v),o.ending?function(t,e){var r=new b;w(t,r),process.nextTick(e,r)}(this,r):(l||function(t,e,r,i){var n;return null===r?n=new g:"string"==typeof r||e.objectMode||(n=new h("chunk",["string","Buffer"],r)),!n||(w(t,n),process.nextTick(i,n),!1)}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,r,i,s,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=n.from(e,r));return e}(e,i,s);i!==a&&(r=!0,s="buffer",i=a)}var l=e.objectMode?1:i.length;e.length+=l;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:s,isBuf:r,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else S(t,e,!1,l,i,s,o);return u}(this,o,l,t,e,r)),a},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||C(this,t))},D.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new y(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(t,e,r){r(new c("_write()"))},D.prototype._writev=null,D.prototype.end=function(t,e,r){var i=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||function(t,e,r){e.ending=!0,T(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,i,r),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),D.prototype.destroy=a.destroy,D.prototype._undestroy=a.undestroy,D.prototype._destroy=function(t,e){e(t)},to}function ao(){if(io)return ro;io=1;var t=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};ro=o;var e=Fo(),r=oo();no(o,e);for(var i=t(r.prototype),n=0;n<i.length;n++){var s=i[n];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(t){if(!(this instanceof o))return new o(t);e.call(this,t),r.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||process.nextTick(l,this)}function l(t){t.end()}return Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),ro}var lo,uo,ho,co,fo,po,mo,go,bo,yo,wo,vo,_o,Do,So,Eo,xo={},Co={exports:{}};function ko(){if(uo)return xo;uo=1;var t=(lo||(lo=1,function(t,e){var r=f,i=r.Buffer;function n(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),n(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(Co,Co.exports)),Co.exports).Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var i;switch(this.encoding=function(r){var i=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof i&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return i||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,i=4;break;case"utf8":this.fillLast=n,i=4;break;case"base64":this.text=a,this.end=l,i=3;break;default:return this.write=u,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(i)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}return xo.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var s=i(e[n]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},xo}function Oo(){if(co)return ho;co=1;var t=Vs().codes.ERR_STREAM_PREMATURE_CLOSE;function e(){}return ho=function r(i,n,s){if("function"==typeof n)return r(i,null,n);n||(n={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];t.apply(this,i)}}}(s||e);var o=n.readable||!1!==n.readable&&i.readable,a=n.writable||!1!==n.writable&&i.writable,l=function(){i.writable||h()},u=i._writableState&&i._writableState.finished,h=function(){a=!1,u=!0,o||s.call(i)},c=i._readableState&&i._readableState.endEmitted,d=function(){o=!1,c=!0,a||s.call(i)},f=function(t){s.call(i,t)},p=function(){var e;return o&&!c?(i._readableState&&i._readableState.ended||(e=new t),s.call(i,e)):a&&!u?(i._writableState&&i._writableState.ended||(e=new t),s.call(i,e)):void 0},m=function(){i.req.on("finish",h)};return!function(t){return t.setHeader&&"function"==typeof t.abort}(i)?a&&!i._writableState&&(i.on("end",l),i.on("close",l)):(i.on("complete",h),i.on("abort",p),i.req?m():i.on("request",m)),i.on("end",d),i.on("finish",h),!1!==n.error&&i.on("error",f),i.on("close",p),function(){i.removeListener("complete",h),i.removeListener("abort",p),i.removeListener("request",m),i.req&&i.req.removeListener("finish",h),i.removeListener("end",l),i.removeListener("close",l),i.removeListener("finish",h),i.removeListener("end",d),i.removeListener("error",f),i.removeListener("close",p)}},ho}function To(){if(po)return fo;var t;function e(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}po=1;var r=Oo(),i=Symbol("lastResolve"),n=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function h(t,e){return{value:t,done:e}}function c(t){var e=t[i];if(null!==e){var r=t[u].read();null!==r&&(t[a]=null,t[i]=null,t[n]=null,e(h(r,!1)))}}function d(t){process.nextTick(c,t)}var f=Object.getPrototypeOf((function(){})),p=Object.setPrototypeOf((t={get stream(){return this[u]},next:function(){var t=this,e=this[s];if(null!==e)return Promise.reject(e);if(this[o])return Promise.resolve(h(void 0,!0));if(this[u].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[s]?r(t[s]):e(h(void 0,!0))}))}));var r,i=this[a];if(i)r=new Promise(function(t,e){return function(r,i){t.then((function(){e[o]?r(h(void 0,!0)):e[l](r,i)}),i)}}(i,this));else{var n=this[u].read();if(null!==n)return Promise.resolve(h(n,!1));r=new Promise(this[l])}return this[a]=r,r}},e(t,Symbol.asyncIterator,(function(){return this})),e(t,"return",(function(){var t=this;return new Promise((function(e,r){t[u].destroy(null,(function(t){t?r(t):e(h(void 0,!0))}))}))})),t),f);return fo=function(t){var c,f=Object.create(p,(e(c={},u,{value:t,writable:!0}),e(c,i,{value:null,writable:!0}),e(c,n,{value:null,writable:!0}),e(c,s,{value:null,writable:!0}),e(c,o,{value:t._readableState.endEmitted,writable:!0}),e(c,l,{value:function(t,e){var r=f[u].read();r?(f[a]=null,f[i]=null,f[n]=null,t(h(r,!1))):(f[i]=t,f[n]=e)},writable:!0}),c));return f[a]=null,r(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=f[n];return null!==e&&(f[a]=null,f[i]=null,f[n]=null,e(t)),void(f[s]=t)}var r=f[i];null!==r&&(f[a]=null,f[i]=null,f[n]=null,r(h(void 0,!0))),f[o]=!0})),t.on("readable",d.bind(null,f)),f},fo}function Ao(){if(go)return mo;function t(t,e,r,i,n,s,o){try{var a=t[s](o),l=a.value}catch(t){return void r(t)}a.done?e(l):Promise.resolve(l).then(i,n)}function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function r(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}go=1;var i=Vs().codes.ERR_INVALID_ARG_TYPE;return mo=function(n,s,o){var a;if(s&&"function"==typeof s.next)a=s;else if(s&&s[Symbol.asyncIterator])a=s[Symbol.asyncIterator]();else{if(!s||!s[Symbol.iterator])throw new i("iterable",["Iterable"],s);a=s[Symbol.iterator]()}var l=new n(function(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?e(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({objectMode:!0},o)),u=!1;function h(){return c.apply(this,arguments)}function c(){var e;return e=function*(){try{var t=yield a.next(),e=t.value;t.done?l.push(null):l.push(yield e)?h():u=!1}catch(t){l.destroy(t)}},c=function(){var r=this,i=arguments;return new Promise((function(n,s){var o=e.apply(r,i);function a(e){t(o,n,s,a,l,"next",e)}function l(e){t(o,n,s,a,l,"throw",e)}a(void 0)}))},c.apply(this,arguments)}return l._read=function(){u||(u=!0,h())},l},mo}function Fo(){if(yo)return bo;var t;yo=1,bo=x,x.ReadableState=S,h.EventEmitter;var e=function(t,e){return t.listeners(e).length},r=Ns(),i=f.Buffer,n=(void 0!==E?E:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var s,o=p;s=o&&o.debuglog?o.debuglog("stream"):function(){};var a,l,u,c=$s(),d=Ws(),m=qs().getHighWaterMark,g=Vs().codes,b=g.ERR_INVALID_ARG_TYPE,y=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;no(x,r);var _=d.errorOrDestroy,D=["error","close","destroy","pause","resume"];function S(e,r,i){t=t||ao(),e=e||{},"boolean"!=typeof i&&(i=r instanceof t),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(a||(a=ko().StringDecoder),this.decoder=new a(e.encoding),this.encoding=e.encoding)}function x(e){if(t=t||ao(),!(this instanceof x))return new x(e);var i=this instanceof t;this._readableState=new S(e,this,i),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),r.call(this)}function C(t,e,r,o,a){s("readableAddChunk",e);var l,u=t._readableState;if(null===e)u.reading=!1,function(t,e){if(s("onEofChunk"),e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?A(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,F(t)))}(t,u);else if(a||(l=function(t,e){var r;s=e,i.isBuffer(s)||s instanceof n||"string"==typeof e||void 0===e||t.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],e));var s;return r}(u,e)),l)_(t,l);else if(u.objectMode||e&&e.length>0)if("string"==typeof e||u.objectMode||Object.getPrototypeOf(e)===i.prototype||(e=function(t){return i.from(t)}(e)),o)u.endEmitted?_(t,new v):k(t,u,e,!0);else if(u.ended)_(t,new y);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(e=u.decoder.write(e),u.objectMode||0!==e.length?k(t,u,e,!1):R(t,u)):k(t,u,e,!1)}else o||(u.reading=!1,R(t,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function k(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&A(t)),R(t,e)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),x.prototype.destroy=d.destroy,x.prototype._undestroy=d.undestroy,x.prototype._destroy=function(t,e){e(t)},x.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=i.from(t,e),e=""),r=!0),C(this,t,e,!1,r)},x.prototype.unshift=function(t){return C(this,t,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(t){a||(a=ko().StringDecoder);var e=new a(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=O?t=O:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function A(t){var e=t._readableState;s("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(s("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(F,t))}function F(t){var e=t._readableState;s("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,j(t)}function R(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(M,t,e))}function M(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(s("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function P(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function I(t){s("readable nexttick read 0"),t.read(0)}function B(t,e){s("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),j(t),e.flowing&&!e.reading&&t.read(0)}function j(t){var e=t._readableState;for(s("flow",e.flowing);e.flowing&&null!==t.read(););}function L(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function N(t){var e=t._readableState;s("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick($,e,t))}function $(t,e){if(s("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function W(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}return x.prototype.read=function(t){s("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return s("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?N(this):A(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&N(this),null;var i,n=e.needReadable;return s("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&s("length less than watermark",n=!0),e.ended||e.reading?s("reading or ended",n=!1):n&&(s("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(i=t>0?L(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&N(this)),null!==i&&this.emit("data",i),i},x.prototype._read=function(t){_(this,new w("_read()"))},x.prototype.pipe=function(t,r){var i=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,s("pipe count=%d opts=%j",n.pipesCount,r);var o=(!r||!1!==r.end)&&t!==process.stdout&&t!==process.stderr?l:m;function a(e,r){s("onunpipe"),e===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,s("cleanup"),t.removeListener("close",f),t.removeListener("finish",p),t.removeListener("drain",u),t.removeListener("error",d),t.removeListener("unpipe",a),i.removeListener("end",l),i.removeListener("end",m),i.removeListener("data",c),h=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}function l(){s("onend"),t.end()}n.endEmitted?process.nextTick(o):i.once("end",o),t.on("unpipe",a);var u=function(t){return function(){var r=t._readableState;s("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,0===r.awaitDrain&&e(t,"data")&&(r.flowing=!0,j(t))}}(i);t.on("drain",u);var h=!1;function c(e){s("ondata");var r=t.write(e);s("dest.write",r),!1===r&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==W(n.pipes,t))&&!h&&(s("false write response, pause",n.awaitDrain),n.awaitDrain++),i.pause())}function d(r){s("onerror",r),m(),t.removeListener("error",d),0===e(t,"error")&&_(t,r)}function f(){t.removeListener("finish",p),m()}function p(){s("onfinish"),t.removeListener("close",f),m()}function m(){s("unpipe"),i.unpipe(t)}return i.on("data",c),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",d),t.once("close",f),t.once("finish",p),t.emit("pipe",i),n.flowing||(s("pipe resume"),i.resume()),t},x.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=W(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},x.prototype.on=function(t,e){var i=r.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,s("on readable",n.length,n.reading),n.length?A(this):n.reading||process.nextTick(I,this))),i},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(t,e){var i=r.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(P,this),i},x.prototype.removeAllListeners=function(t){var e=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(P,this),e},x.prototype.resume=function(){var t=this._readableState;return t.flowing||(s("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(B,t,e))}(this,t)),t.paused=!1,this},x.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on("end",(function(){if(s("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(n){(s("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))})),t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var o=0;o<D.length;o++)t.on(D[o],this.emit.bind(this,D[o]));return this._read=function(e){s("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=To()),l(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),x._fromList=L,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(x.from=function(t,e){return void 0===u&&(u=Ao()),u(x,t,e)}),bo}function Ro(){if(vo)return wo;vo=1,wo=a;var t=Vs().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,i=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=t.ERR_TRANSFORM_WITH_LENGTH_0,s=ao();function o(t,e){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(null===n)return this.emit("error",new r);i.writechunk=null,i.writecb=null,null!=e&&this.push(e),n(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);s.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function l(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?u(this,null,null):this._flush((function(e,r){u(t,e,r)}))}function u(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new n;if(t._transformState.transforming)throw new i;return t.push(null)}return no(a,s),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},a.prototype._transform=function(t,r,i){i(new e("_transform()"))},a.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},a.prototype._destroy=function(t,e){s.prototype._destroy.call(this,t,(function(t){e(t)}))},wo}function Mo(){if(Eo)return So;var t;Eo=1;var e=Vs().codes,r=e.ERR_MISSING_ARGS,i=e.ERR_STREAM_DESTROYED;function n(t){if(t)throw t}function s(t){t()}function o(t,e){return t.pipe(e)}return So=function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];var u,h=function(t){return t.length?"function"!=typeof t[t.length-1]?n:t.pop():n}(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new r("streams");var c=a.map((function(e,r){var n=r<a.length-1;return function(e,r,n,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var o=!1;e.on("close",(function(){o=!0})),void 0===t&&(t=Oo()),t(e,{readable:r,writable:n},(function(t){if(t)return s(t);o=!0,s()}));var a=!1;return function(t){if(!o&&!a)return a=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new i("pipe"))}}(e,n,r>0,(function(t){u||(u=t),t&&c.forEach(s),n||(c.forEach(s),h(u))}))}));return a.reduce(o)},So}!function(t,e){var r=d;"disable"===process.env.READABLE_STREAM&&r?(t.exports=r.Readable,Object.assign(t.exports,r),t.exports.Stream=r):((e=t.exports=Fo()).Stream=r||e,e.Readable=e,e.Writable=oo(),e.Duplex=ao(),e.Transform=Ro(),e.PassThrough=function(){if(Do)return _o;Do=1,_o=e;var t=Ro();function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return no(e,t),e.prototype._transform=function(t,e,r){r(null,t)},_o}(),e.finished=Oo(),e.pipeline=Mo())}(Ls,Ls.exports);var Po=Ls.exports;const{Buffer:Io}=f,Bo=Symbol.for("BufferList");function jo(t){if(!(this instanceof jo))return new jo(t);jo._init.call(this,t)}jo._init=function(t){Object.defineProperty(this,Bo,{value:!0}),this._bufs=[],this.length=0,t&&this.append(t)},jo.prototype._new=function(t){return new jo(t)},jo.prototype._offset=function(t){if(0===t)return[0,0];let e=0;for(let r=0;r<this._bufs.length;r++){const i=e+this._bufs[r].length;if(t<i||r===this._bufs.length-1)return[r,t-e];e=i}},jo.prototype._reverseOffset=function(t){const e=t[0];let r=t[1];for(let t=0;t<e;t++)r+=this._bufs[t].length;return r},jo.prototype.get=function(t){if(t>this.length||t<0)return;const e=this._offset(t);return this._bufs[e[0]][e[1]]},jo.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},jo.prototype.copy=function(t,e,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return t||Io.alloc(0);if(i<=0)return t||Io.alloc(0);const n=!!t,s=this._offset(r),o=i-r;let a=o,l=n&&e||0,u=s[1];if(0===r&&i===this.length){if(!n)return 1===this._bufs.length?this._bufs[0]:Io.concat(this._bufs,this.length);for(let e=0;e<this._bufs.length;e++)this._bufs[e].copy(t,l),l+=this._bufs[e].length;return t}if(a<=this._bufs[s[0]].length-u)return n?this._bufs[s[0]].copy(t,e,u,u+a):this._bufs[s[0]].slice(u,u+a);n||(t=Io.allocUnsafe(o));for(let e=s[0];e<this._bufs.length;e++){const r=this._bufs[e].length-u;if(!(a>r)){this._bufs[e].copy(t,l,u,u+a),l+=r;break}this._bufs[e].copy(t,l,u),l+=r,a-=r,u&&(u=0)}return t.length>l?t.slice(0,l):t},jo.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return this._new();const r=this._offset(t),i=this._offset(e),n=this._bufs.slice(r[0],i[0]+1);return 0===i[1]?n.pop():n[n.length-1]=n[n.length-1].slice(0,i[1]),0!==r[1]&&(n[0]=n[0].slice(r[1])),this._new(n)},jo.prototype.toString=function(t,e,r){return this.slice(e,r).toString(t)},jo.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},jo.prototype.duplicate=function(){const t=this._new();for(let e=0;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},jo.prototype.append=function(t){if(null==t)return this;if(t.buffer)this._appendBuffer(Io.from(t.buffer,t.byteOffset,t.byteLength));else if(Array.isArray(t))for(let e=0;e<t.length;e++)this.append(t[e]);else if(this._isBufferList(t))for(let e=0;e<t._bufs.length;e++)this.append(t._bufs[e]);else"number"==typeof t&&(t=t.toString()),this._appendBuffer(Io.from(t));return this},jo.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},jo.prototype.indexOf=function(t,e,r){if(void 0===r&&"string"==typeof e&&(r=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=Io.from([t]):"string"==typeof t?t=Io.from(t,r):this._isBufferList(t)?t=t.slice():Array.isArray(t.buffer)?t=Io.from(t.buffer,t.byteOffset,t.byteLength):Io.isBuffer(t)||(t=Io.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;const i=this._offset(e);let n=i[0],s=i[1];for(;n<this._bufs.length;n++){const e=this._bufs[n];for(;s<e.length;){if(e.length-s>=t.length){const r=e.indexOf(t,s);if(-1!==r)return this._reverseOffset([n,r]);s=e.length-t.length+1}else{const e=this._reverseOffset([n,s]);if(this._match(e,t))return e;s++}}s=0}return-1},jo.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(let r=0;r<e.length;r++)if(this.get(t+r)!==e[r])return!1;return!0},function(){const t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const e in t)!function(e){jo.prototype[e]=null===t[e]?function(t,r){return this.slice(t,t+r)[e](0,r)}:function(r=0){return this.slice(r,r+t[e])[e](0)}}(e)}(),jo.prototype._isBufferList=function(t){return t instanceof jo||jo.isBufferList(t)},jo.isBufferList=function(t){return null!=t&&t[Bo]};var Lo=jo;const No=Po.Duplex,$o=Lo;function Wo(t){if(!(this instanceof Wo))return new Wo(t);if("function"==typeof t){this._callback=t;const e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)})),t=null}$o._init.call(this,t),No.call(this)}no(Wo,No),Object.assign(Wo.prototype,$o.prototype),Wo.prototype._new=function(t){return new Wo(t)},Wo.prototype._write=function(t,e,r){this._appendBuffer(t),"function"==typeof r&&r()},Wo.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},Wo.prototype.end=function(t){No.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},Wo.prototype._destroy=function(t,e){this._bufs.length=0,this.length=0,e(t)},Wo.prototype._isBufferList=function(t){return t instanceof Wo||t instanceof $o||Wo.isBufferList(t)},Wo.isBufferList=$o.isBufferList,js.exports=Wo,js.exports.BufferListStream=Wo,js.exports.BufferList=$o;var Uo=js.exports;const zo=u,Ho=br,Go=Pn,Vo=fs,qo=ws,Yo=_s,Zo=Bs,Ko=({stream:t=process.stdout}={})=>Boolean(t&&t.isTTY&&"dumb"!==process.env.TERM&&!("CI"in process.env)),Jo=ps,{BufferListStream:Qo}=Uo,Xo=Symbol("text"),ta=Symbol("prefixText");class ea{constructor(){this.requests=0,this.mutedStream=new Qo,this.mutedStream.pipe(process.stdout);const t=this;this.ourEmit=function(e,r,...i){const{stdin:n}=process;if(t.requests>0||n.emit===t.ourEmit){if("keypress"===e)return;"data"===e&&r.includes(3)&&process.emit("SIGINT"),Reflect.apply(t.oldEmit,this,[e,r,...i])}else Reflect.apply(process.stdin.emit,this,[e,r,...i])}}start(){this.requests++,1===this.requests&&this.realStart()}stop(){if(this.requests<=0)throw new Error("`stop` called more times than `start`");this.requests--,0===this.requests&&this.realStop()}realStart(){"win32"!==process.platform&&(this.rl=zo.createInterface({input:process.stdin,output:this.mutedStream}),this.rl.on("SIGINT",(()=>{0===process.listenerCount("SIGINT")?process.emit("SIGINT"):(this.rl.close(),process.kill(process.pid,"SIGINT"))})))}realStop(){"win32"!==process.platform&&(this.rl.close(),this.rl=void 0)}}let ra;class ia{constructor(t){ra||(ra=new ea),"string"==typeof t&&(t={text:t}),this.options={text:"",color:"cyan",stream:process.stderr,discardStdin:!0,...t},this.spinner=this.options.spinner,this.color=this.options.color,this.hideCursor=!1!==this.options.hideCursor,this.interval=this.options.interval||this.spinner.interval||100,this.stream=this.options.stream,this.id=void 0,this.isEnabled="boolean"==typeof this.options.isEnabled?this.options.isEnabled:Ko({stream:this.stream}),this.isSilent="boolean"==typeof this.options.isSilent&&this.options.isSilent,this.text=this.options.text,this.prefixText=this.options.prefixText,this.linesToClear=0,this.indent=this.options.indent,this.discardStdin=this.options.discardStdin,this.isDiscardingStdin=!1}get indent(){return this._indent}set indent(t=0){if(!(t>=0&&Number.isInteger(t)))throw new Error("The `indent` option must be an integer from 0 and up");this._indent=t}_updateInterval(t){void 0!==t&&(this.interval=t)}get spinner(){return this._spinner}set spinner(t){if(this.frameIndex=0,"object"==typeof t){if(void 0===t.frames)throw new Error("The given spinner must have a `frames` property");this._spinner=t}else if(Jo())if(void 0===t)this._spinner=Vo.dots;else{if("default"===t||!Vo[t])throw new Error(`There is no built-in spinner named '${t}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`);this._spinner=Vo[t]}else this._spinner=Vo.line;this._updateInterval(this._spinner.interval)}get text(){return this[Xo]}set text(t){this[Xo]=t,this.updateLineCount()}get prefixText(){return this[ta]}set prefixText(t){this[ta]=t,this.updateLineCount()}get isSpinning(){return void 0!==this.id}getFullPrefixText(t=this[ta],e=" "){return"string"==typeof t?t+e:"function"==typeof t?t()+e:""}updateLineCount(){const t=this.stream.columns||80,e=this.getFullPrefixText(this.prefixText,"-");this.lineCount=0;for(const r of Yo(e+"--"+this[Xo]).split("\n"))this.lineCount+=Math.max(1,Math.ceil(Zo(r)/t))}get isEnabled(){return this._isEnabled&&!this.isSilent}set isEnabled(t){if("boolean"!=typeof t)throw new TypeError("The `isEnabled` option must be a boolean");this._isEnabled=t}get isSilent(){return this._isSilent}set isSilent(t){if("boolean"!=typeof t)throw new TypeError("The `isSilent` option must be a boolean");this._isSilent=t}frame(){const{frames:t}=this.spinner;let e=t[this.frameIndex];this.color&&(e=Ho[this.color](e)),this.frameIndex=++this.frameIndex%t.length;return("string"==typeof this.prefixText&&""!==this.prefixText?this.prefixText+" ":"")+e+("string"==typeof this.text?" "+this.text:"")}clear(){if(!this.isEnabled||!this.stream.isTTY)return this;for(let t=0;t<this.linesToClear;t++)t>0&&this.stream.moveCursor(0,-1),this.stream.clearLine(),this.stream.cursorTo(this.indent);return this.linesToClear=0,this}render(){return this.isSilent||(this.clear(),this.stream.write(this.frame()),this.linesToClear=this.lineCount),this}start(t){return t&&(this.text=t),this.isSilent?this:this.isEnabled?(this.isSpinning||(this.hideCursor&&Go.hide(this.stream),this.discardStdin&&process.stdin.isTTY&&(this.isDiscardingStdin=!0,ra.start()),this.render(),this.id=setInterval(this.render.bind(this),this.interval)),this):(this.text&&this.stream.write(`- ${this.text}\n`),this)}stop(){return this.isEnabled?(clearInterval(this.id),this.id=void 0,this.frameIndex=0,this.clear(),this.hideCursor&&Go.show(this.stream),this.discardStdin&&process.stdin.isTTY&&this.isDiscardingStdin&&(ra.stop(),this.isDiscardingStdin=!1),this):this}succeed(t){return this.stopAndPersist({symbol:qo.success,text:t})}fail(t){return this.stopAndPersist({symbol:qo.error,text:t})}warn(t){return this.stopAndPersist({symbol:qo.warning,text:t})}info(t){return this.stopAndPersist({symbol:qo.info,text:t})}stopAndPersist(t={}){if(this.isSilent)return this;const e=t.prefixText||this.prefixText,r=t.text||this.text,i="string"==typeof r?" "+r:"";return this.stop(),this.stream.write(`${this.getFullPrefixText(e," ")}${t.symbol||" "}${i}\n`),this}}Mn.exports=function(t){return new ia(t)},Mn.exports.promise=(t,e)=>{if("function"!=typeof t.then)throw new TypeError("Parameter `action` must be a Promise");const r=new ia(e);return r.start(),(async()=>{try{await t,r.succeed()}catch{r.fail()}})(),r};var na=x(Mn.exports),sa={},oa={},aa={},la=E&&E.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),ua=E&&E.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ha=E&&E.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&la(e,t,r);return ua(e,t),e};Object.defineProperty(aa,"__esModule",{value:!0}),aa.parseFile=aa.parse=aa.NginxParser=aa.NginxParseTreeNode=void 0;const ca=ha(l);class da{constructor(t,e,r,i){this.comments=[],this.isVerbatim=!1,this.isBlock=!1,this.name=t,this.value=(e||"").toString(),this.parent=r,this.children=i||[],this.isBlock=!!i}}aa.NginxParseTreeNode=da;class fa{constructor(t){this.source="",this.index=-1,this.context=null,this.tree=null,this.error=null,this.options={templateSyntax:!1},this.source="",this.index=-1,this.tree=null,this.context=null,this.error=null,this.options=t||{templateSyntax:!1}}parse(t,e){this.source=t,this.index=0,this.tree=new da("[root]","",null,[]),this.context=new da("",null,this.tree),this.error=null;do{if(this.parseNext(),this.error)return void(e&&e(this.error,this.tree))}while(this.index<this.source.length);e&&e(this.error,this.tree)}setError(t){const e=(this.source.substring(0,this.index).match(/\n/g)||[]).length+1;this.error={message:t,index:this.index,line:e}}parseNext(){if(!this.context)throw new Error("context was not initialized");let t,e=this.source.charAt(this.index);if(e)switch(e){case"{":if(this.options.templateSyntax&&this.index<this.source.length-1&&"{"==this.source.charAt(this.index+1)){this.context.value+=this.readBlockPattern();break}case";":if(this.context.value=this.context.value.trim(),!this.context.parent)throw new Error("context.parent does not exist");if(!Array.isArray(this.context.parent.children))throw new Error("context.parent.children is not an array");if(this.context.parent.children.push(this.context),"{"===e&&this.context.name&&/_by_lua_block$/.test(this.context.name)){if(this.context.value){this.setError("Already a value set for Lua block (alert nginx-conf developers if your syntax is valid)");break}this.context.value=this.readVerbatimBlock(),this.context.isVerbatim=!0,this.context=new da("",null,this.context.parent)}else"{"===e&&(this.context.isBlock=!0),this.context=new da("",null,"{"===e?this.context:this.context.parent);this.index++;break;case"}":if(!this.context.parent)throw new Error("context.parent does not exist");this.context=new da("",null,this.context.parent.parent),this.index++;break;case"\n":case"\r":this.context.value&&(this.context.value+=e),this.index++;break;case"'":case'"':this.context.name?this.context.value+=this.readString():this.context.name=this.readString();break;case"#":this.context.comments.push(this.readComment());break;default:t=this.readWord();if("#"===t.trim()){this.index--;break}if(this.context.name)this.context.value+=t;else{this.context.name=t.trim();const e=/^\s*/.exec(this.source.substring(this.index));e&&(this.index+=e[0].length)}}}readString(){const t=this.source.charAt(this.index);let e=t;for(let r=this.index+1;r<this.source.length;r++)if("\\"!==this.source.charAt(r)){if(this.source.charAt(r)===t){e+=t;break}e+=this.source.charAt(r)}else e+=this.source.charAt(r)+this.source.charAt(r+1),r++;return e.length<2||e.charAt(e.length-1)!==t?(this.setError("Unable to parse quote-delimited value (probably an unclosed string)"),""):(this.index+=e.length,e)}readWord(){let t=/^(.+?)[\s;{}'"]/.exec(this.source.substring(this.index));if(!t)return this.setError("Word not terminated. Are you missing a semicolon?"),"";this.index+=t[1].length;let e=t[1];if("$"===e[e.length-1]&&"{"===this.source[this.index]){if(t=/^(.+?})/.exec(this.source.substring(this.index)),!t)return this.setError('Expected closing bracket "}" for interpolated variable'),e;e+=t[1],this.index+=t[1].length,/[\s{;]/.test(this.source[this.index])||(e+=this.readWord())}return e}readComment(){const t=/(.*?)(?:\r\n|\n|$)/.exec(this.source.substring(this.index));return this.index+=t?t[0].length:0,t?t[1].substring(1):""}readVerbatimBlock(){let t,e=0,r=0,i="";for(;t=this.source.charAt(this.index);){switch(t){case"}":r++;break;case"{":e++}if(i+=t,this.index++,e===r)break}return e!==r?(this.setError("Verbatim bock not terminated. Are you missing a closing curly bracket?"),""):i.replace(/^{/,"").replace(/}$/,"")}readBlockPattern(){const t=/^({{)(.+?)(}})/.exec(this.source.substring(this.index));return t?(this.index+=t[0].length,t[0]):(this.setError('Block not terminated. Are you missing "}}" ?'),"")}parseFile(t,e="utf8",r){ca.readFile(t,e,((t,e)=>{t?r&&r(t):this.parse(e,r)}))}}aa.NginxParser=fa;aa.parse=(t,e,r)=>{new fa(r).parse(t,e)};aa.parseFile=(t,e,r,i)=>{new fa(i).parseFile(t,e,r)};var pa=E&&E.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),ma=E&&E.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ga=E&&E.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&pa(e,t,r);return ma(e,t),e};Object.defineProperty(oa,"__esModule",{value:!0}),oa.NginxConfFile=void 0;const ba=ga(l),ya=ga(h),wa=ga(aa),va={_name:1,_value:1,_remove:1,_add:1,_getString:1,_root:1,toString:1,_comments:1,_isVerbatim:1,_addVerbatimBlock:1,__isBlock:1},_a=(t,e,r,i=!1)=>{const n=r.name;let s=r.value;const o=r.children,a=r.comments||[],l={_remove:(e,r)=>{r=Math.max(r||0,0);const i=l,n=i[e];if(!n)return l;if(n[r]){const e=n.splice(r,1);e.length&&t.emit("removed",e[0])}return i},_add:function(e,r,i,n,s={}){if(e in va)throw new Error(`The name "${e}" is reserved`);const o=l,a=_a(t,o,{name:e,value:(r||"").toString(),children:i||null,comments:n||[],isVerbatim:!!s.isVerbatim,isBlock:!!i,parent:null});return t.emit("added",a),o},_addVerbatimBlock:function(t,e,r){return l._add(t,e,null,r,{isVerbatim:!0})},_getString:function(e){const r=l;e=e||+!r._root;const i=new Array(e).join(t.tab);let n,s="";if(r._comments.length)for(n=0;n<r._comments.length;n++)s+="#"+r._comments[n]+"\n";s+=i+(r._root?"":r._name),r._isVerbatim?s+=" {"+(r._value||"")+"}":r._value&&(s+=" "+r._value);const o=Object.keys(l).filter((function(t){return"function"!=typeof r[t]})).map((function(t){return r[t]}));if(r.__isBlock||o.length){for(r._root||(s+=" {\n"),n=0;n<o.length;n++){const t=o[n];if(Array.isArray(t))for(let r=0;r<t.length;r++)s+=t[r]._getString(e+1)}r._root||(s+=i+"}\n")}else r._root||(r._isVerbatim||(s+=";"),s+="\n");return s},toString:function(){return l._getString(0)}};Object.defineProperty(l,"_value",{enumerable:!1,get:()=>s,set:e=>{if(e=e.toString(),s===e)return;const r=s;s=e,t.emit("changed",l,r)}});const u=(t,e)=>{Object.defineProperty(l,t,{enumerable:!1,value:e,writable:!1})};u("__isBlock",r.isBlock),u("_isVerbatim",r.isVerbatim),u("_name",n),u("_comments",a),i&&u("_root",!0);const h=l;if(n){const t=e[n];t?t.push(h):i||(e[n]=[h])}if(o)for(let e=0;e<o.length;e++)_a(t,h,o[e]);return h};class Da extends ya.EventEmitter{constructor(t,e={}){super(),this.files=[],this.tab=e.tab||"    ",this._name="NginxConfFile",this.liveListener=()=>{this.flush()},this.writeTimeout=null,this.nginx=_a(this,this,{name:"nginx",children:null,comments:[],isBlock:!1,isVerbatim:!1,parent:null,value:""},!0);const r=t.children||[];for(let t=0;t<r.length;t++){const e=r[t];_a(this,this.nginx,e)}}live(t){return-1===this.files.indexOf(t)&&(this.files.push(t),1===this.files.length&&(this.on("added",this.liveListener),this.on("removed",this.liveListener),this.on("changed",this.liveListener))),this}die(t){const e=this.files.indexOf(t);return-1!==e&&(this.files.splice(e,1),this.files.length||this.removeListener("added removed changed",this.liveListener)),this}write(t){if(!this.files.length)return void(t&&t(null,!1));const e=this.toString(),r=this.files.length,i=[];let n=0;for(const s of this.files)ba.writeFile(s,e,"utf8",(function(e){e&&i.push(e),n++,n===r&&t&&t(i.length?i:null,!0)}))}flush(t){this.writeTimeout&&clearTimeout(this.writeTimeout),this.writeTimeout=setTimeout((()=>{this.write(((e,r)=>{!e&&r&&this.emit("flushed"),t&&t(e)}))}),1)}toString(){return this.nginx.toString()}static create(t,e,r){let i;"function"==typeof e?(r=e,i={}):i=e||{},wa.parseFile(t,"utf8",((e,n)=>{e?r&&r(e):n?r&&r(null,new Da(n,i).live(t)):r&&r(new Error("tree could not be generated"))}))}static createFromSource(t,e,r){let i;"function"==typeof e?(r=e,i={}):i=e||{},wa.parse(t,((t,e)=>{t?r&&r(t):e?r&&r(null,new Da(e,i)):r&&r(new Error("tree could not be generated"))}))}}oa.NginxConfFile=Da,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.parseFile=t.NginxParser=t.NginxConfFile=void 0;var e=oa;Object.defineProperty(t,"NginxConfFile",{enumerable:!0,get:function(){return e.NginxConfFile}});var r=aa;Object.defineProperty(t,"NginxParser",{enumerable:!0,get:function(){return r.NginxParser}}),Object.defineProperty(t,"parseFile",{enumerable:!0,get:function(){return r.parseFile}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.parse}})}(sa);const Sa={info:yr.blue("ℹ"),success:yr.green("✨"),warning:yr.yellow("⚠️"),error:yr.red("✖️"),star:yr.cyan("✵"),arrow:yr.yellow("➦")},Ea={info:yr.blue("i"),success:yr.green("✔"),warning:yr.yellow("‼"),error:yr.red("✖️"),star:yr.cyan("✵"),arrow:yr.yellow("->")},xa=("win32"!==process.platform?"linux"!==process.env.TERM:Boolean(process.env.CI)||Boolean(process.env.WT_SESSION)||Boolean(process.env.TERMINUS_SUBLIME)||"{cmd::Cmder}"===process.env.ConEmuTask||"Terminus-Sublime"===process.env.TERM_PROGRAM||"vscode"===process.env.TERM_PROGRAM||"xterm-256color"===process.env.TERM||"alacritty"===process.env.TERM||"JetBrains-JediTerm"===process.env.TERMINAL_EMULATOR)?Sa:Ea,Ca=t=>l.existsSync(t),ka=t=>{try{return l.statSync(t).isDirectory()}catch(t){return!1}},Oa=t=>/^\/(?:[^/]+\/)*[^/]+$/.test(t),Ta=()=>{try{return require(`${process.cwd()}/publish.config.js`)}catch(t){return null}},Aa=async({host:t,port:e,username:r,password:i,ssh:n})=>{const s=na({text:yr.yellowBright(yr.cyan(`正在连接服务器: ${r}@${t}:${e} ...`))}).start();try{await n.connect({host:t,username:r,port:e,password:i,tryKeyboard:!0}),s.succeed(yr.greenBright("服务器连接成功!!!"))}catch(t){s.fail(yr.redBright(`服务器连接失败: ${t}`)),process.exit(1)}},Fa=(t,e,r,i)=>{var n;const s=null===(n=null==t?void 0:t[e])||void 0===n?void 0:n[r];return"isServer"===r&&void 0!==s?s:s||void(i&&console.log("\n"+xa.warning,yr.yellowBright(`未获取到项目 ${yr.cyan(e)}.${yr.cyan(r)} 的配置信息，请手动输入!\n`)))},Ra=async({host:t,port:e,username:r,password:i,projectName:n,publishConfig:s,command:o,nginxRemoteFilePath:a,nginxRestartPath:l,serviceRestartPath:u})=>{try{return await Rn([{name:"host",type:t||Fa(s,"serverInfo","host",!0)?null:"text",message:"host:",initial:Fa(s,"serverInfo","host")||"",validate:t=>!!t||"请输入host"},{name:"port",type:e||Fa(s,"serverInfo","port",!0)?null:"text",message:"端口号:",initial:Fa(s,"serverInfo","port")||"",validate:t=>!!t||"请输入端口号"},{name:"username",type:r||Fa(s,"serverInfo","username",!0)?null:"text",message:"用户名称:",initial:Fa(s,"serverInfo","username")||"",validate:t=>!!t||"请输入用户名称"},{name:"nginxRemoteFilePath",type:a||Fa(s,"nginxInfo","remoteFilePath","node"!==n)||"node"===n?null:"text",message:"服务器 nginx.conf 文件路径:",initial:Fa(s,"nginxInfo","remoteFilePath")||"",validate:t=>!!Oa(t)||"输入的服务器 nginx.conf 文件路径必须以 / 开头"},{name:"nginxRestartPath",type:l||Fa(s,"nginxInfo","restartPath","pull"!==o&&"nginx"===n||"push"===o)||!l&&!Fa(s,"nginxInfo","restartPath")&&"pull"===o||"node"===n?null:"text",message:"服务器 nginx 重启路径:",initial:Fa(s,"nginxInfo","restartPath")||"",validate:t=>!!Oa(t)||"输入的服务器 nginx 重启路径必须以 / 开头"},{name:"serviceRestartPath",type:u||Fa(s,"serviceInfo","restartPath","restart"===o&&"node"===n)||!u&&!Fa(s,"serviceInfo","restartPath")&&"restart"!==o||"nginx"===n?null:"text",message:"服务器 node 重启路径:",initial:Fa(s,"serviceInfo","restartPath")||"",validate:t=>!!Oa(t)||"输入的服务器 node 重启路径必须以 / 开头"},{name:"password",type:i?null:"password",message:"密码:",initial:"",validate:t=>!!t||"请输入密码"}],{onCancel:()=>{console.log(`\n${xa.error}`,yr.red("已取消输入配置信息\n")),process.exit(1)}})}catch(t){console.log(xa.error,yr.red(t)),process.exit(1)}},Ma=async t=>{const e=na({text:yr.yellowBright(`正在删除本地文件: ${yr.cyan(t)} ...`)}).start();return new Promise(((r,i)=>{try{const i=a.resolve(t);l.unlink(i,(i=>{null===i&&(e.succeed(yr.greenBright(`删除本地文件: ${yr.cyan(t)} 成功`)),r(1))}))}catch(r){console.error(yr.red(`Failed to delete file ${t}: ${r}`)),e.fail(yr.redBright(`删除本地文件: ${yr.cyan(t)} 失败`)),i(r),process.exit(1)}}))},Pa=async(t,e)=>{const r=na({text:yr.yellowBright(`正在删除服务器文件: ${yr.cyan(t)} ...`)}).start();try{await e.execCommand(`rm -rf ${t}`),r.succeed(yr.greenBright(`删除服务器文件: ${yr.cyan(`${t}`)} 成功`))}catch(e){r.fail(yr.redBright(`删除服务器文件: ${yr.cyan(`${t}`)} 失败，${e}`)),process.exit(1)}},Ia=async(t,e,r)=>{await(async(t,e,r)=>{const i=na({text:yr.yellowBright(`正在检查服务器 ${t} 文件是否有效...`)}).start();try{const{code:n,stderr:s}=await r.execCommand(`cd ${e} && ./nginx -t -c ${t}`);0===n&&s.includes("test is successful")?i.succeed(yr.greenBright(`服务器 ${yr.cyan(t)} 文件配置无误`)):(i.fail(yr.redBright(`服务器 ${yr.cyan(t)} 文件配置存在问题`)),process.exit(0))}catch(e){i.fail(yr.redBright(`服务器 ${yr.cyan(t)} 文件校验失败`)),process.exit(0)}})(t,e,r);const i=na({text:yr.yellowBright("正在重启 nginx 服务...")}).start();try{await r.execCommand(`cd ${e} && ./nginx -s reload`),i.succeed(yr.greenBright(`nginx 服务已重启: ${e}`)),Ca(`${process.cwd()}/nginx.conf`)&&await Ma(`${process.cwd()}/nginx.conf`),console.log(`\n${xa.success}`,yr.greenBright(`${yr.bold(`🎉 🎉 🎉 nginx 服务重启成功 ${e} 🎉 🎉 🎉`)}\n`))}catch(t){i.fail(yr.redBright(`重启 nginx 服务失败: ${t}`)),process.exit(0)}},Ba=async(t,e)=>{const r=na({text:yr.yellowBright(yr.cyan("正在重启服务..."))}).start();try{const{code:i,stderr:n}=await e.execCommand("pm2 delete 0"),{code:s,stderr:o}=await e.execCommand(`pm2 start ${t}/src/main.js`),{code:a,stdout:l}=await e.execCommand("pm2 list");0===i&&0===s&&0===a?(r.succeed(yr.greenBright(`服务启动成功: \n${l}`)),console.log(`\n${xa.success}`,yr.greenBright(`${yr.bold(`🎉 🎉 🎉 node 服务重启成功: ${yr.cyan(`${t}`)}!!! 🎉 🎉 🎉 \n`)}`))):(r.fail(yr.redBright(`服务启动失败: ${n||o}`)),process.exit(1))}catch(t){r.fail(yr.redBright(`服务启动失败: ${t}`)),process.exit(1)}};var ja={},La={fromCallback:function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise(((r,i)=>{e.push(((t,e)=>null!=t?i(t):r(e))),t.apply(this,e)}));t.apply(this,e)}),"name",{value:t.name})},fromPromise:function(t){return Object.defineProperty((function(...e){const r=e[e.length-1];if("function"!=typeof r)return t.apply(this,e);e.pop(),t.apply(this,e).then((t=>r(null,t)),r)}),"name",{value:t.name})}},Na=m,$a=process.cwd,Wa=null,Ua=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Wa||(Wa=$a.call(process)),Wa};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var za=process.chdir;process.chdir=function(t){Wa=null,za.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,za)}var Ha=function(t){Na.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,r,i){t.open(e,Na.O_WRONLY|Na.O_SYMLINK,r,(function(e,n){e?i&&i(e):t.fchmod(n,r,(function(e){t.close(n,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,r){var i,n=t.openSync(e,Na.O_WRONLY|Na.O_SYMLINK,r),s=!0;try{i=t.fchmodSync(n,r),s=!1}finally{if(s)try{t.closeSync(n)}catch(t){}else t.closeSync(n)}return i}}(t);t.lutimes||function(t){Na.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,r,i,n){t.open(e,Na.O_SYMLINK,(function(e,s){e?n&&n(e):t.futimes(s,r,i,(function(e){t.close(s,(function(t){n&&n(e||t)}))}))}))},t.lutimesSync=function(e,r,i){var n,s=t.openSync(e,Na.O_SYMLINK),o=!0;try{n=t.futimesSync(s,r,i),o=!1}finally{if(o)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return n}):t.futimes&&(t.lutimes=function(t,e,r,i){i&&process.nextTick(i)},t.lutimesSync=function(){})}(t);t.chown=i(t.chown),t.fchown=i(t.fchown),t.lchown=i(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=n(t.chownSync),t.fchownSync=n(t.fchownSync),t.lchownSync=n(t.lchownSync),t.chmodSync=r(t.chmodSync),t.fchmodSync=r(t.fchmodSync),t.lchmodSync=r(t.lchmodSync),t.stat=s(t.stat),t.fstat=s(t.fstat),t.lstat=s(t.lstat),t.statSync=o(t.statSync),t.fstatSync=o(t.fstatSync),t.lstatSync=o(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,r){r&&process.nextTick(r)},t.lchmodSync=function(){});t.chown&&!t.lchown&&(t.lchown=function(t,e,r,i){i&&process.nextTick(i)},t.lchownSync=function(){});"win32"===Ua&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function r(r,i,n){var s=Date.now(),o=0;e(r,i,(function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code||"EBUSY"===l.code)&&Date.now()-s<6e4)return setTimeout((function(){t.stat(i,(function(t,s){t&&"ENOENT"===t.code?e(r,i,a):n(l)}))}),o),void(o<100&&(o+=10));n&&n(l)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.rename));function e(e){return e?function(r,i,n){return e.call(t,r,i,(function(t){a(t)&&(t=null),n&&n.apply(this,arguments)}))}:e}function r(e){return e?function(r,i){try{return e.call(t,r,i)}catch(t){if(!a(t))throw t}}:e}function i(e){return e?function(r,i,n,s){return e.call(t,r,i,n,(function(t){a(t)&&(t=null),s&&s.apply(this,arguments)}))}:e}function n(e){return e?function(r,i,n){try{return e.call(t,r,i,n)}catch(t){if(!a(t))throw t}}:e}function s(e){return e?function(r,i,n){function s(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),n&&n.apply(this,arguments)}return"function"==typeof i&&(n=i,i=null),i?e.call(t,r,i,s):e.call(t,r,s)}:e}function o(e){return e?function(r,i){var n=i?e.call(t,r,i):e.call(t,r);return n&&(n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296)),n}:e}function a(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read="function"!=typeof t.read?t.read:function(e){function r(r,i,n,s,o,a){var l;if(a&&"function"==typeof a){var u=0;l=function(h,c,d){if(h&&"EAGAIN"===h.code&&u<10)return u++,e.call(t,r,i,n,s,o,l);a.apply(this,arguments)}}return e.call(t,r,i,n,s,o,l)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,e),r}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(l=t.readSync,function(e,r,i,n,s){for(var o=0;;)try{return l.call(t,e,r,i,n,s)}catch(t){if("EAGAIN"===t.code&&o<10){o++;continue}throw t}});var l};var Ga=d.Stream,Va=function(t){return{ReadStream:function e(r,i){if(!(this instanceof e))return new e(r,i);Ga.call(this);var n=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){n._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return n.emit("error",t),void(n.readable=!1);n.fd=e,n.emit("open",e),n._read()}))},WriteStream:function e(r,i){if(!(this instanceof e))return new e(r,i);Ga.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var n=Object.keys(i),s=0,o=n.length;s<o;s++){var a=n[s];this[a]=i[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}};var qa=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:Ya(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e},Ya=Object.getPrototypeOf||function(t){return t.__proto__};var Za,Ka,Ja=l,Qa=Ha,Xa=Va,tl=qa,el=p;function rl(t,e){Object.defineProperty(t,Za,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(Za=Symbol.for("graceful-fs.queue"),Ka=Symbol.for("graceful-fs.previous")):(Za="___graceful-fs.queue",Ka="___graceful-fs.previous");var il=function(){};if(el.debuglog?il=el.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(il=function(){var t=el.format.apply(el,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!Ja[Za]){var nl=E[Za]||[];rl(Ja,nl),Ja.close=function(t){function e(e,r){return t.call(Ja,e,(function(t){t||ul(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(e,Ka,{value:t}),e}(Ja.close),Ja.closeSync=function(t){function e(e){t.apply(Ja,arguments),ul()}return Object.defineProperty(e,Ka,{value:t}),e}(Ja.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){il(Ja[Za]),c.equal(Ja[Za].length,0)}))}E[Za]||rl(E,Ja[Za]);var sl,ol=al(tl(Ja));function al(t){Qa(t),t.gracefulify=al,t.createReadStream=function(e,r){return new t.ReadStream(e,r)},t.createWriteStream=function(e,r){return new t.WriteStream(e,r)};var e=t.readFile;t.readFile=function(t,r,i){"function"==typeof r&&(i=r,r=null);return function t(r,i,n,s){return e(r,i,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof n&&n.apply(this,arguments):ll([t,[r,i,n],e,s||Date.now(),Date.now()])}))}(t,r,i)};var r=t.writeFile;t.writeFile=function(t,e,i,n){"function"==typeof i&&(n=i,i=null);return function t(e,i,n,s,o){return r(e,i,n,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):ll([t,[e,i,n,s],r,o||Date.now(),Date.now()])}))}(t,e,i,n)};var i=t.appendFile;i&&(t.appendFile=function(t,e,r,n){"function"==typeof r&&(n=r,r=null);return function t(e,r,n,s,o){return i(e,r,n,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):ll([t,[e,r,n,s],i,o||Date.now(),Date.now()])}))}(t,e,r,n)});var n=t.copyFile;n&&(t.copyFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=0);return function t(e,r,i,s,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):ll([t,[e,r,i,s],n,o||Date.now(),Date.now()])}))}(t,e,r,i)});var s=t.readdir;t.readdir=function(t,e,r){"function"==typeof e&&(r=e,e=null);var i=o.test(process.version)?function(t,e,r,i){return s(t,n(t,e,r,i))}:function(t,e,r,i){return s(t,e,n(t,e,r,i))};return i(t,e,r);function n(t,e,r,n){return function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof r&&r.call(this,s,o)):ll([i,[t,e,r],s,n||Date.now(),Date.now()])}}};var o=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var a=Xa(t);d=a.ReadStream,f=a.WriteStream}var l=t.ReadStream;l&&(d.prototype=Object.create(l.prototype),d.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,r){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r),t.read())}))});var u=t.WriteStream;u&&(f.prototype=Object.create(u.prototype),f.prototype.open=function(){var t=this;m(t.path,t.flags,t.mode,(function(e,r){e?(t.destroy(),t.emit("error",e)):(t.fd=r,t.emit("open",r))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return d},set:function(t){d=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var h=d;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var c=f;function d(t,e){return this instanceof d?(l.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function f(t,e){return this instanceof f?(u.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return c},set:function(t){c=t},enumerable:!0,configurable:!0});var p=t.open;function m(t,e,r,i){return"function"==typeof r&&(i=r,r=null),function t(e,r,i,n,s){return p(e,r,i,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof n&&n.apply(this,arguments):ll([t,[e,r,i,n],o,s||Date.now(),Date.now()])}))}(t,e,r,i)}return t.open=m,t}function ll(t){il("ENQUEUE",t[0].name,t[1]),Ja[Za].push(t),hl()}function ul(){for(var t=Date.now(),e=0;e<Ja[Za].length;++e)Ja[Za][e].length>2&&(Ja[Za][e][3]=t,Ja[Za][e][4]=t);hl()}function hl(){if(clearTimeout(sl),sl=void 0,0!==Ja[Za].length){var t=Ja[Za].shift(),e=t[0],r=t[1],i=t[2],n=t[3],s=t[4];if(void 0===n)il("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-n>=6e4){il("TIMEOUT",e.name,r);var o=r.pop();"function"==typeof o&&o.call(null,i)}else{var a=Date.now()-s,l=Math.max(s-n,1);a>=Math.min(1.2*l,100)?(il("RETRY",e.name,r),e.apply(null,r.concat([n]))):Ja[Za].push(t)}void 0===sl&&(sl=setTimeout(hl,0))}}process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Ja.__patched&&(ol=al(Ja),Ja.__patched=!0),function(t){const e=La.fromCallback,r=ol,i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((t=>"function"==typeof r[t]));Object.assign(t,r),i.forEach((i=>{t[i]=e(r[i])})),t.exists=function(t,e){return"function"==typeof e?r.exists(t,e):new Promise((e=>r.exists(t,e)))},t.read=function(t,e,i,n,s,o){return"function"==typeof o?r.read(t,e,i,n,s,o):new Promise(((o,a)=>{r.read(t,e,i,n,s,((t,e,r)=>{if(t)return a(t);o({bytesRead:e,buffer:r})}))}))},t.write=function(t,e,...i){return"function"==typeof i[i.length-1]?r.write(t,e,...i):new Promise(((n,s)=>{r.write(t,e,...i,((t,e,r)=>{if(t)return s(t);n({bytesWritten:e,buffer:r})}))}))},t.readv=function(t,e,...i){return"function"==typeof i[i.length-1]?r.readv(t,e,...i):new Promise(((n,s)=>{r.readv(t,e,...i,((t,e,r)=>{if(t)return s(t);n({bytesRead:e,buffers:r})}))}))},t.writev=function(t,e,...i){return"function"==typeof i[i.length-1]?r.writev(t,e,...i):new Promise(((n,s)=>{r.writev(t,e,...i,((t,e,r)=>{if(t)return s(t);n({bytesWritten:e,buffers:r})}))}))},"function"==typeof r.realpath.native?t.realpath.native=e(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}(ja);var cl={},dl={};const fl=a;dl.checkPath=function(t){if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(fl.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}};const pl=ja,{checkPath:ml}=dl,gl=t=>"number"==typeof t?t:{mode:511,...t}.mode;cl.makeDir=async(t,e)=>(ml(t),pl.mkdir(t,{mode:gl(e),recursive:!0})),cl.makeDirSync=(t,e)=>(ml(t),pl.mkdirSync(t,{mode:gl(e),recursive:!0}));const bl=La.fromPromise,{makeDir:yl,makeDirSync:wl}=cl,vl=bl(yl);var _l={mkdirs:vl,mkdirsSync:wl,mkdirp:vl,mkdirpSync:wl,ensureDir:vl,ensureDirSync:wl};const Dl=La.fromPromise,Sl=ja;var El={pathExists:Dl((function(t){return Sl.access(t).then((()=>!0)).catch((()=>!1))})),pathExistsSync:Sl.existsSync};const xl=ja;var Cl={utimesMillis:(0,La.fromPromise)((async function(t,e,r){const i=await xl.open(t,"r+");let n=null;try{await xl.futimes(i,e,r)}finally{try{await xl.close(i)}catch(t){n=t}}if(n)throw n})),utimesMillisSync:function(t,e,r){const i=xl.openSync(t,"r+");return xl.futimesSync(i,e,r),xl.closeSync(i)}};const kl=ja,Ol=a,Tl=La.fromPromise;function Al(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function Fl(t,e){const r=Ol.resolve(t).split(Ol.sep).filter((t=>t)),i=Ol.resolve(e).split(Ol.sep).filter((t=>t));return r.every(((t,e)=>i[e]===t))}function Rl(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}var Ml={checkPaths:Tl((async function(t,e,r,i){const{srcStat:n,destStat:s}=await function(t,e,r){const i=r.dereference?t=>kl.stat(t,{bigint:!0}):t=>kl.lstat(t,{bigint:!0});return Promise.all([i(t),i(e).catch((t=>{if("ENOENT"===t.code)return null;throw t}))]).then((([t,e])=>({srcStat:t,destStat:e})))}(t,e,i);if(s){if(Al(n,s)){const i=Ol.basename(t),o=Ol.basename(e);if("move"===r&&i!==o&&i.toLowerCase()===o.toLowerCase())return{srcStat:n,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!n.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(n.isDirectory()&&Fl(t,e))throw new Error(Rl(t,e,r));return{srcStat:n,destStat:s}})),checkPathsSync:function(t,e,r,i){const{srcStat:n,destStat:s}=function(t,e,r){let i;const n=r.dereference?t=>kl.statSync(t,{bigint:!0}):t=>kl.lstatSync(t,{bigint:!0}),s=n(t);try{i=n(e)}catch(t){if("ENOENT"===t.code)return{srcStat:s,destStat:null};throw t}return{srcStat:s,destStat:i}}(t,e,i);if(s){if(Al(n,s)){const i=Ol.basename(t),o=Ol.basename(e);if("move"===r&&i!==o&&i.toLowerCase()===o.toLowerCase())return{srcStat:n,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!n.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(n.isDirectory()&&Fl(t,e))throw new Error(Rl(t,e,r));return{srcStat:n,destStat:s}},checkParentPaths:Tl((async function t(e,r,i,n){const s=Ol.resolve(Ol.dirname(e)),o=Ol.resolve(Ol.dirname(i));if(o===s||o===Ol.parse(o).root)return;let a;try{a=await kl.stat(o,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(Al(r,a))throw new Error(Rl(e,i,n));return t(e,r,o,n)})),checkParentPathsSync:function t(e,r,i,n){const s=Ol.resolve(Ol.dirname(e)),o=Ol.resolve(Ol.dirname(i));if(o===s||o===Ol.parse(o).root)return;let a;try{a=kl.statSync(o,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(Al(r,a))throw new Error(Rl(e,i,n));return t(e,r,o,n)},isSrcSubdir:Fl,areIdentical:Al};const Pl=ja,Il=a,{mkdirs:Bl}=_l,{pathExists:jl}=El,{utimesMillis:Ll}=Cl,Nl=Ml;async function $l(t,e,r){return!r.filter||r.filter(t,e)}async function Wl(t,e,r,i){const n=i.dereference?Pl.stat:Pl.lstat,s=await n(e);if(s.isDirectory())return async function(t,e,r,i,n){e||await Pl.mkdir(i);const s=await Pl.readdir(r);await Promise.all(s.map((async t=>{const e=Il.join(r,t),s=Il.join(i,t);if(!await $l(e,s,n))return;const{destStat:o}=await Nl.checkPaths(e,s,"copy",n);return Wl(o,e,s,n)}))),e||await Pl.chmod(i,t.mode)}(s,t,e,r,i);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return async function(t,e,r,i,n){if(!e)return Ul(t,r,i,n);if(n.overwrite)return await Pl.unlink(i),Ul(t,r,i,n);if(n.errorOnExist)throw new Error(`'${i}' already exists`)}(s,t,e,r,i);if(s.isSymbolicLink())return async function(t,e,r,i){let n=await Pl.readlink(e);i.dereference&&(n=Il.resolve(process.cwd(),n));if(!t)return Pl.symlink(n,r);let s=null;try{s=await Pl.readlink(r)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return Pl.symlink(n,r);throw t}i.dereference&&(s=Il.resolve(process.cwd(),s));if(Nl.isSrcSubdir(n,s))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${s}'.`);if(Nl.isSrcSubdir(s,n))throw new Error(`Cannot overwrite '${s}' with '${n}'.`);return await Pl.unlink(r),Pl.symlink(n,r)}(t,e,r,i);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}async function Ul(t,e,r,i){if(await Pl.copyFile(e,r),i.preserveTimestamps){128&t.mode||await function(t,e){return Pl.chmod(t,128|e)}(r,t.mode);const i=await Pl.stat(e);await Ll(r,i.atime,i.mtime)}return Pl.chmod(r,t.mode)}var zl=async function(t,e,r={}){"function"==typeof r&&(r={filter:r}),r.clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:i,destStat:n}=await Nl.checkPaths(t,e,"copy",r);if(await Nl.checkParentPaths(t,i,e,"copy"),!await $l(t,e,r))return;const s=Il.dirname(e);await jl(s)||await Bl(s),await Wl(n,t,e,r)};const Hl=ol,Gl=a,Vl=_l.mkdirsSync,ql=Cl.utimesMillisSync,Yl=Ml;function Zl(t,e,r,i){const n=(i.dereference?Hl.statSync:Hl.lstatSync)(e);if(n.isDirectory())return function(t,e,r,i,n){return e?Ql(r,i,n):function(t,e,r,i){return Hl.mkdirSync(r),Ql(e,r,i),Jl(r,t)}(t.mode,r,i,n)}(n,t,e,r,i);if(n.isFile()||n.isCharacterDevice()||n.isBlockDevice())return function(t,e,r,i,n){return e?function(t,e,r,i){if(i.overwrite)return Hl.unlinkSync(r),Kl(t,e,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(t,r,i,n):Kl(t,r,i,n)}(n,t,e,r,i);if(n.isSymbolicLink())return function(t,e,r,i){let n=Hl.readlinkSync(e);i.dereference&&(n=Gl.resolve(process.cwd(),n));if(t){let t;try{t=Hl.readlinkSync(r)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return Hl.symlinkSync(n,r);throw t}if(i.dereference&&(t=Gl.resolve(process.cwd(),t)),Yl.isSrcSubdir(n,t))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${t}'.`);if(Yl.isSrcSubdir(t,n))throw new Error(`Cannot overwrite '${t}' with '${n}'.`);return function(t,e){return Hl.unlinkSync(e),Hl.symlinkSync(t,e)}(n,r)}return Hl.symlinkSync(n,r)}(t,e,r,i);if(n.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(n.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function Kl(t,e,r,i){return Hl.copyFileSync(e,r),i.preserveTimestamps&&function(t,e,r){(function(t){return!(128&t)})(t)&&function(t,e){Jl(t,128|e)}(r,t);(function(t,e){const r=Hl.statSync(t);ql(e,r.atime,r.mtime)})(e,r)}(t.mode,e,r),Jl(r,t.mode)}function Jl(t,e){return Hl.chmodSync(t,e)}function Ql(t,e,r){Hl.readdirSync(t).forEach((i=>function(t,e,r,i){const n=Gl.join(e,t),s=Gl.join(r,t);if(i.filter&&!i.filter(n,s))return;const{destStat:o}=Yl.checkPathsSync(n,s,"copy",i);return Zl(o,n,s,i)}(i,t,e,r)))}var Xl=function(t,e,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:i,destStat:n}=Yl.checkPathsSync(t,e,"copy",r);if(Yl.checkParentPathsSync(t,i,e,"copy"),r.filter&&!r.filter(t,e))return;const s=Gl.dirname(e);return Hl.existsSync(s)||Vl(s),Zl(n,t,e,r)};var tu={copy:(0,La.fromPromise)(zl),copySync:Xl};const eu=ol;var ru={remove:(0,La.fromCallback)((function(t,e){eu.rm(t,{recursive:!0,force:!0},e)})),removeSync:function(t){eu.rmSync(t,{recursive:!0,force:!0})}};const iu=La.fromPromise,nu=ja,su=a,ou=_l,au=ru,lu=iu((async function(t){let e;try{e=await nu.readdir(t)}catch{return ou.mkdirs(t)}return Promise.all(e.map((e=>au.remove(su.join(t,e)))))}));function uu(t){let e;try{e=nu.readdirSync(t)}catch{return ou.mkdirsSync(t)}e.forEach((e=>{e=su.join(t,e),au.removeSync(e)}))}var hu={emptyDirSync:uu,emptydirSync:uu,emptyDir:lu,emptydir:lu};const cu=La.fromPromise,du=a,fu=ja,pu=_l;var mu={createFile:cu((async function(t){let e;try{e=await fu.stat(t)}catch{}if(e&&e.isFile())return;const r=du.dirname(t);let i=null;try{i=await fu.stat(r)}catch(e){if("ENOENT"===e.code)return await pu.mkdirs(r),void await fu.writeFile(t,"");throw e}i.isDirectory()?await fu.writeFile(t,""):await fu.readdir(r)})),createFileSync:function(t){let e;try{e=fu.statSync(t)}catch{}if(e&&e.isFile())return;const r=du.dirname(t);try{fu.statSync(r).isDirectory()||fu.readdirSync(r)}catch(t){if(!t||"ENOENT"!==t.code)throw t;pu.mkdirsSync(r)}fu.writeFileSync(t,"")}};const gu=La.fromPromise,bu=a,yu=ja,wu=_l,{pathExists:vu}=El,{areIdentical:_u}=Ml;var Du={createLink:gu((async function(t,e){let r,i;try{r=await yu.lstat(e)}catch{}try{i=await yu.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}if(r&&_u(i,r))return;const n=bu.dirname(e);await vu(n)||await wu.mkdirs(n),await yu.link(t,e)})),createLinkSync:function(t,e){let r;try{r=yu.lstatSync(e)}catch{}try{const e=yu.lstatSync(t);if(r&&_u(e,r))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const i=bu.dirname(e);return yu.existsSync(i)||wu.mkdirsSync(i),yu.linkSync(t,e)}};const Su=a,Eu=ja,{pathExists:xu}=El;var Cu={symlinkPaths:(0,La.fromPromise)((async function(t,e){if(Su.isAbsolute(t)){try{await Eu.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:t}}const r=Su.dirname(e),i=Su.join(r,t);if(await xu(i))return{toCwd:i,toDst:t};try{await Eu.lstat(t)}catch(t){throw t.message=t.message.replace("lstat","ensureSymlink"),t}return{toCwd:t,toDst:Su.relative(r,t)}})),symlinkPathsSync:function(t,e){if(Su.isAbsolute(t)){if(!Eu.existsSync(t))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}const r=Su.dirname(e),i=Su.join(r,t);if(Eu.existsSync(i))return{toCwd:i,toDst:t};if(!Eu.existsSync(t))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:Su.relative(r,t)}}};const ku=ja;var Ou={symlinkType:(0,La.fromPromise)((async function(t,e){if(e)return e;let r;try{r=await ku.lstat(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"})),symlinkTypeSync:function(t,e){if(e)return e;let r;try{r=ku.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}};const Tu=La.fromPromise,Au=a,Fu=ja,{mkdirs:Ru,mkdirsSync:Mu}=_l,{symlinkPaths:Pu,symlinkPathsSync:Iu}=Cu,{symlinkType:Bu,symlinkTypeSync:ju}=Ou,{pathExists:Lu}=El,{areIdentical:Nu}=Ml;var $u={createSymlink:Tu((async function(t,e,r){let i;try{i=await Fu.lstat(e)}catch{}if(i&&i.isSymbolicLink()){const[r,i]=await Promise.all([Fu.stat(t),Fu.stat(e)]);if(Nu(r,i))return}const n=await Pu(t,e);t=n.toDst;const s=await Bu(n.toCwd,r),o=Au.dirname(e);return await Lu(o)||await Ru(o),Fu.symlink(t,e,s)})),createSymlinkSync:function(t,e,r){let i;try{i=Fu.lstatSync(e)}catch{}if(i&&i.isSymbolicLink()){const r=Fu.statSync(t),i=Fu.statSync(e);if(Nu(r,i))return}const n=Iu(t,e);t=n.toDst,r=ju(n.toCwd,r);const s=Au.dirname(e);return Fu.existsSync(s)||Mu(s),Fu.symlinkSync(t,e,r)}};const{createFile:Wu,createFileSync:Uu}=mu,{createLink:zu,createLinkSync:Hu}=Du,{createSymlink:Gu,createSymlinkSync:Vu}=$u;var qu={createFile:Wu,createFileSync:Uu,ensureFile:Wu,ensureFileSync:Uu,createLink:zu,createLinkSync:Hu,ensureLink:zu,ensureLinkSync:Hu,createSymlink:Gu,createSymlinkSync:Vu,ensureSymlink:Gu,ensureSymlinkSync:Vu};var Yu={stringify:function(t,{EOL:e="\n",finalEOL:r=!0,replacer:i=null,spaces:n}={}){const s=r?e:"";return JSON.stringify(t,i,n).replace(/\n/g,e)+s},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}};let Zu;try{Zu=ol}catch(t){Zu=l}const Ku=La,{stringify:Ju,stripBom:Qu}=Yu;const Xu=Ku.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||Zu,i=!("throws"in e)||e.throws;let n,s=await Ku.fromCallback(r.readFile)(t,e);s=Qu(s);try{n=JSON.parse(s,e?e.reviver:null)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}return n}));const th=Ku.fromPromise((async function(t,e,r={}){const i=r.fs||Zu,n=Ju(e,r);await Ku.fromCallback(i.writeFile)(t,n,r)}));const eh={readFile:Xu,readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const r=e.fs||Zu,i=!("throws"in e)||e.throws;try{let i=r.readFileSync(t,e);return i=Qu(i),JSON.parse(i,e.reviver)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:th,writeFileSync:function(t,e,r={}){const i=r.fs||Zu,n=Ju(e,r);return i.writeFileSync(t,n,r)}};var rh={readJson:eh.readFile,readJsonSync:eh.readFileSync,writeJson:eh.writeFile,writeJsonSync:eh.writeFileSync};const ih=La.fromPromise,nh=ja,sh=a,oh=_l,ah=El.pathExists;var lh={outputFile:ih((async function(t,e,r="utf-8"){const i=sh.dirname(t);return await ah(i)||await oh.mkdirs(i),nh.writeFile(t,e,r)})),outputFileSync:function(t,...e){const r=sh.dirname(t);nh.existsSync(r)||oh.mkdirsSync(r),nh.writeFileSync(t,...e)}};const{stringify:uh}=Yu,{outputFile:hh}=lh;var ch=async function(t,e,r={}){const i=uh(e,r);await hh(t,i,r)};const{stringify:dh}=Yu,{outputFileSync:fh}=lh;var ph=function(t,e,r){const i=dh(e,r);fh(t,i,r)};const mh=La.fromPromise,gh=rh;gh.outputJson=mh(ch),gh.outputJsonSync=ph,gh.outputJSON=gh.outputJson,gh.outputJSONSync=gh.outputJsonSync,gh.writeJSON=gh.writeJson,gh.writeJSONSync=gh.writeJsonSync,gh.readJSON=gh.readJson,gh.readJSONSync=gh.readJsonSync;var bh=gh;const yh=ja,wh=a,{copy:vh}=tu,{remove:_h}=ru,{mkdirp:Dh}=_l,{pathExists:Sh}=El,Eh=Ml;var xh=async function(t,e,r={}){const i=r.overwrite||r.clobber||!1,{srcStat:n,isChangingCase:s=!1}=await Eh.checkPaths(t,e,"move",r);await Eh.checkParentPaths(t,n,e,"move");const o=wh.dirname(e);return wh.parse(o).root!==o&&await Dh(o),async function(t,e,r,i){if(!i)if(r)await _h(e);else if(await Sh(e))throw new Error("dest already exists.");try{await yh.rename(t,e)}catch(i){if("EXDEV"!==i.code)throw i;await async function(t,e,r){const i={overwrite:r,errorOnExist:!0,preserveTimestamps:!0};return await vh(t,e,i),_h(t)}(t,e,r)}}(t,e,i,s)};const Ch=ol,kh=a,Oh=tu.copySync,Th=ru.removeSync,Ah=_l.mkdirpSync,Fh=Ml;function Rh(t,e,r){try{Ch.renameSync(t,e)}catch(i){if("EXDEV"!==i.code)throw i;return function(t,e,r){const i={overwrite:r,errorOnExist:!0,preserveTimestamps:!0};return Oh(t,e,i),Th(t)}(t,e,r)}}var Mh=function(t,e,r){const i=(r=r||{}).overwrite||r.clobber||!1,{srcStat:n,isChangingCase:s=!1}=Fh.checkPathsSync(t,e,"move",r);return Fh.checkParentPathsSync(t,n,e,"move"),function(t){const e=kh.dirname(t),r=kh.parse(e);return r.root===e}(e)||Ah(kh.dirname(e)),function(t,e,r,i){if(i)return Rh(t,e,r);if(r)return Th(e),Rh(t,e,r);if(Ch.existsSync(e))throw new Error("dest already exists.");return Rh(t,e,r)}(t,e,i,s)};var Ph={move:(0,La.fromPromise)(xh),moveSync:Mh},Ih=x({...ja,...tu,...hu,...qu,...bh,..._l,...Ph,...lh,...El,...ru});var Bh=class{constructor(t,e,r){this.etaBufferLength=t||100,this.valueBuffer=[r],this.timeBuffer=[e],this.eta="0"}update(t,e,r){this.valueBuffer.push(e),this.timeBuffer.push(t),this.calculate(r-e)}getTime(){return this.eta}calculate(t){const e=this.valueBuffer.length,r=Math.min(this.etaBufferLength,e),i=(this.valueBuffer[e-1]-this.valueBuffer[e-r])/(this.timeBuffer[e-1]-this.timeBuffer[e-r]);this.valueBuffer=this.valueBuffer.slice(-this.etaBufferLength),this.timeBuffer=this.timeBuffer.slice(-this.etaBufferLength);const n=Math.ceil(t/i/1e3);isNaN(n)?this.eta="NULL":isFinite(n)?this.eta=n>1e7?"INF":n<0?0:n:this.eta="INF"}};const jh=u;var Lh=class{constructor(t){this.stream=t,this.linewrap=!0,this.dy=0}cursorSave(){this.stream.isTTY&&this.stream.write("7")}cursorRestore(){this.stream.isTTY&&this.stream.write("8")}cursor(t){this.stream.isTTY&&(t?this.stream.write("[?25h"):this.stream.write("[?25l"))}cursorTo(t=null,e=null){this.stream.isTTY&&jh.cursorTo(this.stream,t,e)}cursorRelative(t=null,e=null){this.stream.isTTY&&(this.dy=this.dy+e,jh.moveCursor(this.stream,t,e))}cursorRelativeReset(){this.stream.isTTY&&(jh.moveCursor(this.stream,0,-this.dy),jh.cursorTo(this.stream,0,null),this.dy=0)}clearRight(){this.stream.isTTY&&jh.clearLine(this.stream,1)}clearLine(){this.stream.isTTY&&jh.clearLine(this.stream,0)}clearBottom(){this.stream.isTTY&&jh.clearScreenDown(this.stream)}newline(){this.stream.write("\n"),this.dy++}write(t,e=!1){!0===this.linewrap&&!1===e?this.stream.write(t.substr(0,this.getWidth())):this.stream.write(t)}lineWrapping(t){this.stream.isTTY&&(this.linewrap=t,t?this.stream.write("[?7h"):this.stream.write("[?7l"))}isTTY(){return!0===this.stream.isTTY}getWidth(){return this.stream.columns||(this.stream.isTTY?80:200)}},Nh={exports:{}},$h={exports:{}};const Wh=t=>!Number.isNaN(t)&&(t>=4352&&(t<=4447||9001===t||9002===t||11904<=t&&t<=12871&&12351!==t||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141));$h.exports=Wh,$h.exports.default=Wh;var Uh=$h.exports;const zh=_s,Hh=Uh,Gh=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},Vh=t=>{if("string"!=typeof t||0===t.length)return 0;if(0===(t=zh(t)).length)return 0;t=t.replace(Gh(),"  ");let e=0;for(let r=0;r<t.length;r++){const i=t.codePointAt(r);i<=31||i>=127&&i<=159||(i>=768&&i<=879||(i>65535&&r++,e+=Hh(i)?2:1))}return e};Nh.exports=Vh,Nh.exports.default=Vh;var qh=function(t,e,r){if(!0!==e.autopadding)return t;return"percentage"===r?(i=t,n=3,(e.autopaddingChar+i).slice(-n)):t;var i,n},Yh=function(t,e){const r=Math.round(t*e.barsize),i=e.barsize-r;return e.barCompleteString.substr(0,r)+e.barGlue+e.barIncompleteString.substr(0,i)},Zh=function(t,e,r){function i(t){return r?r*Math.round(t/r):t}function n(t){return(e.autopaddingChar+t).slice(-2)}return t>3600?n(Math.floor(t/3600))+"h"+n(i(t%3600/60))+"m":t>60?n(Math.floor(t/60))+"m"+n(i(t%60))+"s":t>10?n(i(t))+"s":n(t)+"s"};const Kh=Nh.exports,Jh=qh,Qh=Yh,Xh=Zh;var tc=function(t,e,r){let i=t.format;const n=t.formatTime||Xh,s=t.formatValue||Jh,o=t.formatBar||Qh,a=Math.floor(100*e.progress)+"",l=e.stopTime||Date.now(),u=Math.round((l-e.startTime)/1e3),h=Object.assign({},r,{bar:o(e.progress,t),percentage:s(a,t,"percentage"),total:s(e.total,t,"total"),value:s(e.value,t,"value"),eta:s(e.eta,t,"eta"),eta_formatted:n(e.eta,t,5),duration:s(u,t,"duration"),duration_formatted:n(u,t,1)});i=i.replace(/\{(\w+)\}/g,(function(t,e){return void 0!==h[e]?h[e]:t}));const c=Math.max(0,e.maxWidth-Kh(i)-2),d=Math.floor(c/2);switch(t.align){case"right":i=c>0?" ".repeat(c)+i:i;break;case"center":i=d>0?" ".repeat(d)+i:i}return i};function ec(t,e){return null==t?e:t}var rc={parse:function(t,e){const r={},i=Object.assign({},e,t);return r.throttleTime=1e3/ec(i.fps,10),r.stream=ec(i.stream,process.stderr),r.terminal=ec(i.terminal,null),r.clearOnComplete=ec(i.clearOnComplete,!1),r.stopOnComplete=ec(i.stopOnComplete,!1),r.barsize=ec(i.barsize,40),r.align=ec(i.align,"left"),r.hideCursor=ec(i.hideCursor,!1),r.linewrap=ec(i.linewrap,!1),r.barGlue=ec(i.barGlue,""),r.barCompleteChar=ec(i.barCompleteChar,"="),r.barIncompleteChar=ec(i.barIncompleteChar,"-"),r.format=ec(i.format,"progress [{bar}] {percentage}% | ETA: {eta}s | {value}/{total}"),r.formatTime=ec(i.formatTime,null),r.formatValue=ec(i.formatValue,null),r.formatBar=ec(i.formatBar,null),r.etaBufferLength=ec(i.etaBuffer,10),r.etaAsynchronousUpdate=ec(i.etaAsynchronousUpdate,!1),r.progressCalculationRelative=ec(i.progressCalculationRelative,!1),r.synchronousUpdate=ec(i.synchronousUpdate,!0),r.noTTYOutput=ec(i.noTTYOutput,!1),r.notTTYSchedule=ec(i.notTTYSchedule,2e3),r.emptyOnZero=ec(i.emptyOnZero,!1),r.forceRedraw=ec(i.forceRedraw,!1),r.autopadding=ec(i.autopadding,!1),r.gracefulExit=ec(i.gracefulExit,!1),r},assignDerivedOptions:function(t){return t.barCompleteString=t.barCompleteChar.repeat(t.barsize+1),t.barIncompleteString=t.barIncompleteChar.repeat(t.barsize+1),t.autopaddingChar=t.autopadding?ec(t.autopaddingChar,"   "):"",t}};const ic=Bh,nc=Lh,sc=tc,oc=rc,ac=h;var lc=class extends ac{constructor(t){super(),this.options=oc.assignDerivedOptions(t),this.terminal=this.options.terminal?this.options.terminal:new nc(this.options.stream),this.value=0,this.startValue=0,this.total=100,this.lastDrawnString=null,this.startTime=null,this.stopTime=null,this.lastRedraw=Date.now(),this.eta=new ic(this.options.etaBufferLength,0,0),this.payload={},this.isActive=!1,this.formatter="function"==typeof this.options.format?this.options.format:sc}render(t=!1){const e={progress:this.getProgress(),eta:this.eta.getTime(),startTime:this.startTime,stopTime:this.stopTime,total:this.total,value:this.value,maxWidth:this.terminal.getWidth()};this.options.etaAsynchronousUpdate&&this.updateETA();const r=this.formatter(this.options,e,this.payload);(t||this.options.forceRedraw||this.options.noTTYOutput&&!this.terminal.isTTY()||this.lastDrawnString!=r)&&(this.emit("redraw-pre"),this.terminal.cursorTo(0,null),this.terminal.write(r),this.terminal.clearRight(),this.lastDrawnString=r,this.lastRedraw=Date.now(),this.emit("redraw-post"))}start(t,e,r){this.value=e||0,this.total=void 0!==t&&t>=0?t:100,this.startValue=e||0,this.payload=r||{},this.startTime=Date.now(),this.stopTime=null,this.lastDrawnString="",this.eta=new ic(this.options.etaBufferLength,this.startTime,this.value),this.isActive=!0,this.emit("start",t,e)}stop(){this.isActive=!1,this.stopTime=Date.now(),this.emit("stop",this.total,this.value)}update(t,e={}){"number"==typeof t&&(this.value=t,this.eta.update(Date.now(),t,this.total));const r=("object"==typeof t?t:e)||{};this.emit("update",this.total,this.value);for(const t in r)this.payload[t]=r[t];this.value>=this.getTotal()&&this.options.stopOnComplete&&this.stop()}getProgress(){let t=this.value/this.total;return this.options.progressCalculationRelative&&(t=(this.value-this.startValue)/(this.total-this.startValue)),isNaN(t)&&(t=this.options&&this.options.emptyOnZero?0:1),t=Math.min(Math.max(t,0),1),t}increment(t=1,e={}){"object"==typeof t?this.update(this.value+1,t):this.update(this.value+t,e)}getTotal(){return this.total}setTotal(t){void 0!==t&&t>=0&&(this.total=t)}updateETA(){this.eta.update(Date.now(),this.value,this.total)}};const uc=lc,hc=rc;const cc=Lh,dc=lc,fc=rc,pc=h;var mc={legacy:{format:"progress [{bar}] {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"=",barIncompleteChar:"-"},shades_classic:{format:" {bar} {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"█",barIncompleteChar:"░"},shades_grey:{format:" [90m{bar}[0m {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"█",barIncompleteChar:"░"},rect:{format:" {bar}■ {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"■",barIncompleteChar:" "}};const gc=class extends uc{constructor(t,e){super(hc.parse(t,e)),this.timer=null,this.options.noTTYOutput&&!1===this.terminal.isTTY()&&(this.options.synchronousUpdate=!1),this.schedulingRate=this.terminal.isTTY()?this.options.throttleTime:this.options.notTTYSchedule,this.sigintCallback=null}render(){this.timer&&(clearTimeout(this.timer),this.timer=null),super.render(),this.options.noTTYOutput&&!1===this.terminal.isTTY()&&this.terminal.newline(),this.timer=setTimeout(this.render.bind(this),this.schedulingRate)}update(t,e){this.timer&&(super.update(t,e),this.options.synchronousUpdate&&this.lastRedraw+2*this.options.throttleTime<Date.now()&&this.render())}start(t,e,r){!1===this.options.noTTYOutput&&!1===this.terminal.isTTY()||(null===this.sigintCallback&&this.options.gracefulExit&&(this.sigintCallback=this.stop.bind(this),process.once("SIGINT",this.sigintCallback),process.once("SIGTERM",this.sigintCallback)),this.terminal.cursorSave(),!0===this.options.hideCursor&&this.terminal.cursor(!1),!1===this.options.linewrap&&this.terminal.lineWrapping(!1),super.start(t,e,r),this.render())}stop(){this.timer&&(this.sigintCallback&&(process.removeListener("SIGINT",this.sigintCallback),process.removeListener("SIGTERM",this.sigintCallback),this.sigintCallback=null),this.render(),super.stop(),clearTimeout(this.timer),this.timer=null,!0===this.options.hideCursor&&this.terminal.cursor(!0),!1===this.options.linewrap&&this.terminal.lineWrapping(!0),this.terminal.cursorRestore(),this.options.clearOnComplete?(this.terminal.cursorTo(0,null),this.terminal.clearLine()):this.terminal.newline())}},bc=class extends pc{constructor(t,e){super(),this.bars=[],this.options=fc.parse(t,e),this.options.synchronousUpdate=!1,this.terminal=this.options.terminal?this.options.terminal:new cc(this.options.stream),this.timer=null,this.isActive=!1,this.schedulingRate=this.terminal.isTTY()?this.options.throttleTime:this.options.notTTYSchedule,this.loggingBuffer=[],this.sigintCallback=null}create(t,e,r,i={}){const n=new dc(Object.assign({},this.options,{terminal:this.terminal},i));return this.bars.push(n),!1===this.options.noTTYOutput&&!1===this.terminal.isTTY()||(null===this.sigintCallback&&this.options.gracefulExit&&(this.sigintCallback=this.stop.bind(this),process.once("SIGINT",this.sigintCallback),process.once("SIGTERM",this.sigintCallback)),this.isActive||(!0===this.options.hideCursor&&this.terminal.cursor(!1),!1===this.options.linewrap&&this.terminal.lineWrapping(!1),this.timer=setTimeout(this.update.bind(this),this.schedulingRate)),this.isActive=!0,n.start(t,e,r),this.emit("start")),n}remove(t){const e=this.bars.indexOf(t);return!(e<0)&&(this.bars.splice(e,1),this.update(),this.terminal.newline(),this.terminal.clearBottom(),!0)}update(){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.emit("update-pre"),this.terminal.cursorRelativeReset(),this.emit("redraw-pre"),this.loggingBuffer.length>0)for(this.terminal.clearLine();this.loggingBuffer.length>0;)this.terminal.write(this.loggingBuffer.shift(),!0);for(let t=0;t<this.bars.length;t++)t>0&&this.terminal.newline(),this.bars[t].render();this.emit("redraw-post"),this.options.noTTYOutput&&!1===this.terminal.isTTY()&&(this.terminal.newline(),this.terminal.newline()),this.timer=setTimeout(this.update.bind(this),this.schedulingRate),this.emit("update-post"),this.options.stopOnComplete&&!this.bars.find((t=>t.isActive))&&this.stop()}stop(){if(clearTimeout(this.timer),this.timer=null,this.sigintCallback&&(process.removeListener("SIGINT",this.sigintCallback),process.removeListener("SIGTERM",this.sigintCallback),this.sigintCallback=null),this.isActive=!1,!0===this.options.hideCursor&&this.terminal.cursor(!0),!1===this.options.linewrap&&this.terminal.lineWrapping(!0),this.terminal.cursorRelativeReset(),this.emit("stop-pre-clear"),this.options.clearOnComplete)this.terminal.clearBottom();else{for(let t=0;t<this.bars.length;t++)t>0&&this.terminal.newline(),this.bars[t].render(),this.bars[t].stop();this.terminal.newline()}this.emit("stop")}log(t){this.loggingBuffer.push(t)}};var yc=x({Bar:gc,SingleBar:gc,MultiBar:bc,Presets:mc,Format:{Formatter:tc,BarFormat:Yh,ValueFormat:qh,TimeFormat:Zh}});var wc="object"==typeof process&&process&&"win32"===process.platform?{sep:"\\"}:{sep:"/"},vc=_c;function _c(t,e,r){t instanceof RegExp&&(t=Dc(t,r)),e instanceof RegExp&&(e=Dc(e,r));var i=Sc(t,e,r);return i&&{start:i[0],end:i[1],pre:r.slice(0,i[0]),body:r.slice(i[0]+t.length,i[1]),post:r.slice(i[1]+e.length)}}function Dc(t,e){var r=e.match(t);return r?r[0]:null}function Sc(t,e,r){var i,n,s,o,a,l=r.indexOf(t),u=r.indexOf(e,l+1),h=l;if(l>=0&&u>0){if(t===e)return[l,u];for(i=[],s=r.length;h>=0&&!a;)h==l?(i.push(h),l=r.indexOf(t,h+1)):1==i.length?a=[i.pop(),u]:((n=i.pop())<s&&(s=n,o=u),u=r.indexOf(e,h+1)),h=l<u&&l>=0?l:u;i.length&&(a=[s,o])}return a}_c.range=Sc;var Ec=vc,xc=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return Lc(function(t){return t.split("\\\\").join(Cc).split("\\{").join(kc).split("\\}").join(Oc).split("\\,").join(Tc).split("\\.").join(Ac)}(t),!0).map(Rc)},Cc="\0SLASH"+Math.random()+"\0",kc="\0OPEN"+Math.random()+"\0",Oc="\0CLOSE"+Math.random()+"\0",Tc="\0COMMA"+Math.random()+"\0",Ac="\0PERIOD"+Math.random()+"\0";function Fc(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Rc(t){return t.split(Cc).join("\\").split(kc).join("{").split(Oc).join("}").split(Tc).join(",").split(Ac).join(".")}function Mc(t){if(!t)return[""];var e=[],r=Ec("{","}",t);if(!r)return t.split(",");var i=r.pre,n=r.body,s=r.post,o=i.split(",");o[o.length-1]+="{"+n+"}";var a=Mc(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function Pc(t){return"{"+t+"}"}function Ic(t){return/^-?0\d/.test(t)}function Bc(t,e){return t<=e}function jc(t,e){return t>=e}function Lc(t,e){var r=[],i=Ec("{","}",t);if(!i)return[t];var n=i.pre,s=i.post.length?Lc(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=n+"{"+i.body+"}"+s[o];r.push(a)}else{var l,u,h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),d=h||c,f=i.body.indexOf(",")>=0;if(!d&&!f)return i.post.match(/,.*\}/)?Lc(t=i.pre+"{"+i.body+Oc+i.post):[t];if(d)l=i.body.split(/\.\./);else if(1===(l=Mc(i.body)).length&&1===(l=Lc(l[0],!1).map(Pc)).length)return s.map((function(t){return i.pre+l[0]+t}));if(d){var p=Fc(l[0]),m=Fc(l[1]),g=Math.max(l[0].length,l[1].length),b=3==l.length?Math.abs(Fc(l[2])):1,y=Bc;m<p&&(b*=-1,y=jc);var w=l.some(Ic);u=[];for(var v=p;y(v,m);v+=b){var _;if(c)"\\"===(_=String.fromCharCode(v))&&(_="");else if(_=String(v),w){var D=g-_.length;if(D>0){var S=new Array(D+1).join("0");_=v<0?"-"+S+_.slice(1):S+_}}u.push(_)}}else{u=[];for(var E=0;E<l.length;E++)u.push.apply(u,Lc(l[E],!1))}for(E=0;E<u.length;E++)for(o=0;o<s.length;o++){a=n+u[E]+s[o];(!e||d||a)&&r.push(a)}}return r}const Nc=(t,e,r={})=>(Xc(e),!(!r.nocomment&&"#"===e.charAt(0))&&new rd(e,r).match(t));var $c=Nc;const Wc=wc;Nc.sep=Wc.sep;const Uc=Symbol("globstar **");Nc.GLOBSTAR=Uc;const zc=xc,Hc={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Gc="[^/]",Vc=Gc+"*?",qc=t=>t.split("").reduce(((t,e)=>(t[e]=!0,t)),{}),Yc=qc("().*{}+?[]^$\\!"),Zc=qc("[.("),Kc=/\/+/;Nc.filter=(t,e={})=>(r,i,n)=>Nc(r,t,e);const Jc=(t,e={})=>{const r={};return Object.keys(t).forEach((e=>r[e]=t[e])),Object.keys(e).forEach((t=>r[t]=e[t])),r};Nc.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return Nc;const e=Nc,r=(r,i,n)=>e(r,i,Jc(t,n));return r.Minimatch=class extends e.Minimatch{constructor(e,r){super(e,Jc(t,r))}},r.Minimatch.defaults=r=>e.defaults(Jc(t,r)).Minimatch,r.filter=(r,i)=>e.filter(r,Jc(t,i)),r.defaults=r=>e.defaults(Jc(t,r)),r.makeRe=(r,i)=>e.makeRe(r,Jc(t,i)),r.braceExpand=(r,i)=>e.braceExpand(r,Jc(t,i)),r.match=(r,i,n)=>e.match(r,i,Jc(t,n)),r},Nc.braceExpand=(t,e)=>Qc(t,e);const Qc=(t,e={})=>(Xc(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:zc(t)),Xc=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")},td=Symbol("subparse");Nc.makeRe=(t,e)=>new rd(t,e||{}).makeRe(),Nc.match=(t,e,r={})=>{const i=new rd(e,r);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t};const ed=t=>t.replace(/[[\]\\]/g,"\\$&");let rd=class{constructor(t,e){Xc(t),e||(e={}),this.options=e,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}debug(){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();let r=this.globSet=this.braceExpand();e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,r),r=this.globParts=r.map((t=>t.split(Kc))),this.debug(this.pattern,r),r=r.map(((t,e,r)=>t.map(this.parse,this))),this.debug(this.pattern,r),r=r.filter((t=>-1===t.indexOf(!1))),this.debug(this.pattern,r),this.set=r}parseNegate(){if(this.options.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,e,r){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,s=0,o=t.length,a=e.length;n<o&&s<a;n++,s++){this.debug("matchOne loop");var l,u=e[s],h=t[n];if(this.debug(e,u,h),!1===u)return!1;if(u===Uc){this.debug("GLOBSTAR",[e,u,h]);var c=n,d=s+1;if(d===a){for(this.debug("** at the end");n<o;n++)if("."===t[n]||".."===t[n]||!i.dot&&"."===t[n].charAt(0))return!1;return!0}for(;c<o;){var f=t[c];if(this.debug("\nglobstar while",t,c,e,d,f),this.matchOne(t.slice(c),e.slice(d),r))return this.debug("globstar found match!",c,o,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,c,e,d);break}this.debug("globstar swallow a segment, and continue"),c++}return!(!r||(this.debug("\n>>> no match, partial?",t,c,e,d),c!==o))}if("string"==typeof u?(l=h===u,this.debug("string match",u,h,l)):(l=h.match(u),this.debug("pattern match",u,h,l)),!l)return!1}if(n===o&&s===a)return!0;if(n===o)return r;if(s===a)return n===o-1&&""===t[n];throw new Error("wtf?")}braceExpand(){return Qc(this.pattern,this.options)}parse(t,e){Xc(t);const r=this.options;if("**"===t){if(!r.noglobstar)return Uc;t="*"}if(""===t)return"";let i="",n=!1,s=!1;const o=[],a=[];let l,u,h,c,d=!1,f=-1,p=-1,m="."===t.charAt(0),g=r.dot||m;const b=t=>"."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=()=>{if(l){switch(l){case"*":i+=Vc,n=!0;break;case"?":i+=Gc,n=!0;break;default:i+="\\"+l}this.debug("clearStateChar %j %j",l,i),l=!1}};for(let e,c=0;c<t.length&&(e=t.charAt(c));c++)if(this.debug("%s\t%s %s %j",t,c,i,e),s){if("/"===e)return!1;Yc[e]&&(i+="\\"),i+=e,s=!1}else switch(e){case"/":return!1;case"\\":if(d&&"-"===t.charAt(c+1)){i+=e;continue}y(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,c,i,e),d){this.debug("  in class"),"!"===e&&c===p+1&&(e="^"),i+=e;continue}this.debug("call clearStateChar %j",l),y(),l=e,r.noext&&y();continue;case"(":{if(d){i+="(";continue}if(!l){i+="\\(";continue}const e={type:l,start:c-1,reStart:i.length,open:Hc[l].open,close:Hc[l].close};this.debug(this.pattern,"\t",e),o.push(e),i+=e.open,0===e.start&&"!"!==e.type&&(m=!0,i+=b(t.slice(c+1))),this.debug("plType %j %j",l,i),l=!1;continue}case")":{const t=o[o.length-1];if(d||!t){i+="\\)";continue}o.pop(),y(),n=!0,h=t,i+=h.close,"!"===h.type&&a.push(Object.assign(h,{reEnd:i.length}));continue}case"|":{const e=o[o.length-1];if(d||!e){i+="\\|";continue}y(),i+="|",0===e.start&&"!"!==e.type&&(m=!0,i+=b(t.slice(c+1)));continue}case"[":if(y(),d){i+="\\"+e;continue}d=!0,p=c,f=i.length,i+=e;continue;case"]":if(c===p+1||!d){i+="\\"+e;continue}u=t.substring(p+1,c);try{RegExp("["+ed(u.replace(/\\([^-\]])/g,"$1"))+"]"),i+=e}catch(t){i=i.substring(0,f)+"(?:$.)"}n=!0,d=!1;continue;default:y(),!Yc[e]||"^"===e&&d||(i+="\\"),i+=e}for(d&&(u=t.slice(p+1),c=this.parse(u,td),i=i.substring(0,f)+"\\["+c[0],n=n||c[1]),h=o.pop();h;h=o.pop()){let t;t=i.slice(h.reStart+h.open.length),this.debug("setting tail",i,h),t=t.replace(/((?:\\{2}){0,64})(\\?)\|/g,((t,e,r)=>(r||(r="\\"),e+e+r+"|"))),this.debug("tail=%j\n   %s",t,t,h,i);const e="*"===h.type?Vc:"?"===h.type?Gc:"\\"+h.type;n=!0,i=i.slice(0,h.reStart)+e+"\\("+t}y(),s&&(i+="\\\\");const w=Zc[i.charAt(0)];for(let t=a.length-1;t>-1;t--){const r=a[t],n=i.slice(0,r.reStart),s=i.slice(r.reStart,r.reEnd-8);let o=i.slice(r.reEnd);const l=i.slice(r.reEnd-8,r.reEnd)+o,u=n.split(")").length,h=n.split("(").length-u;let c=o;for(let t=0;t<h;t++)c=c.replace(/\)[+*?]?/,"");o=c;i=n+s+o+(""===o&&e!==td?"(?:$|\\/)":"")+l}if(""!==i&&n&&(i="(?=.)"+i),w&&(i=(m?"":g?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+i),e===td)return[i,n];if(r.nocase&&!n&&(n=t.toUpperCase()!==t.toLowerCase()),!n)return(t=>t.replace(/\\(.)/g,"$1"))(t);const v=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",v),{_glob:t,_src:i})}catch(t){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const e=this.options,r=e.noglobstar?Vc:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=e.nocase?"i":"";let n=t.map((t=>(t=t.map((t=>"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===Uc?Uc:t._src)).reduce(((t,e)=>(t[t.length-1]===Uc&&e===Uc||t.push(e),t)),[]),t.forEach(((e,i)=>{e===Uc&&t[i-1]!==Uc&&(0===i?t.length>1?t[i+1]="(?:\\/|"+r+"\\/)?"+t[i+1]:t[i]=r:i===t.length-1?t[i-1]+="(?:\\/|"+r+")?":(t[i-1]+="(?:\\/|\\/"+r+"\\/)"+t[i+1],t[i+1]=Uc))})),t.filter((t=>t!==Uc)).join("/")))).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch(t){this.regexp=!1}return this.regexp}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;"/"!==Wc.sep&&(t=t.split(Wc.sep).join("/")),t=t.split(Kc),this.debug(this.pattern,"split",t);const i=this.set;let n;this.debug(this.pattern,"set",i);for(let e=t.length-1;e>=0&&(n=t[e],!n);e--);for(let s=0;s<i.length;s++){const o=i[s];let a=t;r.matchBase&&1===o.length&&(a=[n]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return Nc.defaults(t).Minimatch}};Nc.Minimatch=rd;var id=cd;const nd=l,{EventEmitter:sd}=h,{Minimatch:od}=$c,{resolve:ad}=a;function ld(t,e){return new Promise(((r,i)=>{(e?nd.stat:nd.lstat)(t,((i,n)=>{if(i)if("ENOENT"===i.code)r(e?ld(t,!1):null);else r(null);else r(n)}))}))}async function*ud(t,e,r,i,n,s){let o=await function(t,e){return new Promise(((r,i)=>{nd.readdir(t,{withFileTypes:!0},((t,n)=>{if(t)switch(t.code){case"ENOTDIR":e?i(t):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;default:i(t)}else r(n)}))}))}(e+t,s);for(const s of o){let o=s.name;void 0===o&&(o=s,i=!0);const a=t+"/"+o,l=a.slice(1),u=e+"/"+l;let h=null;(i||r)&&(h=await ld(u,r)),h||void 0===s.name||(h=s),null===h&&(h={isDirectory:()=>!1}),h.isDirectory()?n(l)||(yield{relative:l,absolute:u,stats:h},yield*ud(a,e,r,i,n,!1)):yield{relative:l,absolute:u,stats:h}}}class hd extends sd{constructor(t,e,r){if(super(),"function"==typeof e&&(r=e,e=null),this.options=function(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}(e||{}),this.matchers=[],this.options.pattern){const t=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=t.map((t=>new od(t,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase})))}if(this.ignoreMatchers=[],this.options.ignore){const t=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=t.map((t=>new od(t,{dot:!0})))}if(this.skipMatchers=[],this.options.skip){const t=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=t.map((t=>new od(t,{dot:!0})))}this.iterator=async function*(t,e,r,i){yield*ud("",t,e,r,i,!0)}(ad(t||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,r&&(this._matches=[],this.on("match",(t=>this._matches.push(this.options.absolute?t.absolute:t.relative))),this.on("error",(t=>r(t))),this.on("end",(()=>r(null,this._matches)))),setTimeout((()=>this._next()),0)}_shouldSkipDirectory(t){return this.skipMatchers.some((e=>e.match(t)))}_fileMatches(t,e){const r=t+(e?"/":"");return(0===this.matchers.length||this.matchers.some((t=>t.match(r))))&&!this.ignoreMatchers.some((t=>t.match(r)))&&(!this.options.nodir||!e)}_next(){this.paused||this.aborted?this.inactive=!0:this.iterator.next().then((t=>{if(t.done)this.emit("end");else{const e=t.value.stats.isDirectory();if(this._fileMatches(t.value.relative,e)){let r=t.value.relative,i=t.value.absolute;this.options.mark&&e&&(r+="/",i+="/"),this.options.stat?this.emit("match",{relative:r,absolute:i,stat:t.value.stats}):this.emit("match",{relative:r,absolute:i})}this._next(this.iterator)}})).catch((t=>{this.abort(),this.emit("error",t),t.code||this.options.silent||console.error(t)}))}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}}function cd(t,e,r){return new hd(t,e,r)}function dd(t,...e){return(...r)=>t(...e,...r)}function fd(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}cd.ReaddirGlob=hd;var pd="function"==typeof queueMicrotask&&queueMicrotask,md="function"==typeof setImmediate&&setImmediate,gd="object"==typeof process&&"function"==typeof process.nextTick;function bd(t){setTimeout(t,0)}function yd(t){return(e,...r)=>t((()=>e(...r)))}var wd=yd(pd?queueMicrotask:md?setImmediate:gd?process.nextTick:bd);function vd(t){return Sd(t)?function(...e){const r=e.pop();return _d(t.apply(this,e),r)}:fd((function(e,r){var i;try{i=t.apply(this,e)}catch(t){return r(t)}if(i&&"function"==typeof i.then)return _d(i,r);r(null,i)}))}function _d(t,e){return t.then((t=>{Dd(e,null,t)}),(t=>{Dd(e,t&&(t instanceof Error||t.message)?t:new Error(t))}))}function Dd(t,e,r){try{t(e,r)}catch(t){wd((t=>{throw t}),t)}}function Sd(t){return"AsyncFunction"===t[Symbol.toStringTag]}function Ed(t){if("function"!=typeof t)throw new Error("expected a function");return Sd(t)?vd(t):t}function xd(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[e-1]?t.apply(this,r):new Promise(((i,n)=>{r[e-1]=(t,...e)=>{if(t)return n(t);i(e.length>1?e:e[0])},t.apply(this,r)}))}}function Cd(t){return function(e,...r){return xd((function(i){var n=this;return t(e,((t,e)=>{Ed(t).apply(n,r.concat(e))}),i)}))}}function kd(t,e,r,i){e=e||[];var n=[],s=0,o=Ed(r);return t(e,((t,e,r)=>{var i=s++;o(t,((t,e)=>{n[i]=e,r(t)}))}),(t=>{i(t,n)}))}function Od(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}var Td={};function Ad(t){function e(...e){if(null!==t){var r=t;t=null,r.apply(this,e)}}return Object.assign(e,t),e}function Fd(t){if(Od(t))return function(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}(t);var e,r,i,n,s=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}(t);return s?function(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}(s):(r=(e=t)?Object.keys(e):[],i=-1,n=r.length,function t(){var s=r[++i];return"__proto__"===s?t():i<n?{value:e[s],key:s}:null})}function Rd(t){return function(...e){if(null===t)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function Md(t,e,r,i){let n=!1,s=!1,o=!1,a=0,l=0;function u(){a>=e||o||n||(o=!0,t.next().then((({value:t,done:e})=>{if(!s&&!n){if(o=!1,e)return n=!0,void(a<=0&&i(null));a++,r(t,l,h),l++,u()}})).catch(c))}function h(t,e){if(a-=1,!s)return t?c(t):!1===t?(n=!0,void(s=!0)):e===Td||n&&a<=0?(n=!0,i(null)):void u()}function c(t){s||(o=!1,n=!0,i(t))}u()}var Pd=t=>(e,r,i)=>{if(i=Ad(i),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return i(null);if("AsyncGenerator"===e[Symbol.toStringTag])return Md(e,t,r,i);if(function(t){return"function"==typeof t[Symbol.asyncIterator]}(e))return Md(e[Symbol.asyncIterator](),t,r,i);var n=Fd(e),s=!1,o=!1,a=0,l=!1;function u(t,e){if(!o)if(a-=1,t)s=!0,i(t);else if(!1===t)s=!0,o=!0;else{if(e===Td||s&&a<=0)return s=!0,i(null);l||h()}}function h(){for(l=!0;a<t&&!s;){var e=n();if(null===e)return s=!0,void(a<=0&&i(null));a+=1,r(e.value,e.key,Rd(u))}l=!1}h()};var Id=xd((function(t,e,r,i){return Pd(e)(t,Ed(r),i)}),4);function Bd(t,e,r){r=Ad(r);var i=0,n=0,{length:s}=t,o=!1;function a(t,e){!1===t&&(o=!0),!0!==o&&(t?r(t):++n!==s&&e!==Td||r(null))}for(0===s&&r(null);i<s;i++)e(t[i],i,Rd(a))}function jd(t,e,r){return Id(t,1/0,e,r)}var Ld=xd((function(t,e,r){return(Od(t)?Bd:jd)(t,Ed(e),r)}),3);var Nd=xd((function(t,e,r){return kd(Ld,t,e,r)}),3),$d=Cd(Nd);var Wd=xd((function(t,e,r){return Id(t,1,e,r)}),3);var Ud=xd((function(t,e,r){return kd(Wd,t,e,r)}),3),zd=Cd(Ud);const Hd=Symbol("promiseCallback");function Gd(){let t,e;function r(r,...i){if(r)return e(r);t(i.length>1?i:i[0])}return r[Hd]=new Promise(((r,i)=>{t=r,e=i})),r}function Vd(t,e,r){"number"!=typeof e&&(r=e,e=null),r=Ad(r||Gd());var i=Object.keys(t).length;if(!i)return r(null);e||(e=i);var n={},s=0,o=!1,a=!1,l=Object.create(null),u=[],h=[],c={};function d(t,e){u.push((()=>function(t,e){if(a)return;var i=Rd(((e,...i)=>{if(s--,!1!==e)if(i.length<2&&([i]=i),e){var u={};if(Object.keys(n).forEach((t=>{u[t]=n[t]})),u[t]=i,a=!0,l=Object.create(null),o)return;r(e,u)}else n[t]=i,(l[t]||[]).forEach((t=>t())),f();else o=!0}));s++;var u=Ed(e[e.length-1]);e.length>1?u(n,i):u(i)}(t,e)))}function f(){if(!o){if(0===u.length&&0===s)return r(null,n);for(;u.length&&s<e;){u.shift()()}}}function p(e){var r=[];return Object.keys(t).forEach((i=>{const n=t[i];Array.isArray(n)&&n.indexOf(e)>=0&&r.push(i)})),r}return Object.keys(t).forEach((e=>{var r=t[e];if(!Array.isArray(r))return d(e,[r]),void h.push(e);var i=r.slice(0,r.length-1),n=i.length;if(0===n)return d(e,r),void h.push(e);c[e]=n,i.forEach((s=>{if(!t[s])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+s+"` in "+i.join(", "));!function(t,e){var r=l[t];r||(r=l[t]=[]);r.push(e)}(s,(()=>{0===--n&&d(e,r)}))}))})),function(){var t=0;for(;h.length;)t++,p(h.pop()).forEach((t=>{0==--c[t]&&h.push(t)}));if(t!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),f(),r[Hd]}var qd=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,Yd=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,Zd=/,/,Kd=/(=.+)?(\s*)$/;function Jd(t,e){var r={};return Object.keys(t).forEach((e=>{var i,n=t[e],s=Sd(n),o=!s&&1===n.length||s&&0===n.length;if(Array.isArray(n))i=[...n],n=i.pop(),r[e]=i.concat(i.length>0?a:n);else if(o)r[e]=n;else{if(i=function(t){const e=function(t){let e="",r=0,i=t.indexOf("*/");for(;r<t.length;)if("/"===t[r]&&"/"===t[r+1]){let e=t.indexOf("\n",r);r=-1===e?t.length:e}else if(-1!==i&&"/"===t[r]&&"*"===t[r+1]){let n=t.indexOf("*/",r);-1!==n?(r=n+2,i=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}(t.toString());let r=e.match(qd);if(r||(r=e.match(Yd)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+e);let[,i]=r;return i.replace(/\s/g,"").split(Zd).map((t=>t.replace(Kd,"").trim()))}(n),0===n.length&&!s&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");s||i.pop(),r[e]=i.concat(a)}function a(t,e){var r=i.map((e=>t[e]));r.push(e),Ed(n)(...r)}})),Vd(r,e)}class Qd{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1}insertBefore(t,e){e.prev=t.prev,e.next=t,t.prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):Xd(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):Xd(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var e=this.head;e;){var{next:r}=e;t(e)&&this.removeLink(e),e=r}return this}}function Xd(t,e){t.length=1,t.head=t.tail=e}function tf(t,e,r){if(null==e)e=1;else if(0===e)throw new RangeError("Concurrency must not be zero");var i=Ed(t),n=0,s=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(t,e){return t?e?void(o[t]=o[t].filter((t=>t!==e))):o[t]=[]:Object.keys(o).forEach((t=>o[t]=[]))}function l(t,...e){o[t].forEach((t=>t(...e)))}var u=!1;function h(t,e,r,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");var n,s;function o(t,...e){return t?r?s(t):n():e.length<=1?n(e[0]):void n(e)}m.started=!0;var a=m._createTaskItem(t,r?o:i||o);if(e?m._tasks.unshift(a):m._tasks.push(a),u||(u=!0,wd((()=>{u=!1,m.process()}))),r||!i)return new Promise(((t,e)=>{n=t,s=e}))}function c(t){return function(e,...r){n-=1;for(var i=0,o=t.length;i<o;i++){var a=t[i],u=s.indexOf(a);0===u?s.shift():u>0&&s.splice(u,1),a.callback(e,...r),null!=e&&l("error",e,a.data)}n<=m.concurrency-m.buffer&&l("unsaturated"),m.idle()&&l("drain"),m.process()}}function d(t){return!(0!==t.length||!m.idle())&&(wd((()=>l("drain"))),!0)}const f=t=>e=>{if(!e)return new Promise(((e,r)=>{!function(t,e){const r=(...i)=>{a(t,r),e(...i)};o[t].push(r)}(t,((t,i)=>{if(t)return r(t);e(i)}))}));a(t),function(t,e){o[t].push(e)}(t,e)};var p=!1,m={_tasks:new Qd,_createTaskItem:(t,e)=>({data:t,callback:e}),*[Symbol.iterator](){yield*m._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!1,!1,e)))}return h(t,!1,!1,e)},pushAsync(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!1,!0,e)))}return h(t,!1,!0,e)},kill(){a(),m._tasks.empty()},unshift(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!0,!1,e)))}return h(t,!0,!1,e)},unshiftAsync(t,e){if(Array.isArray(t)){if(d(t))return;return t.map((t=>h(t,!0,!0,e)))}return h(t,!0,!0,e)},remove(t){m._tasks.remove(t)},process(){if(!p){for(p=!0;!m.paused&&n<m.concurrency&&m._tasks.length;){var t=[],e=[],r=m._tasks.length;m.payload&&(r=Math.min(r,m.payload));for(var o=0;o<r;o++){var a=m._tasks.shift();t.push(a),s.push(a),e.push(a.data)}n+=1,0===m._tasks.length&&l("empty"),n===m.concurrency&&l("saturated");var u=Rd(c(t));i(e,u)}p=!1}},length:()=>m._tasks.length,running:()=>n,workersList:()=>s,idle:()=>m._tasks.length+n===0,pause(){m.paused=!0},resume(){!1!==m.paused&&(m.paused=!1,wd(m.process))}};return Object.defineProperties(m,{saturated:{writable:!1,value:f("saturated")},unsaturated:{writable:!1,value:f("unsaturated")},empty:{writable:!1,value:f("empty")},drain:{writable:!1,value:f("drain")},error:{writable:!1,value:f("error")}}),m}function ef(t,e){return tf(t,1,e)}function rf(t,e,r){return tf(t,e,r)}var nf=xd((function(t,e,r,i){i=Ad(i);var n=Ed(r);return Wd(t,((t,r,i)=>{n(e,t,((t,r)=>{e=r,i(t)}))}),(t=>i(t,e)))}),4);function sf(...t){var e=t.map(Ed);return function(...t){var r=this,i=t[t.length-1];return"function"==typeof i?t.pop():i=Gd(),nf(e,t,((t,e,i)=>{e.apply(r,t.concat(((t,...e)=>{i(t,e)})))}),((t,e)=>i(t,...e))),i[Hd]}}function of(...t){return sf(...t.reverse())}var af=xd((function(t,e,r,i){return kd(Pd(e),t,r,i)}),4);var lf=xd((function(t,e,r,i){var n=Ed(r);return af(t,e,((t,e)=>{n(t,((t,...r)=>t?e(t):e(t,r)))}),((t,e)=>{for(var r=[],n=0;n<e.length;n++)e[n]&&(r=r.concat(...e[n]));return i(t,r)}))}),4);var uf=xd((function(t,e,r){return lf(t,1/0,e,r)}),3);var hf=xd((function(t,e,r){return lf(t,1,e,r)}),3);function cf(...t){return function(...e){return e.pop()(null,...t)}}function df(t,e){return(r,i,n,s)=>{var o,a=!1;const l=Ed(n);r(i,((r,i,n)=>{l(r,((i,s)=>i||!1===i?n(i):t(s)&&!o?(a=!0,o=e(!0,r),n(null,Td)):void n()))}),(t=>{if(t)return s(t);s(null,a?o:e(!1))}))}}var ff=xd((function(t,e,r){return df((t=>t),((t,e)=>e))(Ld,t,e,r)}),3);var pf=xd((function(t,e,r,i){return df((t=>t),((t,e)=>e))(Pd(e),t,r,i)}),4);var mf=xd((function(t,e,r){return df((t=>t),((t,e)=>e))(Pd(1),t,e,r)}),3);function gf(t){return(e,...r)=>Ed(e)(...r,((e,...r)=>{"object"==typeof console&&(e?console.error&&console.error(e):console[t]&&r.forEach((e=>console[t](e))))}))}var bf=gf("dir");var yf=xd((function(t,e,r){r=Rd(r);var i,n=Ed(t),s=Ed(e);function o(t,...e){if(t)return r(t);!1!==t&&(i=e,s(...e,a))}function a(t,e){return t?r(t):!1!==t?e?void n(o):r(null,...i):void 0}return a(null,!0)}),3);function wf(t,e,r){const i=Ed(e);return yf(t,((...t)=>{const e=t.pop();i(...t,((t,r)=>e(t,!r)))}),r)}function vf(t){return(e,r,i)=>t(e,i)}var _f=xd((function(t,e,r){return Ld(t,vf(Ed(e)),r)}),3);var Df=xd((function(t,e,r,i){return Pd(e)(t,vf(Ed(r)),i)}),4);var Sf=xd((function(t,e,r){return Df(t,1,e,r)}),3);function Ef(t){return Sd(t)?t:function(...e){var r=e.pop(),i=!0;e.push(((...t)=>{i?wd((()=>r(...t))):r(...t)})),t.apply(this,e),i=!1}}var xf=xd((function(t,e,r){return df((t=>!t),(t=>!t))(Ld,t,e,r)}),3);var Cf=xd((function(t,e,r,i){return df((t=>!t),(t=>!t))(Pd(e),t,r,i)}),4);var kf=xd((function(t,e,r){return df((t=>!t),(t=>!t))(Wd,t,e,r)}),3);function Of(t,e,r,i){var n=new Array(e.length);t(e,((t,e,i)=>{r(t,((t,r)=>{n[e]=!!r,i(t)}))}),(t=>{if(t)return i(t);for(var r=[],s=0;s<e.length;s++)n[s]&&r.push(e[s]);i(null,r)}))}function Tf(t,e,r,i){var n=[];t(e,((t,e,i)=>{r(t,((r,s)=>{if(r)return i(r);s&&n.push({index:e,value:t}),i(r)}))}),(t=>{if(t)return i(t);i(null,n.sort(((t,e)=>t.index-e.index)).map((t=>t.value)))}))}function Af(t,e,r,i){return(Od(e)?Of:Tf)(t,e,Ed(r),i)}var Ff=xd((function(t,e,r){return Af(Ld,t,e,r)}),3);var Rf=xd((function(t,e,r,i){return Af(Pd(e),t,r,i)}),4);var Mf=xd((function(t,e,r){return Af(Wd,t,e,r)}),3);var Pf=xd((function(t,e){var r=Rd(e),i=Ed(Ef(t));return function t(e){if(e)return r(e);!1!==e&&i(t)}()}),2);var If=xd((function(t,e,r,i){var n=Ed(r);return af(t,e,((t,e)=>{n(t,((r,i)=>r?e(r):e(r,{key:i,val:t})))}),((t,e)=>{for(var r={},{hasOwnProperty:n}=Object.prototype,s=0;s<e.length;s++)if(e[s]){var{key:o}=e[s],{val:a}=e[s];n.call(r,o)?r[o].push(a):r[o]=[a]}return i(t,r)}))}),4);function Bf(t,e,r){return If(t,1/0,e,r)}function jf(t,e,r){return If(t,1,e,r)}var Lf=gf("log");var Nf=xd((function(t,e,r,i){i=Ad(i);var n={},s=Ed(r);return Pd(e)(t,((t,e,r)=>{s(t,e,((t,i)=>{if(t)return r(t);n[e]=i,r(t)}))}),(t=>i(t,n)))}),4);function $f(t,e,r){return Nf(t,1/0,e,r)}function Wf(t,e,r){return Nf(t,1,e,r)}function Uf(t,e=t=>t){var r=Object.create(null),i=Object.create(null),n=Ed(t),s=fd(((t,s)=>{var o=e(...t);o in r?wd((()=>s(null,...r[o]))):o in i?i[o].push(s):(i[o]=[s],n(...t,((t,...e)=>{t||(r[o]=e);var n=i[o];delete i[o];for(var s=0,a=n.length;s<a;s++)n[s](t,...e)})))}));return s.memo=r,s.unmemoized=t,s}var zf=yd(gd?process.nextTick:md?setImmediate:bd),Hf=xd(((t,e,r)=>{var i=Od(e)?[]:{};t(e,((t,e,r)=>{Ed(t)(((t,...n)=>{n.length<2&&([n]=n),i[e]=n,r(t)}))}),(t=>r(t,i)))}),3);function Gf(t,e){return Hf(Ld,t,e)}function Vf(t,e,r){return Hf(Pd(e),t,r)}function qf(t,e){var r=Ed(t);return tf(((t,e)=>{r(t[0],e)}),e,1)}class Yf{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let e;for(;t>0&&Kf(this.heap[t],this.heap[e=Zf(t)]);){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}percDown(t){let e;for(;(e=1+(t<<1))<this.heap.length&&(e+1<this.heap.length&&Kf(this.heap[e+1],this.heap[e])&&(e+=1),!Kf(this.heap[t],this.heap[e]));){let r=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=r,t=e}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let e=0;for(let r=0;r<this.heap.length;r++)t(this.heap[r])||(this.heap[e]=this.heap[r],e++);this.heap.splice(e);for(let t=Zf(this.heap.length-1);t>=0;t--)this.percDown(t);return this}}function Zf(t){return(t+1>>1)-1}function Kf(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function Jf(t,e){var r=qf(t,e),{push:i,pushAsync:n}=r;function s(t,e){return Array.isArray(t)?t.map((t=>({data:t,priority:e}))):{data:t,priority:e}}return r._tasks=new Yf,r._createTaskItem=({data:t,priority:e},r)=>({data:t,priority:e,callback:r}),r.push=function(t,e=0,r){return i(s(t,e),r)},r.pushAsync=function(t,e=0,r){return n(s(t,e),r)},delete r.unshift,delete r.unshiftAsync,r}var Qf=xd((function(t,e){if(e=Ad(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,i=t.length;r<i;r++)Ed(t[r])(e)}),2);function Xf(t,e,r,i){var n=[...t].reverse();return nf(n,e,r,i)}function tp(t){var e=Ed(t);return fd((function(t,r){return t.push(((t,...e)=>{let i={};if(t&&(i.error=t),e.length>0){var n=e;e.length<=1&&([n]=e),i.value=n}r(null,i)})),e.apply(this,t)}))}function ep(t){var e;return Array.isArray(t)?e=t.map(tp):(e={},Object.keys(t).forEach((r=>{e[r]=tp.call(this,t[r])}))),e}function rp(t,e,r,i){const n=Ed(r);return Af(t,e,((t,e)=>{n(t,((t,r)=>{e(t,!r)}))}),i)}var ip=xd((function(t,e,r){return rp(Ld,t,e,r)}),3);var np=xd((function(t,e,r,i){return rp(Pd(e),t,r,i)}),4);var sp=xd((function(t,e,r){return rp(Wd,t,e,r)}),3);function op(t){return function(){return t}}const ap=5,lp=0;function up(t,e,r){var i={times:ap,intervalFunc:op(lp)};if(arguments.length<3&&"function"==typeof t?(r=e||Gd(),e=t):(!function(t,e){if("object"==typeof e)t.times=+e.times||ap,t.intervalFunc="function"==typeof e.interval?e.interval:op(+e.interval||lp),t.errorFilter=e.errorFilter;else{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Invalid arguments for async.retry");t.times=+e||ap}}(i,t),r=r||Gd()),"function"!=typeof e)throw new Error("Invalid arguments for async.retry");var n=Ed(e),s=1;return function t(){n(((e,...n)=>{!1!==e&&(e&&s++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(e))?setTimeout(t,i.intervalFunc(s-1)):r(e,...n))}))}(),r[Hd]}function hp(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;Sd(e)&&(r+=1);var i=Ed(e);return fd(((e,n)=>{function s(t){i(...e,t)}return(e.length<r-1||null==n)&&(e.push(n),n=Gd()),t?up(t,s,n):up(s,n),n[Hd]}))}function cp(t,e){return Hf(Wd,t,e)}var dp=xd((function(t,e,r){return df(Boolean,(t=>t))(Ld,t,e,r)}),3);var fp=xd((function(t,e,r,i){return df(Boolean,(t=>t))(Pd(e),t,r,i)}),4);var pp=xd((function(t,e,r){return df(Boolean,(t=>t))(Wd,t,e,r)}),3);var mp=xd((function(t,e,r){var i=Ed(e);return Nd(t,((t,e)=>{i(t,((r,i)=>{if(r)return e(r);e(r,{value:t,criteria:i})}))}),((t,e)=>{if(t)return r(t);r(null,e.sort(n).map((t=>t.value)))}));function n(t,e){var r=t.criteria,i=e.criteria;return r<i?-1:r>i?1:0}}),3);function gp(t,e,r){var i=Ed(t);return fd(((n,s)=>{var o,a=!1;n.push(((...t)=>{a||(s(...t),clearTimeout(o))})),o=setTimeout((function(){var e=t.name||"anonymous",i=new Error('Callback function "'+e+'" timed out.');i.code="ETIMEDOUT",r&&(i.info=r),a=!0,s(i)}),e),i(...n)}))}function bp(t,e,r,i){var n=Ed(r);return af(function(t){for(var e=Array(t);t--;)e[t]=t;return e}(t),e,n,i)}function yp(t,e,r){return bp(t,1/0,e,r)}function wp(t,e,r){return bp(t,1,e,r)}function vp(t,e,r,i){arguments.length<=3&&"function"==typeof e&&(i=r,r=e,e=Array.isArray(t)?[]:{}),i=Ad(i||Gd());var n=Ed(r);return Ld(t,((t,r,i)=>{n(e,t,r,i)}),(t=>i(t,e))),i[Hd]}var _p=xd((function(t,e){var r,i=null;return Sf(t,((t,e)=>{Ed(t)(((t,...n)=>{if(!1===t)return e(t);n.length<2?[r]=n:r=n,i=t,e(t?null:{})}))}),(()=>e(i,r)))}));function Dp(t){return(...e)=>(t.unmemoized||t)(...e)}var Sp=xd((function(t,e,r){r=Rd(r);var i=Ed(e),n=Ed(t),s=[];function o(t,...e){if(t)return r(t);s=e,!1!==t&&n(a)}function a(t,e){return t?r(t):!1!==t?e?void i(o):r(null,...s):void 0}return n(a)}),3);function Ep(t,e,r){const i=Ed(t);return Sp((t=>i(((e,r)=>t(e,!r)))),e,r)}var xp=xd((function(t,e){if(e=Ad(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function i(e){Ed(t[r++])(...e,Rd(n))}function n(n,...s){if(!1!==n)return n||r===t.length?e(n,...s):void i(s)}i([])})),Cp={apply:dd,applyEach:$d,applyEachSeries:zd,asyncify:vd,auto:Vd,autoInject:Jd,cargo:ef,cargoQueue:rf,compose:of,concat:uf,concatLimit:lf,concatSeries:hf,constant:cf,detect:ff,detectLimit:pf,detectSeries:mf,dir:bf,doUntil:wf,doWhilst:yf,each:_f,eachLimit:Df,eachOf:Ld,eachOfLimit:Id,eachOfSeries:Wd,eachSeries:Sf,ensureAsync:Ef,every:xf,everyLimit:Cf,everySeries:kf,filter:Ff,filterLimit:Rf,filterSeries:Mf,forever:Pf,groupBy:Bf,groupByLimit:If,groupBySeries:jf,log:Lf,map:Nd,mapLimit:af,mapSeries:Ud,mapValues:$f,mapValuesLimit:Nf,mapValuesSeries:Wf,memoize:Uf,nextTick:zf,parallel:Gf,parallelLimit:Vf,priorityQueue:Jf,queue:qf,race:Qf,reduce:nf,reduceRight:Xf,reflect:tp,reflectAll:ep,reject:ip,rejectLimit:np,rejectSeries:sp,retry:up,retryable:hp,seq:sf,series:cp,setImmediate:wd,some:dp,someLimit:fp,someSeries:pp,sortBy:mp,timeout:gp,times:yp,timesLimit:bp,timesSeries:wp,transform:vp,tryEach:_p,unmemoize:Dp,until:Ep,waterfall:xp,whilst:Sp,all:xf,allLimit:Cf,allSeries:kf,any:dp,anyLimit:fp,anySeries:pp,find:ff,findLimit:pf,findSeries:mf,flatMap:uf,flatMapLimit:lf,flatMapSeries:hf,forEach:_f,forEachSeries:Sf,forEachLimit:Df,forEachOf:Ld,forEachOfSeries:Wd,forEachOfLimit:Id,inject:nf,foldl:nf,foldr:Xf,select:Ff,selectLimit:Rf,selectSeries:Mf,wrapSync:vd,during:Sp,doDuring:yf},kp=C(Object.freeze({__proto__:null,all:xf,allLimit:Cf,allSeries:kf,any:dp,anyLimit:fp,anySeries:pp,apply:dd,applyEach:$d,applyEachSeries:zd,asyncify:vd,auto:Vd,autoInject:Jd,cargo:ef,cargoQueue:rf,compose:of,concat:uf,concatLimit:lf,concatSeries:hf,constant:cf,default:Cp,detect:ff,detectLimit:pf,detectSeries:mf,dir:bf,doDuring:yf,doUntil:wf,doWhilst:yf,during:Sp,each:_f,eachLimit:Df,eachOf:Ld,eachOfLimit:Id,eachOfSeries:Wd,eachSeries:Sf,ensureAsync:Ef,every:xf,everyLimit:Cf,everySeries:kf,filter:Ff,filterLimit:Rf,filterSeries:Mf,find:ff,findLimit:pf,findSeries:mf,flatMap:uf,flatMapLimit:lf,flatMapSeries:hf,foldl:nf,foldr:Xf,forEach:_f,forEachLimit:Df,forEachOf:Ld,forEachOfLimit:Id,forEachOfSeries:Wd,forEachSeries:Sf,forever:Pf,groupBy:Bf,groupByLimit:If,groupBySeries:jf,inject:nf,log:Lf,map:Nd,mapLimit:af,mapSeries:Ud,mapValues:$f,mapValuesLimit:Nf,mapValuesSeries:Wf,memoize:Uf,nextTick:zf,parallel:Gf,parallelLimit:Vf,priorityQueue:Jf,queue:qf,race:Qf,reduce:nf,reduceRight:Xf,reflect:tp,reflectAll:ep,reject:ip,rejectLimit:np,rejectSeries:sp,retry:up,retryable:hp,select:Ff,selectLimit:Rf,selectSeries:Mf,seq:sf,series:cp,setImmediate:wd,some:dp,someLimit:fp,someSeries:pp,sortBy:mp,timeout:gp,times:yp,timesLimit:bp,timesSeries:wp,transform:vp,tryEach:_p,unmemoize:Dp,until:Ep,waterfall:xp,whilst:Sp,wrapSync:vd})),Op={exports:{}};const Tp=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;Tp.writable=t=>Tp(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,Tp.readable=t=>Tp(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,Tp.duplex=t=>Tp.writable(t)&&Tp.readable(t),Tp.transform=t=>Tp.duplex(t)&&"function"==typeof t._transform;var Ap,Fp,Rp,Mp,Pp,Ip=Tp,Bp={exports:{}},jp={exports:{}};function Lp(){if(Ap)return jp.exports;return Ap=1,"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?jp.exports={nextTick:function(t,e,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var n,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick((function(){t.call(null,e)}));case 3:return process.nextTick((function(){t.call(null,e,r)}));case 4:return process.nextTick((function(){t.call(null,e,r,i)}));default:for(n=new Array(o-1),s=0;s<n.length;)n[s++]=arguments[s];return process.nextTick((function(){t.apply(null,n)}))}}}:jp.exports=process,jp.exports}function Np(){return Pp?Mp:(Pp=1,Mp=d)}var $p,Wp={exports:{}};function Up(){return $p||($p=1,function(t,e){var r=f,i=r.Buffer;function n(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(n(r,e),e.Buffer=s),n(i,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}}(Wp,Wp.exports)),Wp.exports}var zp,Hp={};function Gp(){if(zp)return Hp;function t(t){return Object.prototype.toString.call(t)}return zp=1,Hp.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},Hp.isBoolean=function(t){return"boolean"==typeof t},Hp.isNull=function(t){return null===t},Hp.isNullOrUndefined=function(t){return null==t},Hp.isNumber=function(t){return"number"==typeof t},Hp.isString=function(t){return"string"==typeof t},Hp.isSymbol=function(t){return"symbol"==typeof t},Hp.isUndefined=function(t){return void 0===t},Hp.isRegExp=function(e){return"[object RegExp]"===t(e)},Hp.isObject=function(t){return"object"==typeof t&&null!==t},Hp.isDate=function(e){return"[object Date]"===t(e)},Hp.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},Hp.isFunction=function(t){return"function"==typeof t},Hp.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},Hp.isBuffer=f.Buffer.isBuffer,Hp}var Vp,qp,Yp,Zp,Kp,Jp,Qp,Xp={exports:{}};function tm(){return Vp||(Vp=1,function(t){var e=Up().Buffer,r=p;function i(t,e,r){t.copy(e,r)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return e.alloc(0);for(var r=e.allocUnsafe(t>>>0),n=this.head,s=0;n;)i(n.data,r,s),s+=n.data.length,n=n.next;return r},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})}(Xp)),Xp.exports}function em(){if(Yp)return qp;Yp=1;var t=Lp();function e(t,e){t.emit("error",e)}return qp={destroy:function(r,i){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(i?i(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(e,this,r)):t.nextTick(e,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,(function(r){!i&&r?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,t.nextTick(e,n,r)):t.nextTick(e,n,r):i&&i(r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}}function rm(){if(Kp)return Zp;Kp=1;var t=Lp();function e(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var i=t.entry;t.entry=null;for(;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree.next=t}(e,t)}}Zp=f;var r,i=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:t.nextTick;f.WritableState=d;var n=Object.create(Gp());n.inherits=no;var s={deprecate:so()},o=Np(),a=Up().Buffer,l=(void 0!==E?E:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var u,h=em();function c(){}function d(n,s){r=r||im(),n=n||{};var o=s instanceof r;this.objectMode=!!n.objectMode,o&&(this.objectMode=this.objectMode||!!n.writableObjectMode);var a=n.highWaterMark,l=n.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:o&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===n.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=n.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,r){var n=e._writableState,s=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),r)!function(e,r,i,n,s){--r.pendingcb,i?(t.nextTick(s,n),t.nextTick(w,e,r),e._writableState.errorEmitted=!0,e.emit("error",n)):(s(n),e._writableState.errorEmitted=!0,e.emit("error",n),w(e,r))}(e,n,s,r,o);else{var a=b(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||g(e,n),s?i(m,e,n,a,o):m(e,n,a,o)}}(s,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function f(t){if(r=r||im(),!(u.call(f,this)||this instanceof r))return new f(t);this._writableState=new d(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),o.call(this)}function p(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function m(t,e,r,i){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),w(t,e)}function g(t,r){r.bufferProcessing=!0;var i=r.bufferedRequest;if(t._writev&&i&&i.next){var n=r.bufferedRequestCount,s=new Array(n),o=r.corkedRequestsFree;o.entry=i;for(var a=0,l=!0;i;)s[a]=i,i.isBuf||(l=!1),i=i.next,a+=1;s.allBuffers=l,p(t,r,!0,r.length,s,"",o.finish),r.pendingcb++,r.lastBufferedRequest=null,o.next?(r.corkedRequestsFree=o.next,o.next=null):r.corkedRequestsFree=new e(r),r.bufferedRequestCount=0}else{for(;i;){var u=i.chunk,h=i.encoding,c=i.callback;if(p(t,r,!1,r.objectMode?1:u.length,u,h,c),i=i.next,r.bufferedRequestCount--,r.writing)break}null===i&&(r.lastBufferedRequest=null)}r.bufferedRequest=i,r.bufferProcessing=!1}function b(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function y(t,e){t._final((function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),w(t,e)}))}function w(e,r){var i=b(r);return i&&(!function(e,r){r.prefinished||r.finalCalled||("function"==typeof e._final?(r.pendingcb++,r.finalCalled=!0,t.nextTick(y,e,r)):(r.prefinished=!0,e.emit("prefinish")))}(e,r),0===r.pendingcb&&(r.finished=!0,e.emit("finish"))),i}return n.inherits(f,o),d.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(d.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(t){return!!u.call(this,t)||this===f&&(t&&t._writableState instanceof d)}})):u=function(t){return t instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(e,r,i){var n,s=this._writableState,o=!1,u=!s.objectMode&&(n=e,a.isBuffer(n)||n instanceof l);return u&&!a.isBuffer(e)&&(e=function(t){return a.from(t)}(e)),"function"==typeof r&&(i=r,r=null),u?r="buffer":r||(r=s.defaultEncoding),"function"!=typeof i&&(i=c),s.ended?function(e,r){var i=new Error("write after end");e.emit("error",i),t.nextTick(r,i)}(this,i):(u||function(e,r,i,n){var s=!0,o=!1;return null===i?o=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||r.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),t.nextTick(n,o),s=!1),s}(this,s,e,i))&&(s.pendingcb++,o=function(t,e,r,i,n,s){if(!r){var o=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=a.from(e,r));return e}(e,i,n);i!==o&&(r=!0,n="buffer",i=o)}var l=e.objectMode?1:i.length;e.length+=l;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,l,i,n,s);return u}(this,s,u,e,r,i)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||g(this,t))},f.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,r,i){var n=this._writableState;"function"==typeof e?(i=e,e=null,r=null):"function"==typeof r&&(i=r,r=null),null!=e&&this.write(e,r),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,r,i){r.ending=!0,w(e,r),i&&(r.finished?t.nextTick(i):e.once("finish",i));r.ended=!0,e.writable=!1}(this,n,i)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),f.prototype.destroy=h.destroy,f.prototype._undestroy=h.undestroy,f.prototype._destroy=function(t,e){this.end(),e(t)},Zp}function im(){if(Qp)return Jp;Qp=1;var t=Lp(),e=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Jp=l;var r=Object.create(Gp());r.inherits=no;var i=fm(),n=rm();r.inherits(l,i);for(var s=e(n.prototype),o=0;o<s.length;o++){var a=s[o];l.prototype[a]||(l.prototype[a]=n.prototype[a])}function l(t){if(!(this instanceof l))return new l(t);i.call(this,t),n.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||t.nextTick(h,this)}function h(t){t.end()}return Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(e,r){this.push(null),this.end(),t.nextTick(r,e)},Jp}var nm,sm,om,am,lm,um,hm,cm={};function dm(){if(nm)return cm;nm=1;var t=Up().Buffer,e=t.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(r){var i;switch(this.encoding=function(r){var i=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(r);if("string"!=typeof i&&(t.isEncoding===e||!e(r)))throw new Error("Unknown encoding: "+r);return i||r}(r),this.encoding){case"utf16le":this.text=s,this.end=o,i=4;break;case"utf8":this.fillLast=n,i=4;break;case"base64":this.text=a,this.end=l,i=3;break;default:return this.write=u,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(i)}function i(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function n(t){var e=this.lastTotal-this.lastNeed,r=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function s(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function o(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function a(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function u(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}return cm.StringDecoder=r,r.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},r.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},r.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var s=i(e[n]);if(s>=0)return s>0&&(t.lastNeed=s-1),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(t.lastNeed=s-2),s;if(--n<r||-2===s)return 0;if(s=i(e[n]),s>=0)return s>0&&(2===s?s=0:t.lastNeed=s-3),s;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},cm}function fm(){if(om)return sm;om=1;var t=Lp();sm=b;var e,r=function(){if(Rp)return Fp;Rp=1;var t={}.toString;return Fp=Array.isArray||function(e){return"[object Array]"==t.call(e)}}();b.ReadableState=g,h.EventEmitter;var i=function(t,e){return t.listeners(e).length},n=Np(),s=Up().Buffer,o=(void 0!==E?E:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var a=Object.create(Gp());a.inherits=no;var l=p,u=void 0;u=l&&l.debuglog?l.debuglog("stream"):function(){};var c,d=tm(),f=em();a.inherits(b,n);var m=["error","close","destroy","pause","resume"];function g(t,r){t=t||{};var i=r instanceof(e=e||im());this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,s=t.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(c||(c=dm().StringDecoder),this.decoder=new c(t.encoding),this.encoding=t.encoding)}function b(t){if(e=e||im(),!(this instanceof b))return new b(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),n.call(this)}function y(t,e,r,i,n){var a,l=t._readableState;null===e?(l.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,D(t)}(t,l)):(n||(a=function(t,e){var r;i=e,s.isBuffer(i)||i instanceof o||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var i;return r}(l,e)),a?t.emit("error",a):l.objectMode||e&&e.length>0?("string"==typeof e||l.objectMode||Object.getPrototypeOf(e)===s.prototype||(e=function(t){return s.from(t)}(e)),i?l.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,l,e,!0):l.ended?t.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(e=l.decoder.write(e),l.objectMode||0!==e.length?w(t,l,e,!1):x(t,l)):w(t,l,e,!1))):i||(l.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(l)}function w(t,e,r,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&D(t)),x(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=f.destroy,b.prototype._undestroy=f.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=s.from(t,e),e=""),r=!0),y(this,t,e,!1,r)},b.prototype.unshift=function(t){return y(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return c||(c=dm().StringDecoder),this._readableState.decoder=new c(t),this._readableState.encoding=t,this};var v=8388608;function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=v?t=v:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function D(e){var r=e._readableState;r.needReadable=!1,r.emittedReadable||(u("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?t.nextTick(S,e):S(e))}function S(t){u("emit readable"),t.emit("readable"),T(t)}function x(e,r){r.readingMore||(r.readingMore=!0,t.nextTick(C,e,r))}function C(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(u("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function k(t){u("readable nexttick read 0"),t.read(0)}function O(t,e){e.reading||(u("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(u("flow",e.flowing);e.flowing&&null!==t.read(););}function A(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,i=1,n=r.data;t-=n.length;for(;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?n+=s:n+=s.slice(0,t),0===(t-=o)){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}(t,e):function(t,e){var r=s.allocUnsafe(t),i=e.head,n=1;i.data.copy(r),t-=i.data.length;for(;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++n,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(a));break}++n}return e.length-=n,r}(t,e);return i}(t,e.buffer,e.decoder),r);var r}function F(e){var r=e._readableState;if(r.length>0)throw new Error('"endReadable()" called on non-empty stream');r.endEmitted||(r.ended=!0,t.nextTick(R,r,e))}function R(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}return b.prototype.read=function(t){u("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return u("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?F(this):D(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&F(this),null;var i,n=e.needReadable;return u("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&u("length less than watermark",n=!0),e.ended||e.reading?u("reading or ended",n=!1):n&&(u("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(r,e))),null===(i=t>0?A(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&F(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,n){var s=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,u("pipe count=%d opts=%j",o.pipesCount,n);var a=(!n||!1!==n.end)&&e!==process.stdout&&e!==process.stderr?h:y;function l(t,r){u("onunpipe"),t===s&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,u("cleanup"),e.removeListener("close",g),e.removeListener("finish",b),e.removeListener("drain",c),e.removeListener("error",m),e.removeListener("unpipe",l),s.removeListener("end",h),s.removeListener("end",y),s.removeListener("data",p),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function h(){u("onend"),e.end()}o.endEmitted?t.nextTick(a):s.once("end",a),e.on("unpipe",l);var c=function(t){return function(){var e=t._readableState;u("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&i(t,"data")&&(e.flowing=!0,T(t))}}(s);e.on("drain",c);var d=!1;var f=!1;function p(t){u("ondata"),f=!1,!1!==e.write(t)||f||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==M(o.pipes,e))&&!d&&(u("false write response, pause",o.awaitDrain),o.awaitDrain++,f=!0),s.pause())}function m(t){u("onerror",t),y(),e.removeListener("error",m),0===i(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",b),y()}function b(){u("onfinish"),e.removeListener("close",g),y()}function y(){u("unpipe"),s.unpipe(e)}return s.on("data",p),function(t,e,i){if("function"==typeof t.prependListener)return t.prependListener(e,i);t._events&&t._events[e]?r(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]:t.on(e,i)}(e,"error",m),e.once("close",g),e.once("finish",b),e.emit("pipe",s),o.flowing||(u("pipe resume"),s.resume()),e},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=M(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},b.prototype.on=function(e,r){var i=n.prototype.on.call(this,e,r);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var s=this._readableState;s.endEmitted||s.readableListening||(s.readableListening=s.needReadable=!0,s.emittedReadable=!1,s.reading?s.length&&D(this):t.nextTick(k,this))}return i},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!0,function(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(O,e,r))}(this,e)),this},b.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,i=!1;for(var n in t.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(n){(u("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(e.push(n)||(i=!0,t.pause()))})),t)void 0===this[n]&&"function"==typeof t[n]&&(this[n]=function(e){return function(){return t[e].apply(t,arguments)}}(n));for(var s=0;s<m.length;s++)t.on(m[s],this.emit.bind(this,m[s]));return this._read=function(e){u("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=A,sm}function pm(){if(lm)return am;lm=1,am=i;var t=im(),e=Object.create(Gp());function r(t,e){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),i(t);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);t.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",n)}function n(){var t=this;"function"==typeof this._flush?this._flush((function(e,r){s(t,e,r)})):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}return e.inherits=no,e.inherits(i,t),i.prototype.push=function(e,r){return this._transformState.needTransform=!1,t.prototype.push.call(this,e,r)},i.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,r){var i=this._transformState;if(i.writecb=r,i.writechunk=t,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(e,r){var i=this;t.prototype._destroy.call(this,e,(function(t){r(t),i.emit("close")}))},am}!function(t,e){var r=d;"disable"===process.env.READABLE_STREAM&&r?(t.exports=r,(e=t.exports=r.Readable).Readable=r.Readable,e.Writable=r.Writable,e.Duplex=r.Duplex,e.Transform=r.Transform,e.PassThrough=r.PassThrough,e.Stream=r):((e=t.exports=fm()).Stream=r||e,e.Readable=e,e.Writable=rm(),e.Duplex=im(),e.Transform=pm(),e.PassThrough=function(){if(hm)return um;hm=1,um=r;var t=pm(),e=Object.create(Gp());function r(e){if(!(this instanceof r))return new r(e);t.call(this,e)}return e.inherits=no,e.inherits(r,t),r.prototype._transform=function(t,e,r){r(null,t)},um}())}(Bp,Bp.exports);var mm=Bp.exports.PassThrough,gm=p,bm=mm,ym={Readable:vm,Writable:_m};function wm(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function vm(t,e){if(!(this instanceof vm))return new vm(t,e);bm.call(this,e),wm(this,"_read",(function(){var r=t.call(this,e),i=this.emit.bind(this,"error");r.on("error",i),r.pipe(this)})),this.emit("readable")}function _m(t,e){if(!(this instanceof _m))return new _m(t,e);bm.call(this,e),wm(this,"_write",(function(){var r=t.call(this,e),i=this.emit.bind(this,"error");r.on("error",i),this.pipe(r)})),this.emit("writable")}
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */gm.inherits(vm,bm),gm.inherits(_m,bm);var Dm=function(t,e){if("string"!=typeof t)throw new TypeError("expected path to be a string");if("\\"===t||"/"===t)return"/";var r=t.length;if(r<=1)return t;var i="";if(r>4&&"\\"===t[3]){var n=t[2];"?"!==n&&"."!==n||"\\\\"!==t.slice(0,2)||(t=t.slice(2),i="//")}var s=t.split(/[/\\]+/);return!1!==e&&""===s[s.length-1]&&s.pop(),i+s.join("/")};var Sm=function(t){return t};var Em=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},xm=Math.max;var Cm=function(t,e,r){return e=xm(void 0===e?t.length-1:e,0),function(){for(var i=arguments,n=-1,s=xm(i.length-e,0),o=Array(s);++n<s;)o[n]=i[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=i[n];return a[e]=r(o),Em(t,this,a)}};var km=function(t){return function(){return t}},Om="object"==typeof E&&E&&E.Object===Object&&E,Tm=Om,Am="object"==typeof self&&self&&self.Object===Object&&self,Fm=Tm||Am||Function("return this")(),Rm=Fm.Symbol,Mm=Rm,Pm=Object.prototype,Im=Pm.hasOwnProperty,Bm=Pm.toString,jm=Mm?Mm.toStringTag:void 0;var Lm=function(t){var e=Im.call(t,jm),r=t[jm];try{t[jm]=void 0;var i=!0}catch(t){}var n=Bm.call(t);return i&&(e?t[jm]=r:delete t[jm]),n},Nm=Object.prototype.toString;var $m=Lm,Wm=function(t){return Nm.call(t)},Um=Rm?Rm.toStringTag:void 0;var zm=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Um&&Um in Object(t)?$m(t):Wm(t)};var Hm=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Gm=zm,Vm=Hm;var qm,Ym=function(t){if(!Vm(t))return!1;var e=Gm(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Zm=Fm["__core-js_shared__"],Km=(qm=/[^.]+$/.exec(Zm&&Zm.keys&&Zm.keys.IE_PROTO||""))?"Symbol(src)_1."+qm:"";var Jm=function(t){return!!Km&&Km in t},Qm=Function.prototype.toString;var Xm=Ym,tg=Jm,eg=Hm,rg=function(t){if(null!=t){try{return Qm.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ig=/^\[object .+?Constructor\]$/,ng=Function.prototype,sg=Object.prototype,og=ng.toString,ag=sg.hasOwnProperty,lg=RegExp("^"+og.call(ag).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ug=function(t){return!(!eg(t)||tg(t))&&(Xm(t)?lg:ig).test(rg(t))},hg=function(t,e){return null==t?void 0:t[e]};var cg=function(t,e){var r=hg(t,e);return ug(r)?r:void 0},dg=cg,fg=function(){try{var t=dg(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),pg=km,mg=fg,gg=mg?function(t,e){return mg(t,"toString",{configurable:!0,enumerable:!1,value:pg(e),writable:!0})}:Sm,bg=Date.now;var yg=function(t){var e=0,r=0;return function(){var i=bg(),n=16-(i-r);if(r=i,n>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(gg),wg=Sm,vg=Cm,_g=yg;var Dg=function(t,e){return _g(vg(t,e,wg),t+"")};var Sg=function(t,e){return t===e||t!=t&&e!=e};var Eg=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},xg=Ym,Cg=Eg;var kg=function(t){return null!=t&&Cg(t.length)&&!xg(t)},Og=/^(?:0|[1-9]\d*)$/;var Tg=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Og.test(t))&&t>-1&&t%1==0&&t<e},Ag=Sg,Fg=kg,Rg=Tg,Mg=Hm;var Pg=function(t,e,r){if(!Mg(r))return!1;var i=typeof e;return!!("number"==i?Fg(r)&&Rg(e,r.length):"string"==i&&e in r)&&Ag(r[e],t)};var Ig=function(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i};var Bg=function(t){return null!=t&&"object"==typeof t},jg=zm,Lg=Bg;var Ng=function(t){return Lg(t)&&"[object Arguments]"==jg(t)},$g=Bg,Wg=Object.prototype,Ug=Wg.hasOwnProperty,zg=Wg.propertyIsEnumerable,Hg=Ng(function(){return arguments}())?Ng:function(t){return $g(t)&&Ug.call(t,"callee")&&!zg.call(t,"callee")},Gg=Array.isArray,Vg={exports:{}};var qg=function(){return!1};!function(t,e){var r=Fm,i=qg,n=e&&!e.nodeType&&e,s=n&&t&&!t.nodeType&&t,o=s&&s.exports===n?r.Buffer:void 0,a=(o?o.isBuffer:void 0)||i;t.exports=a}(Vg,Vg.exports);var Yg=Vg.exports,Zg=zm,Kg=Eg,Jg=Bg,Qg={};Qg["[object Float32Array]"]=Qg["[object Float64Array]"]=Qg["[object Int8Array]"]=Qg["[object Int16Array]"]=Qg["[object Int32Array]"]=Qg["[object Uint8Array]"]=Qg["[object Uint8ClampedArray]"]=Qg["[object Uint16Array]"]=Qg["[object Uint32Array]"]=!0,Qg["[object Arguments]"]=Qg["[object Array]"]=Qg["[object ArrayBuffer]"]=Qg["[object Boolean]"]=Qg["[object DataView]"]=Qg["[object Date]"]=Qg["[object Error]"]=Qg["[object Function]"]=Qg["[object Map]"]=Qg["[object Number]"]=Qg["[object Object]"]=Qg["[object RegExp]"]=Qg["[object Set]"]=Qg["[object String]"]=Qg["[object WeakMap]"]=!1;var Xg=function(t){return Jg(t)&&Kg(t.length)&&!!Qg[Zg(t)]};var tb=function(t){return function(e){return t(e)}},eb={exports:{}};!function(t,e){var r=Om,i=e&&!e.nodeType&&e,n=i&&t&&!t.nodeType&&t,s=n&&n.exports===i&&r.process,o=function(){try{var t=n&&n.require&&n.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=o}(eb,eb.exports);var rb=eb.exports,ib=Xg,nb=tb,sb=rb&&rb.isTypedArray,ob=sb?nb(sb):ib,ab=Ig,lb=Hg,ub=Gg,hb=Yg,cb=Tg,db=ob,fb=Object.prototype.hasOwnProperty;var pb=function(t,e){var r=ub(t),i=!r&&lb(t),n=!r&&!i&&hb(t),s=!r&&!i&&!n&&db(t),o=r||i||n||s,a=o?ab(t.length,String):[],l=a.length;for(var u in t)!e&&!fb.call(t,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||cb(u,l))||a.push(u);return a},mb=Object.prototype;var gb=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},bb=Hm,yb=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||mb)},wb=gb,vb=Object.prototype.hasOwnProperty;var _b=function(t){if(!bb(t))return wb(t);var e=yb(t),r=[];for(var i in t)("constructor"!=i||!e&&vb.call(t,i))&&r.push(i);return r},Db=pb,Sb=_b,Eb=kg;var xb,Cb,kb=Dg,Ob=Sg,Tb=Pg,Ab=function(t){return Eb(t)?Db(t,!0):Sb(t)},Fb=Object.prototype,Rb=Fb.hasOwnProperty,Mb=kb((function(t,e){t=Object(t);var r=-1,i=e.length,n=i>2?e[2]:void 0;for(n&&Tb(e[0],e[1],n)&&(i=1);++r<i;)for(var s=e[r],o=Ab(s),a=-1,l=o.length;++a<l;){var u=o[a],h=t[u];(void 0===h||Ob(h,Fb[u])&&!Rb.call(t,u))&&(t[u]=s[u])}return t})),Pb=Mb,Ib={exports:{}},Bb={exports:{}};function jb(){return Cb||(Cb=1,xb={ArrayIsArray:t=>Array.isArray(t),ArrayPrototypeIncludes:(t,e)=>t.includes(e),ArrayPrototypeIndexOf:(t,e)=>t.indexOf(e),ArrayPrototypeJoin:(t,e)=>t.join(e),ArrayPrototypeMap:(t,e)=>t.map(e),ArrayPrototypePop:(t,e)=>t.pop(e),ArrayPrototypePush:(t,e)=>t.push(e),ArrayPrototypeSlice:(t,e,r)=>t.slice(e,r),Error:Error,FunctionPrototypeCall:(t,e,...r)=>t.call(e,...r),FunctionPrototypeSymbolHasInstance:(t,e)=>Function.prototype[Symbol.hasInstance].call(t,e),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(t,e)=>Object.defineProperties(t,e),ObjectDefineProperty:(t,e,r)=>Object.defineProperty(t,e,r),ObjectGetOwnPropertyDescriptor:(t,e)=>Object.getOwnPropertyDescriptor(t,e),ObjectKeys:t=>Object.keys(t),ObjectSetPrototypeOf:(t,e)=>Object.setPrototypeOf(t,e),Promise:Promise,PromisePrototypeCatch:(t,e)=>t.catch(e),PromisePrototypeThen:(t,e,r)=>t.then(e,r),PromiseReject:t=>Promise.reject(t),PromiseResolve:t=>Promise.resolve(t),ReflectApply:Reflect.apply,RegExpPrototypeTest:(t,e)=>t.test(e),SafeSet:Set,String:String,StringPrototypeSlice:(t,e,r)=>t.slice(e,r),StringPrototypeToLowerCase:t=>t.toLowerCase(),StringPrototypeToUpperCase:t=>t.toUpperCase(),StringPrototypeTrim:t=>t.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(t,e,r)=>t.set(e,r),Boolean:Boolean,Uint8Array:Uint8Array}),xb}var Lb={exports:{}};
/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */const Nb=new WeakMap,$b=new WeakMap;function Wb(t){const e=Nb.get(t);return console.assert(null!=e,"'this' is expected an Event object, but got",t),e}function Ub(t){null==t.passiveListener?t.event.cancelable&&(t.canceled=!0,"function"==typeof t.event.preventDefault&&t.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener)}function zb(t,e){Nb.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(e);for(let t=0;t<r.length;++t){const e=r[t];e in this||Object.defineProperty(this,e,Hb(e))}}function Hb(t){return{get(){return Wb(this).event[t]},set(e){Wb(this).event[t]=e},configurable:!0,enumerable:!0}}function Gb(t){return{value(){const e=Wb(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function Vb(t){if(null==t||t===Object.prototype)return zb;let e=$b.get(t);return null==e&&(e=function(t,e){const r=Object.keys(e);if(0===r.length)return t;function i(e,r){t.call(this,e,r)}i.prototype=Object.create(t.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){const s=r[n];if(!(s in t.prototype)){const t="function"==typeof Object.getOwnPropertyDescriptor(e,s).value;Object.defineProperty(i.prototype,s,t?Gb(s):Hb(s))}}return i}(Vb(Object.getPrototypeOf(t)),t),$b.set(t,e)),e}function qb(t){return Wb(t).immediateStopped}function Yb(t,e){Wb(t).passiveListener=e}zb.prototype={get type(){return Wb(this).event.type},get target(){return Wb(this).eventTarget},get currentTarget(){return Wb(this).currentTarget},composedPath(){const t=Wb(this).currentTarget;return null==t?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return Wb(this).eventPhase},stopPropagation(){const t=Wb(this);t.stopped=!0,"function"==typeof t.event.stopPropagation&&t.event.stopPropagation()},stopImmediatePropagation(){const t=Wb(this);t.stopped=!0,t.immediateStopped=!0,"function"==typeof t.event.stopImmediatePropagation&&t.event.stopImmediatePropagation()},get bubbles(){return Boolean(Wb(this).event.bubbles)},get cancelable(){return Boolean(Wb(this).event.cancelable)},preventDefault(){Ub(Wb(this))},get defaultPrevented(){return Wb(this).canceled},get composed(){return Boolean(Wb(this).event.composed)},get timeStamp(){return Wb(this).timeStamp},get srcElement(){return Wb(this).eventTarget},get cancelBubble(){return Wb(this).stopped},set cancelBubble(t){if(!t)return;const e=Wb(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!Wb(this).canceled},set returnValue(t){t||Ub(Wb(this))},initEvent(){}},Object.defineProperty(zb.prototype,"constructor",{value:zb,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(zb.prototype,window.Event.prototype),$b.set(window.Event.prototype,zb));const Zb=new WeakMap,Kb=3;function Jb(t){return null!==t&&"object"==typeof t}function Qb(t){const e=Zb.get(t);if(null==e)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function Xb(t,e){Object.defineProperty(t,`on${e}`,function(t){return{get(){let e=Qb(this).get(t);for(;null!=e;){if(e.listenerType===Kb)return e.listener;e=e.next}return null},set(e){"function"==typeof e||Jb(e)||(e=null);const r=Qb(this);let i=null,n=r.get(t);for(;null!=n;)n.listenerType===Kb?null!==i?i.next=n.next:null!==n.next?r.set(t,n.next):r.delete(t):i=n,n=n.next;if(null!==e){const n={listener:e,listenerType:Kb,passive:!1,once:!1,next:null};null===i?r.set(t,n):i.next=n}},configurable:!0,enumerable:!0}}(e))}function ty(t){function e(){ey.call(this)}e.prototype=Object.create(ey.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)Xb(e.prototype,t[r]);return e}function ey(){if(!(this instanceof ey)){if(1===arguments.length&&Array.isArray(arguments[0]))return ty(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return ty(t)}throw new TypeError("Cannot call a class as a function")}Zb.set(this,new Map)}ey.prototype={addEventListener(t,e,r){if(null==e)return;if("function"!=typeof e&&!Jb(e))throw new TypeError("'listener' should be a function or an object.");const i=Qb(this),n=Jb(r),s=(n?Boolean(r.capture):Boolean(r))?1:2,o={listener:e,listenerType:s,passive:n&&Boolean(r.passive),once:n&&Boolean(r.once),next:null};let a=i.get(t);if(void 0===a)return void i.set(t,o);let l=null;for(;null!=a;){if(a.listener===e&&a.listenerType===s)return;l=a,a=a.next}l.next=o},removeEventListener(t,e,r){if(null==e)return;const i=Qb(this),n=(Jb(r)?Boolean(r.capture):Boolean(r))?1:2;let s=null,o=i.get(t);for(;null!=o;){if(o.listener===e&&o.listenerType===n)return void(null!==s?s.next=o.next:null!==o.next?i.set(t,o.next):i.delete(t));s=o,o=o.next}},dispatchEvent(t){if(null==t||"string"!=typeof t.type)throw new TypeError('"event.type" should be a string.');const e=Qb(this),r=t.type;let i=e.get(r);if(null==i)return!0;const n=function(t,e){return new(Vb(Object.getPrototypeOf(e)))(t,e)}(this,t);let s=null;for(;null!=i;){if(i.once?null!==s?s.next=i.next:null!==i.next?e.set(r,i.next):e.delete(r):s=i,Yb(n,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,n)}catch(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t)}else i.listenerType!==Kb&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(n);if(qb(n))break;i=i.next}return Yb(n,null),function(t,e){Wb(t).eventPhase=e}(n,0),function(t,e){Wb(t).currentTarget=e}(n,null),!n.defaultPrevented}},Object.defineProperty(ey.prototype,"constructor",{value:ey,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(ey.prototype,window.EventTarget.prototype);class ry extends ey{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const t=iy.get(this);if("boolean"!=typeof t)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return t}}Xb(ry.prototype,"abort");const iy=new WeakMap;Object.defineProperties(ry.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ry.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class ny{constructor(){sy.set(this,function(){const t=Object.create(ry.prototype);return ey.call(t),iy.set(t,!1),t}())}get signal(){return oy(this)}abort(){var t;t=oy(this),!1===iy.get(t)&&(iy.set(t,!0),t.dispatchEvent({type:"abort"}))}}const sy=new WeakMap;function oy(t){const e=sy.get(t);if(null==e)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===t?"null":typeof t));return e}Object.defineProperties(ny.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(ny.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});var ay,ly=C(Object.freeze({__proto__:null,AbortController:ny,AbortSignal:ry,default:ny}));function uy(){return ay||(ay=1,function(t){const e=f,{kResistStopPropagation:r,SymbolDispose:i}=jb(),n=globalThis.AbortSignal||ly.AbortSignal,s=globalThis.AbortController||ly.AbortController,o=Object.getPrototypeOf((async function(){})).constructor,a=globalThis.Blob||e.Blob,l=void 0!==a?function(t){return t instanceof a}:function(t){return!1},u=(t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)};class c extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError("Expected input to be an Array, got "+typeof t);let e="";for(let r=0;r<t.length;r++)e+=`    ${t[r].stack}\n`;super(e),this.name="AggregateError",this.errors=t}}t.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise(((r,i)=>{t=r,e=i})),resolve:t,reject:e}},promisify:t=>new Promise(((e,r)=>{t(((t,...i)=>t?r(t):e(...i)))})),debuglog:()=>function(){},format:(t,...e)=>t.replace(/%([sdifj])/g,(function(...[t,r]){const i=e.shift();if("f"===r)return i.toFixed(6);if("j"===r)return JSON.stringify(i);if("s"===r&&"object"==typeof i){return`${i.constructor!==Object?i.constructor.name:""} {}`.trim()}return i.toString()})),inspect(t){switch(typeof t){case"string":if(t.includes("'")){if(!t.includes('"'))return`"${t}"`;if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction:t=>t instanceof o,isArrayBufferView:t=>ArrayBuffer.isView(t)},isBlob:l,deprecate:(t,e)=>t,addAbortListener:h.addAbortListener||function(t,e){if(void 0===t)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",t);let n;return u(t,"signal"),((t,e)=>{if("function"!=typeof t)throw new ERR_INVALID_ARG_TYPE(e,"Function",t)})(e,"listener"),t.aborted?queueMicrotask((()=>e())):(t.addEventListener("abort",e,{__proto__:null,once:!0,[r]:!0}),n=()=>{t.removeEventListener("abort",e)}),{__proto__:null,[i](){var t;null===(t=n)||void 0===t||t()}}},AbortSignalAny:n.any||function(t){if(1===t.length)return t[0];const e=new s,r=()=>e.abort();return t.forEach((t=>{u(t,"signals"),t.addEventListener("abort",r,{once:!0})})),e.signal.addEventListener("abort",(()=>{t.forEach((t=>t.removeEventListener("abort",r)))}),{once:!0}),e.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Lb)),Lb.exports}var hy,cy,dy,fy,py={};function my(){if(cy)return hy;cy=1;const{format:t,inspect:e,AggregateError:r}=uy(),i=globalThis.AggregateError||r,n=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,a={};function l(t,e){if(!t)throw new a.ERR_INTERNAL_ASSERTION(e)}function u(t){let e="",r=t.length;const i="-"===t[0]?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function h(e,r,i){i||(i=Error);class s extends i{constructor(...i){super(function(e,r,i){if("function"==typeof r)return l(r.length<=i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${r.length}).`),r(...i);const n=(r.match(/%[dfijoOs]/g)||[]).length;return l(n===i.length,`Code: ${e}; The provided arguments length (${i.length}) does not match the required ones (${n}).`),0===i.length?r:t(r,...i)}(e,r,i))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(s.prototype,{name:{value:i.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),s.prototype.code=e,s.prototype[n]=!0,a[e]=s}function c(t){const e="__node_internal_"+t.name;return Object.defineProperty(t,"name",{value:e}),t}class d extends Error{constructor(t="The operation was aborted",e=void 0){if(void 0!==e&&"object"!=typeof e)throw new a.ERR_INVALID_ARG_TYPE("options","Object",e);super(t,e),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",((t,r,i)=>{l("string"==typeof t,"'name' must be a string"),Array.isArray(r)||(r=[r]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const a=[],u=[],h=[];for(const t of r)l("string"==typeof t,"All expected entries have to be of type string"),s.includes(t)?a.push(t.toLowerCase()):o.test(t)?u.push(t):(l("object"!==t,'The value "object" should be written as "Object"'),h.push(t));if(u.length>0){const t=a.indexOf("object");-1!==t&&(a.splice(a,t,1),u.push("Object"))}if(a.length>0){switch(a.length){case 1:n+=`of type ${a[0]}`;break;case 2:n+=`one of type ${a[0]} or ${a[1]}`;break;default:{const t=a.pop();n+=`one of type ${a.join(", ")}, or ${t}`}}(u.length>0||h.length>0)&&(n+=" or ")}if(u.length>0){switch(u.length){case 1:n+=`an instance of ${u[0]}`;break;case 2:n+=`an instance of ${u[0]} or ${u[1]}`;break;default:{const t=u.pop();n+=`an instance of ${u.join(", ")}, or ${t}`}}h.length>0&&(n+=" or ")}switch(h.length){case 0:break;case 1:h[0].toLowerCase()!==h[0]&&(n+="an "),n+=`${h[0]}`;break;case 2:n+=`one of ${h[0]} or ${h[1]}`;break;default:{const t=h.pop();n+=`one of ${h.join(", ")}, or ${t}`}}if(null==i)n+=`. Received ${i}`;else if("function"==typeof i&&i.name)n+=`. Received function ${i.name}`;else if("object"==typeof i){var c;if(null!==(c=i.constructor)&&void 0!==c&&c.name)n+=`. Received an instance of ${i.constructor.name}`;else{n+=`. Received ${e(i,{depth:-1})}`}}else{let t=e(i,{colors:!1});t.length>25&&(t=`${t.slice(0,25)}...`),n+=`. Received type ${typeof i} (${t})`}return n}),TypeError),h("ERR_INVALID_ARG_VALUE",((t,r,i="is invalid")=>{let n=e(r);n.length>128&&(n=n.slice(0,128)+"...");return`The ${t.includes(".")?"property":"argument"} '${t}' ${i}. Received ${n}`}),TypeError),h("ERR_INVALID_RETURN_VALUE",((t,e,r)=>{var i;return`Expected ${t} to be returned from the "${e}" function but got ${null!=r&&null!==(i=r.constructor)&&void 0!==i&&i.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),h("ERR_MISSING_ARGS",((...t)=>{let e;l(t.length>0,"At least one arg needs to be specified");const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map((t=>`"${t}"`)).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const r=t.pop();e+=`The ${t.join(", ")}, and ${r} arguments`}}return`${e} must be specified`}),TypeError),h("ERR_OUT_OF_RANGE",((t,r,i)=>{let n;return l(r,'Missing "range" argument'),Number.isInteger(i)&&Math.abs(i)>2**32?n=u(String(i)):"bigint"==typeof i?(n=String(i),(i>2n**32n||i<-(2n**32n))&&(n=u(n)),n+="n"):n=e(i),`The value of "${t}" is out of range. It must be ${r}. Received ${n}`}),RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),hy={AbortError:d,aggregateTwoErrors:c((function(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new i([e,t],e.message);return r.code=e.code,r}return t||e})),hideStackFrames:c,codes:a}}function gy(){if(fy)return dy;fy=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:i,NumberIsInteger:n,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:h,String:c,StringPrototypeToUpperCase:d,StringPrototypeTrim:f}=jb(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:m,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:y,ERR_UNKNOWN_SIGNAL:w}}=my(),{normalizeEncoding:v}=uy(),{isAsyncFunction:_,isArrayBufferView:D}=uy().types,S={};const E=/^[0-7]+$/;const x=p(((t,e,r=a,i=o)=>{if("number"!=typeof t)throw new g(e,"number",t);if(!n(t))throw new y(e,"an integer",t);if(t<r||t>i)throw new y(e,`>= ${r} && <= ${i}`,t)})),C=p(((t,e,r=-2147483648,i=2147483647)=>{if("number"!=typeof t)throw new g(e,"number",t);if(!n(t))throw new y(e,"an integer",t);if(t<r||t>i)throw new y(e,`>= ${r} && <= ${i}`,t)})),k=p(((t,e,r=!1)=>{if("number"!=typeof t)throw new g(e,"number",t);if(!n(t))throw new y(e,"an integer",t);const i=r?1:0,s=4294967295;if(t<i||t>s)throw new y(e,`>= ${i} && <= ${s}`,t)}));function O(t,e){if("string"!=typeof t)throw new g(e,"string",t)}const T=p(((t,n,s)=>{if(!e(s,t)){const e=r(i(s,(t=>"string"==typeof t?`'${t}'`:c(t))),", ");throw new b(n,t,"must be one of: "+e)}}));function A(t,e){if("boolean"!=typeof t)throw new g(e,"boolean",t)}function F(t,e,r){return null!=t&&u(t,e)?t[e]:r}const R=p(((e,r,i=null)=>{const n=F(i,"allowArray",!1),s=F(i,"allowFunction",!1);if(!F(i,"nullable",!1)&&null===e||!n&&t(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new g(r,"Object",e)})),M=p(((t,e)=>{if(null!=t&&"object"!=typeof t&&"function"!=typeof t)throw new g(e,"a dictionary",t)})),P=p(((e,r,i=0)=>{if(!t(e))throw new g(r,"Array",e);if(e.length<i){throw new b(r,e,`must be longer than ${i}`)}}));const I=p(((t,e="buffer")=>{if(!D(t))throw new g(e,["Buffer","TypedArray","DataView"],t)}));const B=p(((t,e)=>{if(void 0!==t&&(null===t||"object"!=typeof t||!("aborted"in t)))throw new g(e,"AbortSignal",t)})),j=p(((t,e)=>{if("function"!=typeof t)throw new g(e,"Function",t)})),L=p(((t,e)=>{if("function"!=typeof t||_(t))throw new g(e,"Function",t)})),N=p(((t,e)=>{if(void 0!==t)throw new g(e,"undefined",t)}));const $=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(t,e){if(void 0===t||!h($,t))throw new b(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return dy={isInt32:function(t){return t===(0|t)},isUint32:function(t){return t===t>>>0},parseFileMode:function(t,e,r){if(void 0===t&&(t=r),"string"==typeof t){if(null===h(E,t))throw new b(e,t,"must be a 32-bit unsigned integer or an octal string");t=l(t,8)}return k(t,e),t},validateArray:P,validateStringArray:function(t,e){P(t,e);for(let r=0;r<t.length;r++)O(t[r],`${e}[${r}]`)},validateBooleanArray:function(t,e){P(t,e);for(let r=0;r<t.length;r++)A(t[r],`${e}[${r}]`)},validateAbortSignalArray:function(t,e){P(t,e);for(let r=0;r<t.length;r++){const i=t[r],n=`${e}[${r}]`;if(null==i)throw new g(n,"AbortSignal",i);B(i,n)}},validateBoolean:A,validateBuffer:I,validateDictionary:M,validateEncoding:function(t,e){const r=v(e),i=t.length;if("hex"===r&&i%2!=0)throw new b("encoding",e,`is invalid for data of length ${i}`)},validateFunction:j,validateInt32:C,validateInteger:x,validateNumber:function(t,e,r=void 0,i){if("number"!=typeof t)throw new g(e,"number",t);if(null!=r&&t<r||null!=i&&t>i||(null!=r||null!=i)&&s(t))throw new y(e,`${null!=r?`>= ${r}`:""}${null!=r&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,t)},validateObject:R,validateOneOf:T,validatePlainFunction:L,validatePort:function(t,e="Port",r=!0){if("number"!=typeof t&&"string"!=typeof t||"string"==typeof t&&0===f(t).length||+t!=+t>>>0||t>65535||0===t&&!r)throw new m(e,t,r);return 0|t},validateSignalName:function(t,e="signal"){if(O(t,e),void 0===S[t]){if(void 0!==S[d(t)])throw new w(t+" (signals must use all capital letters)");throw new w(t)}},validateString:O,validateUint32:k,validateUndefined:N,validateUnion:function(t,i,n){if(!e(n,t))throw new g(i,`('${r(n,"|")}')`,t)},validateAbortSignal:B,validateLinkHeaderValue:function(e){if("string"==typeof e)return W(e,"hints"),e;if(t(e)){const t=e.length;let r="";if(0===t)return r;for(let i=0;i<t;i++){const n=e[i];W(n,"hints"),r+=n,i!==t-1&&(r+=", ")}return r}throw new b("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}},dy}var by,yy,wy,vy,_y,Dy,Sy,Ey,xy,Cy={exports:{}};function ky(){return yy?by:(yy=1,by=E.process)}function Oy(){if(vy)return wy;vy=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=jb(),i=r("nodejs.stream.destroyed"),n=r("nodejs.stream.errored"),s=r("nodejs.stream.readable"),o=r("nodejs.stream.writable"),a=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),u=r("nodejs.webstream.controllerErrorFunction");function h(t,e=!1){var r;return!(!t||"function"!=typeof t.pipe||"function"!=typeof t.on||e&&("function"!=typeof t.pause||"function"!=typeof t.resume)||t._writableState&&!1===(null===(r=t._readableState)||void 0===r?void 0:r.readable)||t._writableState&&!t._readableState)}function c(t){var e;return!(!t||"function"!=typeof t.write||"function"!=typeof t.on||t._readableState&&!1===(null===(e=t._writableState)||void 0===e?void 0:e.writable))}function d(t){return t&&(t._readableState||t._writableState||"function"==typeof t.write&&"function"==typeof t.on||"function"==typeof t.pipe&&"function"==typeof t.on)}function f(t){return!(!t||d(t)||"function"!=typeof t.pipeThrough||"function"!=typeof t.getReader||"function"!=typeof t.cancel)}function p(t){return!(!t||d(t)||"function"!=typeof t.getWriter||"function"!=typeof t.abort)}function m(t){return!(!t||d(t)||"object"!=typeof t.readable||"object"!=typeof t.writable)}function g(t){if(!d(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[i]||null!=n&&n.destroyed)}function b(t){if(!c(t))return null;if(!0===t.writableEnded)return!0;const e=t._writableState;return(null==e||!e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)}function y(t,e){if(!h(t))return null;const r=t._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===e&&!0===r.ended&&0===r.length))}function w(t){return t&&null!=t[s]?t[s]:"boolean"!=typeof(null==t?void 0:t.readable)?null:!g(t)&&(h(t)&&t.readable&&!y(t))}function v(t){return t&&null!=t[o]?t[o]:"boolean"!=typeof(null==t?void 0:t.writable)?null:!g(t)&&(c(t)&&t.writable&&!b(t))}function _(t){return"boolean"==typeof t._closed&&"boolean"==typeof t._defaultKeepAlive&&"boolean"==typeof t._removedConnection&&"boolean"==typeof t._removedContLen}function D(t){return"boolean"==typeof t._sent100&&_(t)}return wy={isDestroyed:g,kIsDestroyed:i,isDisturbed:function(t){var e;return!(!t||!(null!==(e=t[a])&&void 0!==e?e:t.readableDidRead||t.readableAborted))},kIsDisturbed:a,isErrored:function(t){var e,r,i,s,o,a,l,u,h,c;return!(!t||!(null!==(e=null!==(r=null!==(i=null!==(s=null!==(o=null!==(a=t[n])&&void 0!==a?a:t.readableErrored)&&void 0!==o?o:t.writableErrored)&&void 0!==s?s:null===(l=t._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==i?i:null===(u=t._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(h=t._readableState)||void 0===h?void 0:h.errored)&&void 0!==e?e:null===(c=t._writableState)||void 0===c?void 0:c.errored))},kIsErrored:n,isReadable:w,kIsReadable:s,kIsClosedPromise:l,kControllerErrorFunction:u,kIsWritable:o,isClosed:function(t){if(!d(t))return null;if("boolean"==typeof t.closed)return t.closed;const e=t._writableState,r=t._readableState;return"boolean"==typeof(null==e?void 0:e.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==e?void 0:e.closed)||(null==r?void 0:r.closed):"boolean"==typeof t._closed&&_(t)?t._closed:null},isDuplexNodeStream:function(t){return!(!t||"function"!=typeof t.pipe||!t._readableState||"function"!=typeof t.on||"function"!=typeof t.write)},isFinished:function(t,e){return d(t)?!!g(t)||(!1===(null==e?void 0:e.readable)||!w(t))&&(!1===(null==e?void 0:e.writable)||!v(t)):null},isIterable:function(r,i){return null!=r&&(!0===i?"function"==typeof r[t]:!1===i?"function"==typeof r[e]:"function"==typeof r[t]||"function"==typeof r[e])},isReadableNodeStream:h,isReadableStream:f,isReadableEnded:function(t){if(!h(t))return null;if(!0===t.readableEnded)return!0;const e=t._readableState;return!(!e||e.errored)&&("boolean"!=typeof(null==e?void 0:e.ended)?null:e.ended)},isReadableFinished:y,isReadableErrored:function(t){var e,r;return d(t)?t.readableErrored?t.readableErrored:null!==(e=null===(r=t._readableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isNodeStream:d,isWebStream:function(t){return f(t)||p(t)||m(t)},isWritable:v,isWritableNodeStream:c,isWritableStream:p,isWritableEnded:b,isWritableFinished:function(t,e){if(!c(t))return null;if(!0===t.writableFinished)return!0;const r=t._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===e&&!0===r.ended&&0===r.length))},isWritableErrored:function(t){var e,r;return d(t)?t.writableErrored?t.writableErrored:null!==(e=null===(r=t._writableState)||void 0===r?void 0:r.errored)&&void 0!==e?e:null:null},isServerRequest:function(t){var e;return"boolean"==typeof t._consuming&&"boolean"==typeof t._dumped&&void 0===(null===(e=t.req)||void 0===e?void 0:e.upgradeOrConnect)},isServerResponse:D,willEmitClose:function(t){if(!d(t))return null;const e=t._writableState,r=t._readableState,i=e||r;return!i&&D(t)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)},isTransformStream:m},wy}function Ty(){if(_y)return Cy.exports;_y=1;const t=ky(),{AbortError:e,codes:r}=my(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:n}=r,{kEmptyObject:s,once:o}=uy(),{validateAbortSignal:a,validateFunction:l,validateObject:u,validateBoolean:h}=gy(),{Promise:c,PromisePrototypeThen:d,SymbolDispose:f}=jb(),{isClosed:p,isReadable:m,isReadableNodeStream:g,isReadableStream:b,isReadableFinished:y,isReadableErrored:w,isWritable:v,isWritableNodeStream:_,isWritableStream:D,isWritableFinished:S,isWritableErrored:E,isNodeStream:x,willEmitClose:C,kIsClosedPromise:k}=Oy();let O;const T=()=>{};function A(r,h,c){var A,F;if(2===arguments.length?(c=h,h=s):null==h?h=s:u(h,"options"),l(c,"callback"),a(h.signal,"options.signal"),c=o(c),b(r)||D(r))return function(r,i,n){let s=!1,a=T;if(i.signal)if(a=()=>{s=!0,n.call(r,new e(void 0,{cause:i.signal.reason}))},i.signal.aborted)t.nextTick(a);else{O=O||uy().addAbortListener;const t=O(i.signal,a),e=n;n=o(((...i)=>{t[f](),e.apply(r,i)}))}const l=(...e)=>{s||t.nextTick((()=>n.apply(r,e)))};return d(r[k].promise,l,l),T}(r,h,c);if(!x(r))throw new i("stream",["ReadableStream","WritableStream","Stream"],r);const R=null!==(A=h.readable)&&void 0!==A?A:g(r),M=null!==(F=h.writable)&&void 0!==F?F:_(r),P=r._writableState,I=r._readableState,B=()=>{r.writable||N()};let j=C(r)&&g(r)===R&&_(r)===M,L=S(r,!1);const N=()=>{L=!0,r.destroyed&&(j=!1),(!j||r.readable&&!R)&&(R&&!$||c.call(r))};let $=y(r,!1);const W=()=>{$=!0,r.destroyed&&(j=!1),(!j||r.writable&&!M)&&(M&&!L||c.call(r))},U=t=>{c.call(r,t)};let z=p(r);const H=()=>{z=!0;const t=E(r)||w(r);return t&&"boolean"!=typeof t?c.call(r,t):R&&!$&&g(r,!0)&&!y(r,!1)?c.call(r,new n):!M||L||S(r,!1)?void c.call(r):c.call(r,new n)},G=()=>{z=!0;const t=E(r)||w(r);if(t&&"boolean"!=typeof t)return c.call(r,t);c.call(r)},V=()=>{r.req.on("finish",N)};!function(t){return t.setHeader&&"function"==typeof t.abort}(r)?M&&!P&&(r.on("end",B),r.on("close",B)):(r.on("complete",N),j||r.on("abort",H),r.req?V():r.on("request",V)),j||"boolean"!=typeof r.aborted||r.on("aborted",H),r.on("end",W),r.on("finish",N),!1!==h.error&&r.on("error",U),r.on("close",H),z?t.nextTick(H):null!=P&&P.errorEmitted||null!=I&&I.errorEmitted?j||t.nextTick(G):(R||j&&!m(r)||!L&&!1!==v(r))&&(M||j&&!v(r)||!$&&!1!==m(r))?I&&r.req&&r.aborted&&t.nextTick(G):t.nextTick(G);const q=()=>{c=T,r.removeListener("aborted",H),r.removeListener("complete",N),r.removeListener("abort",H),r.removeListener("request",V),r.req&&r.req.removeListener("finish",N),r.removeListener("end",B),r.removeListener("close",B),r.removeListener("finish",N),r.removeListener("end",W),r.removeListener("error",U),r.removeListener("close",H)};if(h.signal&&!z){const i=()=>{const t=c;q(),t.call(r,new e(void 0,{cause:h.signal.reason}))};if(h.signal.aborted)t.nextTick(i);else{O=O||uy().addAbortListener;const t=O(h.signal,i),e=c;c=o(((...i)=>{t[f](),e.apply(r,i)}))}}return q}return Cy.exports=A,Cy.exports.finished=function(t,e){var r;let i=!1;return null===e&&(e=s),null!==(r=e)&&void 0!==r&&r.cleanup&&(h(e.cleanup,"cleanup"),i=e.cleanup),new c(((r,n)=>{const s=A(t,e,(t=>{i&&s(),t?n(t):r()}))}))},Cy.exports}function Ay(){if(Sy)return Dy;Sy=1;const t=ky(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:i}=my(),{Symbol:n}=jb(),{kIsDestroyed:s,isDestroyed:o,isFinished:a,isServerRequest:l}=Oy(),u=n("kDestroy"),h=n("kConstruct");function c(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function d(e,r,i){let n=!1;function s(r){if(n)return;n=!0;const s=e._readableState,o=e._writableState;c(r,o,s),o&&(o.closed=!0),s&&(s.closed=!0),"function"==typeof i&&i(r),r?t.nextTick(f,e,r):t.nextTick(p,e)}try{e._destroy(r||null,s)}catch(r){s(r)}}function f(t,e){m(t,e),p(t)}function p(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(null!=r&&r.emitClose||null!=e&&e.emitClose)&&t.emit("close")}function m(t,e){const r=t._readableState,i=t._writableState;null!=i&&i.errorEmitted||null!=r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function g(e,r,i){const n=e._readableState,s=e._writableState;if(null!=s&&s.destroyed||null!=n&&n.destroyed)return this;null!=n&&n.autoDestroy||null!=s&&s.autoDestroy?e.destroy(r):r&&(r.stack,s&&!s.errored&&(s.errored=r),n&&!n.errored&&(n.errored=r),i?t.nextTick(m,e,r):m(e,r))}function b(e){let i=!1;function n(n){if(i)return void g(e,null!=n?n:new r);i=!0;const s=e._readableState,o=e._writableState,a=o||s;s&&(s.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(u,n):n?g(e,n,!0):t.nextTick(y,e)}try{e._construct((e=>{t.nextTick(n,e)}))}catch(e){t.nextTick(n,e)}}function y(t){t.emit(h)}function w(t){return(null==t?void 0:t.setHeader)&&"function"==typeof t.abort}function v(t){t.emit("close")}function _(e,r){e.emit("error",r),t.nextTick(v,e)}return Dy={construct:function(e,r){if("function"!=typeof e._construct)return;const i=e._readableState,n=e._writableState;i&&(i.constructed=!1),n&&(n.constructed=!1),e.once(h,r),e.listenerCount(h)>1||t.nextTick(b,e)},destroyer:function(e,r){e&&!o(e)&&(r||a(e)||(r=new i),l(e)?(e.socket=null,e.destroy(r)):w(e)?e.abort():w(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(r):"function"==typeof e.close?e.close():r?t.nextTick(_,e,r):t.nextTick(v,e),e.destroyed||(e[s]=!0))},destroy:function(t,r){const i=this._readableState,n=this._writableState,s=n||i;return null!=n&&n.destroyed||null!=i&&i.destroyed?("function"==typeof r&&r(),this):(c(t,n,i),n&&(n.destroyed=!0),i&&(i.destroyed=!0),s.constructed?d(this,t,r):this.once(u,(function(i){d(this,e(i,t),r)})),this)},undestroy:function(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=!1===t.readable,t.endEmitted=!1===t.readable),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=!1===e.writable,e.ending=!1===e.writable,e.finished=!1===e.writable)},errorOrDestroy:g},Dy}function Fy(){if(xy)return Ey;xy=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=jb(),{EventEmitter:r}=h;function i(t){r.call(this,t)}function n(e,r,i){if("function"==typeof e.prependListener)return e.prependListener(r,i);e._events&&e._events[r]?t(e._events[r])?e._events[r].unshift(i):e._events[r]=[i,e._events[r]]:e.on(r,i)}return e(i.prototype,r.prototype),e(i,r),i.prototype.pipe=function(t,e){const i=this;function s(e){t.writable&&!1===t.write(e)&&i.pause&&i.pause()}function o(){i.readable&&i.resume&&i.resume()}i.on("data",s),t.on("drain",o),t._isStdio||e&&!1===e.end||(i.on("end",l),i.on("close",u));let a=!1;function l(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){c(),0===r.listenerCount(this,"error")&&this.emit("error",t)}function c(){i.removeListener("data",s),t.removeListener("drain",o),i.removeListener("end",l),i.removeListener("close",u),i.removeListener("error",h),t.removeListener("error",h),i.removeListener("end",c),i.removeListener("close",c),t.removeListener("close",c)}return n(i,"error",h),n(t,"error",h),i.on("end",c),i.on("close",c),t.on("close",c),t.emit("pipe",i),t},Ey={Stream:i,prependListener:n}}var Ry,My,Py,Iy,By,jy,Ly,Ny,$y,Wy,Uy,zy,Hy,Gy,Vy,qy,Yy,Zy,Ky,Jy,Qy,Xy,tw,ew,rw,iw,nw,sw={exports:{}};function ow(){return Ry||(Ry=1,function(t){const{SymbolDispose:e}=jb(),{AbortError:r,codes:i}=my(),{isNodeStream:n,isWebStream:s,kControllerErrorFunction:o}=Oy(),a=Ty(),{ERR_INVALID_ARG_TYPE:l}=i;let u;t.exports.addAbortSignal=function(e,r){if(((t,e)=>{if("object"!=typeof t||!("aborted"in t))throw new l(e,"AbortSignal",t)})(e,"signal"),!n(r)&&!s(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return t.exports.addAbortSignalNoValidate(e,r)},t.exports.addAbortSignalNoValidate=function(t,i){if("object"!=typeof t||!("aborted"in t))return i;const s=n(i)?()=>{i.destroy(new r(void 0,{cause:t.reason}))}:()=>{i[o](new r(void 0,{cause:t.reason}))};if(t.aborted)s();else{u=u||uy().addAbortListener;const r=u(t,s);a(i,r[e])}return i}}(sw)),sw.exports}function aw(){if(Py)return My;Py=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:i}=jb(),{Buffer:n}=f,{inspect:s}=uy();return My=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){const e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}unshift(t){const e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}shift(){if(0===this.length)return;const t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(0===this.length)return"";let e=this.head,r=""+e.data;for(;null!==(e=e.next);)r+=t+e.data;return r}concat(t){if(0===this.length)return n.alloc(0);const e=n.allocUnsafe(t>>>0);let i=this.head,s=0;for(;i;)r(e,i.data,s),s+=i.data.length,i=i.next;return e}consume(t,e){const r=this.head.data;if(t<r.length){const e=r.slice(0,t);return this.head.data=r.slice(t),e}return t===r.length?this.shift():e?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[e](){for(let t=this.head;t;t=t.next)yield t.data}_getString(e){let r="",i=this.head,n=0;do{const s=i.data;if(!(e>s.length)){e===s.length?(r+=s,++n,i.next?this.head=i.next:this.head=this.tail=null):(r+=t(s,0,e),this.head=i,i.data=t(s,e));break}r+=s,e-=s.length,++n}while(null!==(i=i.next));return this.length-=n,r}_getBuffer(t){const e=n.allocUnsafe(t),s=t;let o=this.head,a=0;do{const n=o.data;if(!(t>n.length)){t===n.length?(r(e,n,s-t),++a,o.next?this.head=o.next:this.head=this.tail=null):(r(e,new i(n.buffer,n.byteOffset,t),s-t),this.head=o,o.data=n.slice(t));break}r(e,n,s-t),t-=n.length,++a}while(null!==(o=o.next));return this.length-=a,e}[Symbol.for("nodejs.util.inspect.custom")](t,e){return s(this,{...e,depth:0,customInspect:!1})}},My}function lw(){if(By)return Iy;By=1;const{MathFloor:t,NumberIsInteger:e}=jb(),{validateInteger:r}=gy(),{ERR_INVALID_ARG_VALUE:i}=my().codes;let n=16384,s=16;function o(t){return t?s:n}return Iy={getHighWaterMark:function(r,n,s,a){const l=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(n,a,s);if(null!=l){if(!e(l)||l<0){throw new i(a?`options.${s}`:"options.highWaterMark",l)}return t(l)}return o(r.objectMode)},getDefaultHighWaterMark:o,setDefaultHighWaterMark:function(t,e){r(e,"value",0),t?s=e:n=e}},Iy}function uw(){if(Ly)return jy;Ly=1;const t=ky(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:i}=jb(),{Buffer:n}=f,{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:o}=my().codes;return jy=function(a,l,u){let h,c;if("string"==typeof l||l instanceof n)return new a({objectMode:!0,...u,read(){this.push(l),this.push(null)}});if(l&&l[r])c=!0,h=l[r]();else{if(!l||!l[i])throw new s("iterable",["Iterable"],l);c=!1,h=l[i]()}const d=new a({objectMode:!0,highWaterMark:1,...u});let f=!1;return d._read=function(){f||(f=!0,async function(){for(;;){try{const{value:t,done:e}=c?await h.next():h.next();if(e)d.push(null);else{const e=t&&"function"==typeof t.then?await t:t;if(null===e)throw f=!1,new o;if(d.push(e))continue;f=!1}}catch(t){d.destroy(t)}break}}())},d._destroy=function(r,i){e(async function(t){const e=null!=t,r="function"==typeof h.throw;if(e&&r){const{value:e,done:r}=await h.throw(t);if(await e,r)return}if("function"==typeof h.return){const{value:t}=await h.return();await t}}(r),(()=>t.nextTick(i,r)),(e=>t.nextTick(i,e||r)))},d},jy}function hw(){if($y)return Ny;$y=1;const t=ky(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:i,NumberParseInt:n,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:a,Promise:l,SafeSet:u,SymbolAsyncDispose:c,SymbolAsyncIterator:d,Symbol:p}=jb();Ny=Z,Z.ReadableState=Y;const{EventEmitter:m}=h,{Stream:g,prependListener:y}=Fy(),{Buffer:w}=f,{addAbortSignal:v}=ow(),_=Ty();let D=uy().debuglog("stream",(t=>{D=t}));const S=aw(),E=Ay(),{getHighWaterMark:x,getDefaultHighWaterMark:C}=lw(),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:O,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:A,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:R},AbortError:M}=my(),{validateObject:P}=gy(),I=p("kPaused"),{StringDecoder:B}=b,j=uw();a(Z.prototype,g.prototype),a(Z,g);const L=()=>{},{errorOrDestroy:N}=E,$=1,W=16,U=32,z=64,H=2048,G=4096,V=65536;function q(t){return{enumerable:!1,get(){return!!(this.state&t)},set(e){e?this.state|=t:this.state&=~t}}}function Y(t,e,r){"boolean"!=typeof r&&(r=e instanceof fw()),this.state=H|G|W|U,t&&t.objectMode&&(this.state|=$),r&&t&&t.readableObjectMode&&(this.state|=$),this.highWaterMark=t?x(this,t,"readableHighWaterMark",r):C(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[I]=null,t&&!1===t.emitClose&&(this.state&=~H),t&&!1===t.autoDestroy&&(this.state&=~G),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new B(t.encoding),this.encoding=t.encoding)}function Z(t){if(!(this instanceof Z))return new Z(t);const e=this instanceof fw();this._readableState=new Y(t,this,e),t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&!e&&v(t.signal,this)),g.call(this,t),E.construct(this,(()=>{this._readableState.needReadable&&et(this,this._readableState)}))}function K(t,e,r,i){D("readableAddChunk",e);const n=t._readableState;let s;if(n.state&$||("string"==typeof e?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?e=w.from(e,r).toString(n.encoding):(e=w.from(e,r),r=""))):e instanceof w?r="":g._isUint8Array(e)?(e=g._uint8ArrayToBuffer(e),r=""):null!=e&&(s=new O("chunk",["string","Buffer","Uint8Array"],e))),s)N(t,s);else if(null===e)n.state&=-9,function(t,e){if(D("onEofChunk"),e.ended)return;if(e.decoder){const t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?X(t):(e.needReadable=!1,e.emittedReadable=!0,tt(t))}(t,n);else if(n.state&$||e&&e.length>0)if(i)if(4&n.state)N(t,new R);else{if(n.destroyed||n.errored)return!1;J(t,n,e,!0)}else if(n.ended)N(t,new F);else{if(n.destroyed||n.errored)return!1;n.state&=-9,n.decoder&&!r?(e=n.decoder.write(e),n.objectMode||0!==e.length?J(t,n,e,!1):et(t,n)):J(t,n,e,!1)}else i||(n.state&=-9,et(t,n));return!n.ended&&(n.length<n.highWaterMark||0===n.length)}function J(t,e,r,i){e.flowing&&0===e.length&&!e.sync&&t.listenerCount("data")>0?(e.state&V?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.state&z&&X(t)),et(t,e)}s(Y.prototype,{objectMode:q($),ended:q(2),endEmitted:q(4),reading:q(8),constructed:q(W),sync:q(U),needReadable:q(z),emittedReadable:q(128),readableListening:q(256),resumeScheduled:q(512),errorEmitted:q(1024),emitClose:q(H),autoDestroy:q(G),destroyed:q(8192),closed:q(16384),closeEmitted:q(32768),multiAwaitDrain:q(V),readingMore:q(1<<17),dataEmitted:q(1<<18)}),Z.prototype.destroy=E.destroy,Z.prototype._undestroy=E.undestroy,Z.prototype._destroy=function(t,e){e(t)},Z.prototype[m.captureRejectionSymbol]=function(t){this.destroy(t)},Z.prototype[c]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new M,this.destroy(t)),new l(((e,r)=>_(this,(i=>i&&i!==t?r(i):e(null)))))},Z.prototype.push=function(t,e){return K(this,t,e,!1)},Z.prototype.unshift=function(t,e){return K(this,t,e,!0)},Z.prototype.isPaused=function(){const t=this._readableState;return!0===t[I]||!1===t.flowing},Z.prototype.setEncoding=function(t){const e=new B(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let i="";for(const t of r)i+=e.write(t);return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this};function Q(t,e){return t<=0||0===e.length&&e.ended?0:e.state&$?1:i(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}function X(e){const r=e._readableState;D("emitReadable",r.needReadable,r.emittedReadable),r.needReadable=!1,r.emittedReadable||(D("emitReadable",r.flowing),r.emittedReadable=!0,t.nextTick(tt,e))}function tt(t){const e=t._readableState;D("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||e.errored||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,ot(t)}function et(e,r){!r.readingMore&&r.constructed&&(r.readingMore=!0,t.nextTick(rt,e,r))}function rt(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){const r=e.length;if(D("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function it(t){const e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!1===e[I]?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function nt(t){D("readable nexttick read 0"),t.read(0)}function st(t,e){D("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),ot(t),e.flowing&&!e.reading&&t.read(0)}function ot(t){const e=t._readableState;for(D("flow",e.flowing);e.flowing&&null!==t.read(););}function at(t,e){"function"!=typeof t.read&&(t=Z.wrap(t,{objectMode:!0}));const r=async function*(t,e){let r,i=L;function n(e){this===t?(i(),i=L):i=e}t.on("readable",n);const s=_(t,{writable:!1},(t=>{r=t?k(r,t):null,i(),i=L}));try{for(;;){const e=t.destroyed?null:t.read();if(null!==e)yield e;else{if(r)throw r;if(null===r)return;await new l(n)}}}catch(t){throw r=k(r,t),r}finally{!r&&!1===(null==e?void 0:e.destroyOnReturn)||void 0!==r&&!t._readableState.autoDestroy?(t.off("readable",n),s()):E.destroyer(t,null)}}(t,e);return r.stream=t,r}function lt(t,e){if(0===e.length)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ut(e){const r=e._readableState;D("endReadable",r.endEmitted),r.endEmitted||(r.ended=!0,t.nextTick(ht,r,e))}function ht(e,r){if(D("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,r.emit("end"),r.writable&&!1===r.allowHalfOpen)t.nextTick(ct,r);else if(e.autoDestroy){const t=r._writableState;(!t||t.autoDestroy&&(t.finished||!1===t.writable))&&r.destroy()}}function ct(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}let dt;function ft(){return void 0===dt&&(dt={}),dt}return Z.prototype.read=function(t){D("read",t),void 0===t?t=NaN:r(t)||(t=n(t,10));const e=this._readableState,i=t;if(t>e.highWaterMark&&(e.highWaterMark=function(t){if(t>1073741824)throw new A("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,++t}(t)),0!==t&&(e.state&=-129),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return D("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?ut(this):X(this),null;if(0===(t=Q(t,e))&&e.ended)return 0===e.length&&ut(this),null;let s,o=!!(e.state&z);if(D("need readable",o),(0===e.length||e.length-t<e.highWaterMark)&&(o=!0,D("length less than watermark",o)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)o=!1,D("reading, ended or constructing",o);else if(o){D("do read"),e.state|=8|U,0===e.length&&(e.state|=z);try{this._read(e.highWaterMark)}catch(t){N(this,t)}e.state&=~U,e.reading||(t=Q(i,e))}return s=t>0?lt(t,e):null,null===s?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),0===e.length&&(e.ended||(e.needReadable=!0),i!==t&&e.ended&&ut(this)),null===s||e.errorEmitted||e.closeEmitted||(e.dataEmitted=!0,this.emit("data",s)),s},Z.prototype._read=function(t){throw new T("_read()")},Z.prototype.pipe=function(e,r){const i=this,n=this._readableState;1===n.pipes.length&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new u(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),D("pipe count=%d opts=%j",n.pipes.length,r);const s=(!r||!1!==r.end)&&e!==t.stdout&&e!==t.stderr?a:g;function o(t,r){D("onunpipe"),t===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,function(){D("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),l&&e.removeListener("drain",l);e.removeListener("error",f),e.removeListener("unpipe",o),i.removeListener("end",a),i.removeListener("end",g),i.removeListener("data",d),h=!0,l&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&l()}())}function a(){D("onend"),e.end()}let l;n.endEmitted?t.nextTick(s):i.once("end",s),e.on("unpipe",o);let h=!1;function c(){h||(1===n.pipes.length&&n.pipes[0]===e?(D("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(D("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),i.pause()),l||(l=function(t,e){return function(){const r=t._readableState;r.awaitDrainWriters===e?(D("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(D("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(e)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!t.listenerCount("data")||t.resume()}}(i,e),e.on("drain",l))}function d(t){D("ondata");const r=e.write(t);D("dest.write",r),!1===r&&c()}function f(t){if(D("onerror",t),g(),e.removeListener("error",f),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?N(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",m),g()}function m(){D("onfinish"),e.removeListener("close",p),g()}function g(){D("unpipe"),i.unpipe(e)}return i.on("data",d),y(e,"error",f),e.once("close",p),e.once("finish",m),e.emit("pipe",i),!0===e.writableNeedDrain?c():n.flowing||(D("pipe resume"),i.resume()),e},Z.prototype.unpipe=function(t){const r=this._readableState;if(0===r.pipes.length)return this;if(!t){const t=r.pipes;r.pipes=[],this.pause();for(let e=0;e<t.length;e++)t[e].emit("unpipe",this,{hasUnpiped:!1});return this}const i=e(r.pipes,t);return-1===i||(r.pipes.splice(i,1),0===r.pipes.length&&this.pause(),t.emit("unpipe",this,{hasUnpiped:!1})),this},Z.prototype.on=function(e,r){const i=g.prototype.on.call(this,e,r),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,D("on readable",n.length,n.reading),n.length?X(this):n.reading||t.nextTick(nt,this))),i},Z.prototype.addListener=Z.prototype.on,Z.prototype.removeListener=function(e,r){const i=g.prototype.removeListener.call(this,e,r);return"readable"===e&&t.nextTick(it,this),i},Z.prototype.off=Z.prototype.removeListener,Z.prototype.removeAllListeners=function(e){const r=g.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||t.nextTick(it,this),r},Z.prototype.resume=function(){const e=this._readableState;return e.flowing||(D("resume"),e.flowing=!e.readableListening,function(e,r){r.resumeScheduled||(r.resumeScheduled=!0,t.nextTick(st,e,r))}(this,e)),e[I]=!1,this},Z.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[I]=!0,this},Z.prototype.wrap=function(t){let e=!1;t.on("data",(r=>{!this.push(r)&&t.pause&&(e=!0,t.pause())})),t.on("end",(()=>{this.push(null)})),t.on("error",(t=>{N(this,t)})),t.on("close",(()=>{this.destroy()})),t.on("destroy",(()=>{this.destroy()})),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};const r=o(t);for(let e=1;e<r.length;e++){const i=r[e];void 0===this[i]&&"function"==typeof t[i]&&(this[i]=t[i].bind(t))}return this},Z.prototype[d]=function(){return at(this)},Z.prototype.iterator=function(t){return void 0!==t&&P(t,"options"),at(this,t)},s(Z.prototype,{readable:{__proto__:null,get(){const t=this._readableState;return!(!t||!1===t.readable||t.destroyed||t.errorEmitted||t.endEmitted)},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),s(Y.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[I]},set(t){this[I]=!!t}}}),Z._fromList=lt,Z.from=function(t,e){return j(Z,t,e)},Z.fromWeb=function(t,e){return ft().newStreamReadableFromReadableStream(t,e)},Z.toWeb=function(t,e){return ft().newReadableStreamFromStreamReadable(t,e)},Z.wrap=function(t,e){var r,i;return new Z({objectMode:null===(r=null!==(i=t.readableObjectMode)&&void 0!==i?i:t.objectMode)||void 0===r||r,...e,destroy(e,r){E.destroyer(t,e),r(e)}}).wrap(t)},Ny}function cw(){if(Uy)return Wy;Uy=1;const t=ky(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:n,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:u}=jb();Wy=M,M.WritableState=F;const{EventEmitter:c}=h,d=Fy().Stream,{Buffer:p}=f,m=Ay(),{addAbortSignal:g}=ow(),{getHighWaterMark:b,getDefaultHighWaterMark:y}=lw(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:E,ERR_STREAM_NULL_VALUES:x,ERR_STREAM_WRITE_AFTER_END:C,ERR_UNKNOWN_ENCODING:k}=my().codes,{errorOrDestroy:O}=m;function T(){}o(M.prototype,d.prototype),o(M,d);const A=l("kOnFinished");function F(t,e,r){"boolean"!=typeof r&&(r=e instanceof fw()),this.objectMode=!(!t||!t.objectMode),r&&(this.objectMode=this.objectMode||!(!t||!t.writableObjectMode)),this.highWaterMark=t?b(this,t,"writableHighWaterMark",r):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!t||!1!==t.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,R(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||!1!==t.emitClose,this.autoDestroy=!t||!1!==t.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[A]=[]}function R(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}function M(t){const e=this instanceof fw();if(!e&&!i(M,this))return new M(t);this._writableState=new F(t,this,e),t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final),"function"==typeof t.construct&&(this._construct=t.construct),t.signal&&g(t.signal,this)),d.call(this,t),m.construct(this,(()=>{const t=this._writableState;t.writing||W(this,t),H(this,t)}))}function P(e,r,i,n){const s=e._writableState;if("function"==typeof i)n=i,i=s.defaultEncoding;else{if(i){if("buffer"!==i&&!p.isEncoding(i))throw new k(i)}else i=s.defaultEncoding;"function"!=typeof n&&(n=T)}if(null===r)throw new x;if(!s.objectMode)if("string"==typeof r)!1!==s.decodeStrings&&(r=p.from(r,i),i="buffer");else if(r instanceof p)i="buffer";else{if(!d._isUint8Array(r))throw new w("chunk",["string","Buffer","Uint8Array"],r);r=d._uint8ArrayToBuffer(r),i="buffer"}let o;return s.ending?o=new C:s.destroyed&&(o=new S("write")),o?(t.nextTick(n,o),O(e,o,!0),o):(s.pendingcb++,function(t,e,r,i,n){const s=e.objectMode?1:r.length;e.length+=s;const o=e.length<e.highWaterMark;o||(e.needDrain=!0);e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:i,callback:n}),e.allBuffers&&"buffer"!==i&&(e.allBuffers=!1),e.allNoop&&n!==T&&(e.allNoop=!1)):(e.writelen=s,e.writecb=n,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1);return o&&!e.errored&&!e.destroyed}(e,s,r,i,n))}function I(t,e,r,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new S("write")):r?t._writev(n,e.onwrite):t._write(n,s,e.onwrite),e.sync=!1}function B(t,e,r,i){--e.pendingcb,i(r),$(e),O(t,r)}function j(e,r){const i=e._writableState,n=i.sync,s=i.writecb;"function"==typeof s?(i.writing=!1,i.writecb=null,i.length-=i.writelen,i.writelen=0,r?(r.stack,i.errored||(i.errored=r),e._readableState&&!e._readableState.errored&&(e._readableState.errored=r),n?t.nextTick(B,e,i,r,s):B(e,i,r,s)):(i.buffered.length>i.bufferedIndex&&W(e,i),n?null!==i.afterWriteTickInfo&&i.afterWriteTickInfo.cb===s?i.afterWriteTickInfo.count++:(i.afterWriteTickInfo={count:1,cb:s,stream:e,state:i},t.nextTick(L,i.afterWriteTickInfo)):N(e,i,1,s))):O(e,new _)}function L({stream:t,state:e,count:r,cb:i}){return e.afterWriteTickInfo=null,N(t,e,r,i)}function N(t,e,r,i){for(!e.ending&&!t.destroyed&&0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,i();e.destroyed&&$(e),H(t,e)}function $(t){if(t.writing)return;for(let r=t.bufferedIndex;r<t.buffered.length;++r){var e;const{chunk:i,callback:n}=t.buffered[r],s=t.objectMode?1:i.length;t.length-=s,n(null!==(e=t.errored)&&void 0!==e?e:new S("write"))}const r=t[A].splice(0);for(let e=0;e<r.length;e++){var i;r[e](null!==(i=t.errored)&&void 0!==i?i:new S("end"))}R(t)}function W(t,r){if(r.corked||r.bufferProcessing||r.destroyed||!r.constructed)return;const{buffered:i,bufferedIndex:n,objectMode:s}=r,o=i.length-n;if(!o)return;let a=n;if(r.bufferProcessing=!0,o>1&&t._writev){r.pendingcb-=o-1;const n=r.allNoop?T:t=>{for(let e=a;e<i.length;++e)i[e].callback(t)},s=r.allNoop&&0===a?i:e(i,a);s.allBuffers=r.allBuffers,I(t,r,!0,r.length,s,"",n),R(r)}else{do{const{chunk:e,encoding:n,callback:o}=i[a];i[a++]=null;I(t,r,!1,s?1:e.length,e,n,o)}while(a<i.length&&!r.writing);a===i.length?R(r):a>256?(i.splice(0,a),r.bufferedIndex=0):r.bufferedIndex=a}r.bufferProcessing=!1}function U(t){return t.ending&&!t.destroyed&&t.constructed&&0===t.length&&!t.errored&&0===t.buffered.length&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function z(e,r){r.prefinished||r.finalCalled||("function"!=typeof e._final||r.destroyed?(r.prefinished=!0,e.emit("prefinish")):(r.finalCalled=!0,function(e,r){let i=!1;function n(n){if(i)O(e,null!=n?n:_());else if(i=!0,r.pendingcb--,n){const t=r[A].splice(0);for(let e=0;e<t.length;e++)t[e](n);O(e,n,r.sync)}else U(r)&&(r.prefinished=!0,e.emit("prefinish"),r.pendingcb++,t.nextTick(G,e,r))}r.sync=!0,r.pendingcb++;try{e._final(n)}catch(t){n(t)}r.sync=!1}(e,r)))}function H(e,r,i){U(r)&&(z(e,r),0===r.pendingcb&&(i?(r.pendingcb++,t.nextTick(((t,e)=>{U(e)?G(t,e):e.pendingcb--}),e,r)):U(r)&&(r.pendingcb++,G(e,r))))}function G(t,e){e.pendingcb--,e.finished=!0;const r=e[A].splice(0);for(let t=0;t<r.length;t++)r[t]();if(t.emit("finish"),e.autoDestroy){const e=t._readableState;(!e||e.autoDestroy&&(e.endEmitted||!1===e.readable))&&t.destroy()}}F.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},n(F.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),n(M,u,{__proto__:null,value:function(t){return!!i(this,t)||this===M&&(t&&t._writableState instanceof F)}}),M.prototype.pipe=function(){O(this,new D)},M.prototype.write=function(t,e,r){return!0===P(this,t,e,r)},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){const t=this._writableState;t.corked&&(t.corked--,t.writing||W(this,t))},M.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=a(t)),!p.isEncoding(t))throw new k(t);return this._writableState.defaultEncoding=t,this},M.prototype._write=function(t,e,r){if(!this._writev)throw new v("_write()");this._writev([{chunk:t,encoding:e}],r)},M.prototype._writev=null,M.prototype.end=function(e,i,n){const s=this._writableState;let o;if("function"==typeof e?(n=e,e=null,i=null):"function"==typeof i&&(n=i,i=null),null!=e){const t=P(this,e,i);t instanceof r&&(o=t)}return s.corked&&(s.corked=1,this.uncork()),o||(s.errored||s.ending?s.finished?o=new E("end"):s.destroyed&&(o=new S("end")):(s.ending=!0,H(this,s,!0),s.ended=!0)),"function"==typeof n&&(o||s.finished?t.nextTick(n,o):s[A].push(n)),this},s(M.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){const t=this._writableState;return!(!t||!1===t.writable||t.destroyed||t.errored||t.ending||t.ended)},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const t=this._writableState;return!!t&&(!t.destroyed&&!t.ending&&t.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const V=m.destroy;let q;function Y(){return void 0===q&&(q={}),q}return M.prototype.destroy=function(e,r){const i=this._writableState;return!i.destroyed&&(i.bufferedIndex<i.buffered.length||i[A].length)&&t.nextTick($,i),V.call(this,e,r),this},M.prototype._undestroy=m.undestroy,M.prototype._destroy=function(t,e){e(t)},M.prototype[c.captureRejectionSymbol]=function(t){this.destroy(t)},M.fromWeb=function(t,e){return Y().newStreamWritableFromWritableStream(t,e)},M.toWeb=function(t){return Y().newWritableStreamFromStreamWritable(t)},Wy}function dw(){if(Hy)return zy;Hy=1;const t=ky(),e=f,{isReadable:r,isWritable:i,isIterable:n,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:u,isWritableStream:h}=Oy(),c=Ty(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:m}}=my(),{destroyer:g}=Ay(),b=fw(),y=hw(),w=cw(),{createDeferredPromise:v}=uy(),_=uw(),D=globalThis.Blob||e.Blob,S=void 0!==D?function(t){return t instanceof D}:function(t){return!1},E=globalThis.AbortController||ly.AbortController,{FunctionPrototypeCall:x}=jb();class C extends b{constructor(t){super(t),!1===(null==t?void 0:t.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==t?void 0:t.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function k(t){const e=t.readable&&"function"!=typeof t.readable.read?y.wrap(t.readable):t.readable,n=t.writable;let s,o,a,l,u,h=!!r(e),f=!!i(n);function p(t){const e=l;l=null,e?e(t):t&&u.destroy(t)}return u=new C({readableObjectMode:!(null==e||!e.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:h,writable:f}),f&&(c(n,(t=>{f=!1,t&&g(e,t),p(t)})),u._write=function(t,e,r){n.write(t,e)?r():s=r},u._final=function(t){n.end(),o=t},n.on("drain",(function(){if(s){const t=s;s=null,t()}})),n.on("finish",(function(){if(o){const t=o;o=null,t()}}))),h&&(c(e,(t=>{h=!1,t&&g(e,t),p(t)})),e.on("readable",(function(){if(a){const t=a;a=null,t()}})),e.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const t=e.read();if(null===t)return void(a=u._read);if(!u.push(t))return}}),u._destroy=function(t,r){t||null===l||(t=new d),a=null,s=null,o=null,null===l?r(t):(l=r,g(n,t),g(e,t))},u}return zy=function e(r,i){if(l(r))return r;if(o(r))return k({readable:r});if(a(r))return k({writable:r});if(s(r))return k({writable:!1,readable:!1});if(u(r))return k({readable:y.fromWeb(r)});if(h(r))return k({writable:w.fromWeb(r)});if("function"==typeof r){const{value:e,write:s,final:o,destroy:a}=function(e){let{promise:r,resolve:i}=v();const n=new E,s=n.signal,o=e(async function*(){for(;;){const e=r;r=null;const{chunk:n,done:o,cb:a}=await e;if(t.nextTick(a),o)return;if(s.aborted)throw new d(void 0,{cause:s.reason});({promise:r,resolve:i}=v()),yield n}}(),{signal:s});return{value:o,write(t,e,r){const n=i;i=null,n({chunk:t,done:!1,cb:r})},final(t){const e=i;i=null,e({done:!0,cb:t})},destroy(t,e){n.abort(),e(t)}}}(r);if(n(e))return _(C,e,{objectMode:!0,write:s,final:o,destroy:a});const l=null==e?void 0:e.then;if("function"==typeof l){let r;const i=x(l,e,(t=>{if(null!=t)throw new m("nully","body",t)}),(t=>{g(r,t)}));return r=new C({objectMode:!0,readable:!1,write:s,final(e){o((async()=>{try{await i,t.nextTick(e,null)}catch(r){t.nextTick(e,r)}}))},destroy:a})}throw new m("Iterable, AsyncIterable or AsyncFunction",i,e)}if(S(r))return e(r.arrayBuffer());if(n(r))return _(C,r,{objectMode:!0,writable:!1});if(u(null==r?void 0:r.readable)&&h(null==r?void 0:r.writable))return C.fromWeb(r);if("object"==typeof(null==r?void 0:r.writable)||"object"==typeof(null==r?void 0:r.readable)){return k({readable:null!=r&&r.readable?o(null==r?void 0:r.readable)?null==r?void 0:r.readable:e(r.readable):void 0,writable:null!=r&&r.writable?a(null==r?void 0:r.writable)?null==r?void 0:r.writable:e(r.writable):void 0})}const c=null==r?void 0:r.then;if("function"==typeof c){let t;return x(c,r,(e=>{null!=e&&t.push(e),t.push(null)}),(e=>{g(t,e)})),t=new C({objectMode:!0,writable:!1,read(){}})}throw new p(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],r)},zy}function fw(){if(Vy)return Gy;Vy=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:i}=jb();Gy=o;const n=hw(),s=cw();i(o.prototype,n.prototype),i(o,n);{const t=r(s.prototype);for(let e=0;e<t.length;e++){const r=t[e];o.prototype[r]||(o.prototype[r]=s.prototype[r])}}function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),s.call(this,t),t?(this.allowHalfOpen=!1!==t.allowHalfOpen,!1===t.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===t.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let a,l;function u(){return void 0===a&&(a={}),a}return t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}}),o.fromWeb=function(t,e){return u().newStreamDuplexFromReadableWritablePair(t,e)},o.toWeb=function(t){return u().newReadableWritablePairFromDuplex(t)},o.from=function(t){return l||(l=dw()),l(t,"body")},Gy}function pw(){if(Yy)return qy;Yy=1;const{ObjectSetPrototypeOf:t,Symbol:e}=jb();qy=o;const{ERR_METHOD_NOT_IMPLEMENTED:r}=my().codes,i=fw(),{getHighWaterMark:n}=lw();t(o.prototype,i.prototype),t(o,i);const s=e("kCallback");function o(t){if(!(this instanceof o))return new o(t);const e=t?n(this,t,"readableHighWaterMark",!0):null;0===e&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),i.call(this,t),this._readableState.sync=!1,this[s]=null,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",l)}function a(t){"function"!=typeof this._flush||this.destroyed?(this.push(null),t&&t()):this._flush(((e,r)=>{e?t?t(e):this.destroy(e):(null!=r&&this.push(r),this.push(null),t&&t())}))}function l(){this._final!==a&&a.call(this)}return o.prototype._final=a,o.prototype._transform=function(t,e,i){throw new r("_transform()")},o.prototype._write=function(t,e,r){const i=this._readableState,n=this._writableState,o=i.length;this._transform(t,e,((t,e)=>{t?r(t):(null!=e&&this.push(e),n.ended||o===i.length||i.length<i.highWaterMark?r():this[s]=r)}))},o.prototype._read=function(){if(this[s]){const t=this[s];this[s]=null,t()}},qy}function mw(){if(Ky)return Zy;Ky=1;const{ObjectSetPrototypeOf:t}=jb();Zy=r;const e=pw();function r(t){if(!(this instanceof r))return new r(t);e.call(this,t)}return t(r.prototype,e.prototype),t(r,e),r.prototype._transform=function(t,e,r){r(null,t)},Zy}function gw(){if(Qy)return Jy;Qy=1;const t=ky(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:i,SymbolDispose:n}=jb(),s=Ty(),{once:o}=uy(),a=Ay(),l=fw(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:f,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:m}=my(),{validateFunction:g,validateAbortSignal:b}=gy(),{isIterable:y,isReadable:w,isReadableNodeStream:v,isNodeStream:_,isTransformStream:D,isWebStream:S,isReadableStream:E,isReadableFinished:x}=Oy(),C=globalThis.AbortController||ly.AbortController;let k,O,T;function A(t,e,r){let i=!1;t.on("close",(()=>{i=!0}));return{destroy:e=>{i||(i=!0,a.destroyer(t,e||new f("pipe")))},cleanup:s(t,{readable:e,writable:r},(t=>{i=!t}))}}function F(t){if(y(t))return t;if(v(t))return async function*(t){O||(O=hw());yield*O.prototype[i].call(t)}(t);throw new h("val",["Readable","Iterable","AsyncIterable"],t)}async function R(t,e,i,{end:n}){let o,a=null;const l=t=>{if(t&&(o=t),a){const t=a;a=null,t()}},h=()=>new r(((t,e)=>{o?e(o):a=()=>{o?e(o):t()}}));e.on("drain",l);const c=s(e,{readable:!1},l);try{e.writableNeedDrain&&await h();for await(const r of t)e.write(r)||await h();n&&(e.end(),await h()),i()}catch(t){i(o!==t?u(o,t):t)}finally{c(),e.off("drain",l)}}async function M(t,e,r,{end:i}){D(e)&&(e=e.writable);const n=e.getWriter();try{for await(const e of t)await n.ready,n.write(e).catch((()=>{}));await n.ready,i&&await n.close(),r()}catch(t){try{await n.abort(t),r(t)}catch(t){r(t)}}}function P(r,i,s){if(1===r.length&&e(r[0])&&(r=r[0]),r.length<2)throw new d("streams");const o=new C,a=o.signal,u=null==s?void 0:s.signal,f=[];function p(){N(new m)}let g,x,O;b(u,"options.signal"),T=T||uy().addAbortListener,u&&(g=T(u,p));const P=[];let B,j=0;function L(t){N(t,0==--j)}function N(e,r){var s;if(!e||x&&"ERR_STREAM_PREMATURE_CLOSE"!==x.code||(x=e),x||r){for(;P.length;)P.shift()(x);null===(s=g)||void 0===s||s[n](),o.abort(),r&&(x||f.forEach((t=>t())),t.nextTick(i,x,O))}}for(let U=0;U<r.length;U++){const z=r[U],H=U<r.length-1,G=U>0,V=H||!1!==(null==s?void 0:s.end),q=U===r.length-1;if(_(z)){if(V){const{destroy:Z,cleanup:K}=A(z,H,G);P.push(Z),w(z)&&q&&f.push(K)}function Y(t){t&&"AbortError"!==t.name&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code&&L(t)}z.on("error",Y),w(z)&&q&&f.push((()=>{z.removeListener("error",Y)}))}if(0===U)if("function"==typeof z){if(B=z({signal:a}),!y(B))throw new c("Iterable, AsyncIterable or Stream","source",B)}else B=y(z)||v(z)||D(z)?z:l.from(z);else if("function"==typeof z){var $;if(D(B))B=F(null===($=B)||void 0===$?void 0:$.readable);else B=F(B);if(B=z(B,{signal:a}),H){if(!y(B,!0))throw new c("AsyncIterable",`transform[${U-1}]`,B)}else{var W;k||(k=mw());const J=new k({objectMode:!0}),Q=null===(W=B)||void 0===W?void 0:W.then;if("function"==typeof Q)j++,Q.call(B,(e=>{O=e,null!=e&&J.write(e),V&&J.end(),t.nextTick(L)}),(e=>{J.destroy(e),t.nextTick(L,e)}));else if(y(B,!0))j++,R(B,J,L,{end:V});else{if(!E(B)&&!D(B))throw new c("AsyncIterable or Promise","destination",B);{const et=B.readable||B;j++,R(et,J,L,{end:V})}}B=J;const{destroy:X,cleanup:tt}=A(B,!1,!0);P.push(X),q&&f.push(tt)}}else if(_(z)){if(v(B)){j+=2;const rt=I(B,z,L,{end:V});w(z)&&q&&f.push(rt)}else if(D(B)||E(B)){const it=B.readable||B;j++,R(it,z,L,{end:V})}else{if(!y(B))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],B);j++,R(B,z,L,{end:V})}B=z}else if(S(z)){if(v(B))j++,M(F(B),z,L,{end:V});else if(E(B)||y(B))j++,M(B,z,L,{end:V});else{if(!D(B))throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],B);j++,M(B.readable,z,L,{end:V})}B=z}else B=l.from(z)}return(null!=a&&a.aborted||null!=u&&u.aborted)&&t.nextTick(p),B}function I(e,r,i,{end:n}){let o=!1;if(r.on("close",(()=>{o||i(new p)})),e.pipe(r,{end:!1}),n){function a(){o=!0,r.end()}x(e)?t.nextTick(a):e.once("end",a)}else i();return s(e,{readable:!0,writable:!1},(t=>{const r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",i).once("error",i):i(t)})),s(r,{readable:!1,writable:!0},i)}return Jy={pipelineImpl:P,pipeline:function(...t){return P(t,o(function(t){return g(t[t.length-1],"streams[stream.length - 1]"),t.pop()}(t)))}}}function bw(){if(tw)return Xy;tw=1;const{pipeline:t}=gw(),e=fw(),{destroyer:r}=Ay(),{isNodeStream:i,isReadable:n,isWritable:s,isWebStream:o,isTransformStream:a,isWritableStream:l,isReadableStream:u}=Oy(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:c,ERR_MISSING_ARGS:d}}=my(),f=Ty();return Xy=function(...p){if(0===p.length)throw new d("streams");if(1===p.length)return e.from(p[0]);const m=[...p];if("function"==typeof p[0]&&(p[0]=e.from(p[0])),"function"==typeof p[p.length-1]){const t=p.length-1;p[t]=e.from(p[t])}for(let t=0;t<p.length;++t)if(i(p[t])||o(p[t])){if(t<p.length-1&&!(n(p[t])||u(p[t])||a(p[t])))throw new c(`streams[${t}]`,m[t],"must be readable");if(t>0&&!(s(p[t])||l(p[t])||a(p[t])))throw new c(`streams[${t}]`,m[t],"must be writable")}let g,b,y,w,v;const _=p[0],D=t(p,(function(t){const e=w;w=null,e?e(t):t?v.destroy(t):E||S||v.destroy()})),S=!!(s(_)||l(_)||a(_)),E=!!(n(D)||u(D)||a(D));if(v=new e({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==D||!D.readableObjectMode),writable:S,readable:E}),S){if(i(_))v._write=function(t,e,r){_.write(t,e)?r():g=r},v._final=function(t){_.end(),b=t},_.on("drain",(function(){if(g){const t=g;g=null,t()}}));else if(o(_)){const t=(a(_)?_.writable:_).getWriter();v._write=async function(e,r,i){try{await t.ready,t.write(e).catch((()=>{})),i()}catch(t){i(t)}},v._final=async function(e){try{await t.ready,t.close().catch((()=>{})),b=e}catch(t){e(t)}}}const t=a(D)?D.readable:D;f(t,(()=>{if(b){const t=b;b=null,t()}}))}if(E)if(i(D))D.on("readable",(function(){if(y){const t=y;y=null,t()}})),D.on("end",(function(){v.push(null)})),v._read=function(){for(;;){const t=D.read();if(null===t)return void(y=v._read);if(!v.push(t))return}};else if(o(D)){const t=(a(D)?D.readable:D).getReader();v._read=async function(){for(;;)try{const{value:e,done:r}=await t.read();if(!v.push(e))return;if(r)return void v.push(null)}catch{return}}}return v._destroy=function(t,e){t||null===w||(t=new h),y=null,g=null,b=null,null===w?e(t):(w=e,i(D)&&r(D,t))},v},Xy}function yw(){if(iw)return rw;iw=1;const{ArrayPrototypePop:t,Promise:e}=jb(),{isIterable:r,isNodeStream:i,isWebStream:n}=Oy(),{pipelineImpl:s}=gw(),{finished:o}=Ty();return ww(),rw={finished:o,pipeline:function(...o){return new e(((e,a)=>{let l,u;const h=o[o.length-1];if(h&&"object"==typeof h&&!i(h)&&!r(h)&&!n(h)){const e=t(o);l=e.signal,u=e.end}s(o,((t,r)=>{t?a(t):e(r)}),{signal:l,end:u})}))}},rw}function ww(){if(nw)return Bb.exports;nw=1;const{Buffer:t}=f,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:i}=jb(),{promisify:{custom:n}}=uy(),{streamReturningOperators:s,promiseReturningOperators:o}=function(){if(ew)return py;ew=1;const t=globalThis.AbortController||ly.AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:n},AbortError:s}=my(),{validateAbortSignal:o,validateInteger:a,validateObject:l}=gy(),u=jb().Symbol("kWeak"),h=jb().Symbol("kResistStopPropagation"),{finished:c}=Ty(),d=bw(),{addAbortSignalNoValidate:f}=ow(),{isWritable:p,isNodeStream:m}=Oy(),{deprecate:g}=uy(),{ArrayPrototypePush:b,Boolean:y,MathFloor:w,Number:v,NumberIsNaN:_,Promise:D,PromiseReject:S,PromiseResolve:E,PromisePrototypeThen:x,Symbol:C}=jb(),k=C("kEmpty"),O=C("kEof");function T(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal");let i=1;null!=(null==e?void 0:e.concurrency)&&(i=w(e.concurrency));let n=i-1;return null!=(null==e?void 0:e.highWaterMark)&&(n=w(e.highWaterMark)),a(i,"options.concurrency",1),a(n,"options.highWaterMark",0),n+=i,async function*(){const r=uy().AbortSignalAny([null==e?void 0:e.signal].filter(y)),o=this,a=[],l={signal:r};let u,h,c=!1,d=0;function f(){c=!0,p()}function p(){d-=1,m()}function m(){h&&!c&&d<i&&a.length<n&&(h(),h=null)}!async function(){try{for await(let e of o){if(c)return;if(r.aborted)throw new s;try{if(e=t(e,l),e===k)continue;e=E(e)}catch(t){e=S(t)}d+=1,x(e,p,f),a.push(e),u&&(u(),u=null),!c&&(a.length>=n||d>=i)&&await new D((t=>{h=t}))}a.push(O)}catch(t){const e=S(t);x(e,p,f),a.push(e)}finally{c=!0,u&&(u(),u=null)}}();try{for(;;){for(;a.length>0;){const t=await a[0];if(t===O)return;if(r.aborted)throw new s;t!==k&&(yield t),a.shift(),m()}await new D((t=>{u=t}))}}finally{c=!0,h&&(h(),h=null)}}.call(this)}async function A(t,e=void 0){for await(const r of F.call(this,t,e))return!0;return!1}function F(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return T.call(this,(async function(e,r){return await t(e,r)?e:k}),e)}class R extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function M(t){if(t=v(t),_(t))return 0;if(t<0)throw new n("number",">= 0",t);return t}return py.streamReturningOperators={asIndexedPairs:g((function(t=void 0){return null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal"),async function*(){let e=0;for await(const i of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s({cause:t.signal.reason});yield[e++,i]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=M(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new s;t--<=0&&(yield r)}}.call(this)},filter:F,flatMap:function(t,e){const r=T.call(this,t,e);return async function*(){for await(const t of r)yield*t}.call(this)},map:T,take:function(t,e=void 0){return null!=e&&l(e,"options"),null!=(null==e?void 0:e.signal)&&o(e.signal,"options.signal"),t=M(t),async function*(){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new s;for await(const r of this){var i;if(null!=e&&null!==(i=e.signal)&&void 0!==i&&i.aborted)throw new s;if(t-- >0&&(yield r),t<=0)return}}.call(this)},compose:function(t,r){if(null!=r&&l(r,"options"),null!=(null==r?void 0:r.signal)&&o(r.signal,"options.signal"),m(t)&&!p(t))throw new e("stream",t,"must be writable");const i=d(this,t);return null!=r&&r.signal&&f(r.signal,i),i}},py.promiseReturningOperators={every:async function(t,e=void 0){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);return!await A.call(this,(async(...e)=>!await t(...e)),e)},forEach:async function(t,e){if("function"!=typeof t)throw new r("fn",["Function","AsyncFunction"],t);for await(const r of T.call(this,(async function(e,r){return await t(e,r),k}),e));},reduce:async function(e,i,n){var a;if("function"!=typeof e)throw new r("reducer",["Function","AsyncFunction"],e);null!=n&&l(n,"options"),null!=(null==n?void 0:n.signal)&&o(n.signal,"options.signal");let d=arguments.length>1;if(null!=n&&null!==(a=n.signal)&&void 0!==a&&a.aborted){const t=new s(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await c(this.destroy(t)),t}const f=new t,p=f.signal;if(null!=n&&n.signal){const t={once:!0,[u]:this,[h]:!0};n.signal.addEventListener("abort",(()=>f.abort()),t)}let m=!1;try{for await(const t of this){var g;if(m=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new s;d?i=await e(i,t,{signal:p}):(i=t,d=!0)}if(!m&&!d)throw new R}finally{f.abort()}return i},toArray:async function(t){null!=t&&l(t,"options"),null!=(null==t?void 0:t.signal)&&o(t.signal,"options.signal");const e=[];for await(const i of this){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new s(void 0,{cause:t.signal.reason});b(e,i)}return e},some:A,find:async function(t,e){for await(const r of F.call(this,t,e))return r}},py}(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=my(),l=bw(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:h}=lw(),{pipeline:c}=gw(),{destroyer:d}=Ay(),p=Ty(),m=yw(),g=Oy(),b=Bb.exports=Fy().Stream;b.isDestroyed=g.isDestroyed,b.isDisturbed=g.isDisturbed,b.isErrored=g.isErrored,b.isReadable=g.isReadable,b.isWritable=g.isWritable,b.Readable=hw();for(const w of r(s)){const v=s[w];function _(...t){if(new.target)throw a();return b.Readable.from(i(v,this,t))}e(_,"name",{__proto__:null,value:v.name}),e(_,"length",{__proto__:null,value:v.length}),e(b.Readable.prototype,w,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const D of r(o)){const S=o[D];function E(...t){if(new.target)throw a();return i(S,this,t)}e(E,"name",{__proto__:null,value:S.name}),e(E,"length",{__proto__:null,value:S.length}),e(b.Readable.prototype,D,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}b.Writable=cw(),b.Duplex=fw(),b.Transform=pw(),b.PassThrough=mw(),b.pipeline=c;const{addAbortSignal:y}=ow();return b.addAbortSignal=y,b.finished=p,b.destroy=d,b.compose=l,b.setDefaultHighWaterMark=u,b.getDefaultHighWaterMark=h,e(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),e(c,n,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),e(p,n,{__proto__:null,enumerable:!0,get:()=>m.finished}),b.Stream=b,b._isUint8Array=function(t){return t instanceof Uint8Array},b._uint8ArrayToBuffer=function(e){return t.from(e.buffer,e.byteOffset,e.byteLength)},Bb.exports}!function(t){const e=d;if(e&&"disable"===process.env.READABLE_STREAM){const r=e.promises;t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}else{const e=ww(),r=yw(),i=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=i,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get:()=>r}),t.exports.Stream=e.Stream}t.exports.default=t.exports}(Ib);var vw=Ib.exports,_w={exports:{}};var Dw=function(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t},Sw=Hg,Ew=Gg,xw=Rm?Rm.isConcatSpreadable:void 0;var Cw=Dw,kw=function(t){return Ew(t)||Sw(t)||!!(xw&&t&&t[xw])};var Ow=function t(e,r,i,n,s){var o=-1,a=e.length;for(i||(i=kw),s||(s=[]);++o<a;){var l=e[o];r>0&&i(l)?r>1?t(l,r-1,i,n,s):Cw(s,l):n||(s[s.length]=l)}return s},Tw=Ow;var Aw=function(t){return(null==t?0:t.length)?Tw(t,1):[]},Fw=cg(Object,"create"),Rw=Fw;var Mw=function(){this.__data__=Rw?Rw(null):{},this.size=0};var Pw=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Iw=Fw,Bw=Object.prototype.hasOwnProperty;var jw=function(t){var e=this.__data__;if(Iw){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Bw.call(e,t)?e[t]:void 0},Lw=Fw,Nw=Object.prototype.hasOwnProperty;var $w=Fw;var Ww=Mw,Uw=Pw,zw=jw,Hw=function(t){var e=this.__data__;return Lw?void 0!==e[t]:Nw.call(e,t)},Gw=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$w&&void 0===e?"__lodash_hash_undefined__":e,this};function Vw(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Vw.prototype.clear=Ww,Vw.prototype.delete=Uw,Vw.prototype.get=zw,Vw.prototype.has=Hw,Vw.prototype.set=Gw;var qw=Vw;var Yw=function(){this.__data__=[],this.size=0},Zw=Sg;var Kw=function(t,e){for(var r=t.length;r--;)if(Zw(t[r][0],e))return r;return-1},Jw=Kw,Qw=Array.prototype.splice;var Xw=function(t){var e=this.__data__,r=Jw(e,t);return!(r<0)&&(r==e.length-1?e.pop():Qw.call(e,r,1),--this.size,!0)},tv=Kw;var ev=function(t){var e=this.__data__,r=tv(e,t);return r<0?void 0:e[r][1]},rv=Kw;var iv=Kw;var nv=function(t,e){var r=this.__data__,i=iv(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this},sv=Yw,ov=Xw,av=ev,lv=function(t){return rv(this.__data__,t)>-1},uv=nv;function hv(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}hv.prototype.clear=sv,hv.prototype.delete=ov,hv.prototype.get=av,hv.prototype.has=lv,hv.prototype.set=uv;var cv=hv,dv=cg(Fm,"Map"),fv=qw,pv=cv,mv=dv;var gv=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t},bv=gv;var yv=function(t,e){var r=t.__data__;return bv(e)?r["string"==typeof e?"string":"hash"]:r.map},wv=yv;var vv=function(t){var e=wv(this,t).delete(t);return this.size-=e?1:0,e},_v=yv;var Dv=yv;var Sv=yv;var Ev=function(){this.size=0,this.__data__={hash:new fv,map:new(mv||pv),string:new fv}},xv=vv,Cv=function(t){return _v(this,t).get(t)},kv=function(t){return Dv(this,t).has(t)},Ov=function(t,e){var r=Sv(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this};function Tv(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Tv.prototype.clear=Ev,Tv.prototype.delete=xv,Tv.prototype.get=Cv,Tv.prototype.has=kv,Tv.prototype.set=Ov;var Av=Tv,Fv=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Rv=function(t){return this.__data__.has(t)};function Mv(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Av;++e<r;)this.add(t[e])}Mv.prototype.add=Mv.prototype.push=Fv,Mv.prototype.has=Rv;var Pv=Mv;var Iv=function(t,e,r,i){for(var n=t.length,s=r+(i?1:-1);i?s--:++s<n;)if(e(t[s],s,t))return s;return-1};var Bv=function(t,e,r){for(var i=r-1,n=t.length;++i<n;)if(t[i]===e)return i;return-1},jv=Iv,Lv=function(t){return t!=t},Nv=Bv;var $v=function(t,e,r){return e==e?Nv(t,e,r):jv(t,Lv,r)};var Wv=function(t,e){return!!(null==t?0:t.length)&&$v(t,e,0)>-1};var Uv=function(t,e,r){for(var i=-1,n=null==t?0:t.length;++i<n;)if(r(e,t[i]))return!0;return!1};var zv=function(t,e){for(var r=-1,i=null==t?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n};var Hv=function(t,e){return t.has(e)},Gv=Pv,Vv=Wv,qv=Uv,Yv=zv,Zv=tb,Kv=Hv;var Jv=function(t,e,r,i){var n=-1,s=Vv,o=!0,a=t.length,l=[],u=e.length;if(!a)return l;r&&(e=Yv(e,Zv(r))),i?(s=qv,o=!1):e.length>=200&&(s=Kv,o=!1,e=new Gv(e));t:for(;++n<a;){var h=t[n],c=null==r?h:r(h);if(h=i||0!==h?h:0,o&&c==c){for(var d=u;d--;)if(e[d]===c)continue t;l.push(h)}else s(e,c,i)||l.push(h)}return l},Qv=kg,Xv=Bg;var t_=function(t){return Xv(t)&&Qv(t)},e_=Jv,r_=Ow,i_=t_,n_=Dg((function(t,e){return i_(t)?e_(t,r_(e,1,i_,!0)):[]}));var s_=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},o_=cg(Fm,"Set"),a_=function(){},l_=o_&&1/s_(new o_([,-0]))[1]==1/0?function(t){return new o_(t)}:a_,u_=Pv,h_=Wv,c_=Uv,d_=Hv,f_=l_,p_=s_;var m_=function(t,e,r){var i=-1,n=h_,s=t.length,o=!0,a=[],l=a;if(r)o=!1,n=c_;else if(s>=200){var u=e?null:f_(t);if(u)return p_(u);o=!1,n=d_,l=new u_}else l=e?[]:a;t:for(;++i<s;){var h=t[i],c=e?e(h):h;if(h=r||0!==h?h:0,o&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue t;e&&l.push(c),a.push(h)}else n(l,c,r)||(l!==a&&l.push(c),a.push(h))}return a},g_=Ow,b_=m_,y_=t_,w_=Dg((function(t){return b_(g_(t,1,y_,!0))}));var v_=function(t,e){return function(r){return t(e(r))}},__=v_(Object.getPrototypeOf,Object),D_=zm,S_=__,E_=Bg,x_=Function.prototype,C_=Object.prototype,k_=x_.toString,O_=C_.hasOwnProperty,T_=k_.call(Object);var A_=function(t){if(!E_(t)||"[object Object]"!=D_(t))return!1;var e=S_(t);if(null===e)return!0;var r=O_.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&k_.call(r)==T_},F_={};function R_(t,e,r){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function M_(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function P_(t,e){return t.get(R_(t,e))}function I_(t,e,r){M_(t,e),e.set(t,r)}function B_(t,e,r){return t.set(R_(t,e),r),r}function j_(t,e){M_(t,e),e.add(t)}function L_(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var N_={},$_={};Object.defineProperty($_,"__esModule",{value:!0}),$_.assertValidPattern=void 0;$_.assertValidPattern=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};var W_={},U_={};Object.defineProperty(U_,"__esModule",{value:!0}),U_.parseClass=void 0;const z_={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},H_=t=>t.replace(/[[\]\\-]/g,"\\$&"),G_=t=>t.join("");U_.parseClass=(t,e)=>{const r=e;if("["!==t.charAt(r))throw new Error("not in a brace expression");const i=[],n=[];let s=r+1,o=!1,a=!1,l=!1,u=!1,h=r,c="";t:for(;s<t.length;){const e=t.charAt(s);if("!"!==e&&"^"!==e||s!==r+1){if("]"===e&&o&&!l){h=s+1;break}if(o=!0,"\\"!==e||l){if("["===e&&!l)for(const[e,[o,l,u]]of Object.entries(z_))if(t.startsWith(e,s)){if(c)return["$.",!1,t.length-r,!0];s+=e.length,u?n.push(o):i.push(o),a=a||l;continue t}l=!1,c?(e>c?i.push(H_(c)+"-"+H_(e)):e===c&&i.push(H_(e)),c="",s++):t.startsWith("-]",s+1)?(i.push(H_(e+"-")),s+=2):t.startsWith("-",s+1)?(c=e,s+=2):(i.push(H_(e)),s++)}else l=!0,s++}else u=!0,s++}if(h<s)return["",!1,0,!1];if(!i.length&&!n.length)return["$.",!1,t.length-r,!0];if(0===n.length&&1===i.length&&/^\\?.$/.test(i[0])&&!u){const t=2===i[0].length?i[0].slice(-1):i[0];return[(d=t,d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,h-r,!1]}var d;const f="["+(u?"^":"")+G_(i)+"]",p="["+(u?"":"^")+G_(n)+"]";return[i.length&&n.length?"("+f+"|"+p+")":i.length?f:p,a,h-r,!0]};var V_={};Object.defineProperty(V_,"__esModule",{value:!0}),V_.unescape=void 0;var q_;V_.unescape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Object.defineProperty(W_,"__esModule",{value:!0}),W_.AST=void 0;const Y_=U_,Z_=V_,K_=new Set(["!","?","+","*","@"]),J_=t=>K_.has(t),Q_="(?!\\.)",X_=new Set(["[","."]),tD=new Set(["..","."]),eD=new Set("().*{}+?[]^$\\!"),rD="[^/]",iD=rD+"*?",nD=rD+"+?";var sD=new WeakMap,oD=new WeakMap,aD=new WeakMap,lD=new WeakMap,uD=new WeakMap,hD=new WeakMap,cD=new WeakMap,dD=new WeakMap,fD=new WeakMap,pD=new WeakMap,mD=new WeakMap,gD=new WeakSet;class bD{constructor(t,e,r={}){j_(this,gD),L_(this,"type",void 0),I_(this,sD,void 0),I_(this,oD,void 0),I_(this,aD,!1),I_(this,lD,[]),I_(this,uD,void 0),I_(this,hD,void 0),I_(this,cD,void 0),I_(this,dD,!1),I_(this,fD,void 0),I_(this,pD,void 0),I_(this,mD,!1),this.type=t,t&&B_(oD,this,!0),B_(uD,this,e),B_(sD,this,P_(uD,this)?P_(sD,P_(uD,this)):this),B_(fD,this,P_(sD,this)===this?r:P_(fD,P_(sD,this))),B_(cD,this,P_(sD,this)===this?[]:P_(cD,P_(sD,this))),"!"!==t||P_(dD,P_(sD,this))||P_(cD,this).push(this),B_(hD,this,P_(uD,this)?P_(lD,P_(uD,this)).length:0)}get hasMagic(){if(void 0!==P_(oD,this))return P_(oD,this);for(const t of P_(lD,this))if("string"!=typeof t&&(t.type||t.hasMagic))return B_(oD,this,!0);return P_(oD,this)}toString(){return void 0!==P_(pD,this)?P_(pD,this):this.type?B_(pD,this,this.type+"("+P_(lD,this).map((t=>String(t))).join("|")+")"):B_(pD,this,P_(lD,this).map((t=>String(t))).join(""))}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof bD&&P_(uD,e)===this))throw new Error("invalid part: "+e);P_(lD,this).push(e)}}toJSON(){const t=null===this.type?P_(lD,this).slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...P_(lD,this).map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===P_(sD,this)||P_(dD,P_(sD,this))&&"!"===P_(uD,this)?.type)&&t.push({}),t}isStart(){if(P_(sD,this)===this)return!0;if(!P_(uD,this)?.isStart())return!1;if(0===P_(hD,this))return!0;const t=P_(uD,this);for(let e=0;e<P_(hD,this);e++){const r=P_(lD,t)[e];if(!(r instanceof bD&&"!"===r.type))return!1}return!0}isEnd(){if(P_(sD,this)===this)return!0;if("!"===P_(uD,this)?.type)return!0;if(!P_(uD,this)?.isEnd())return!1;if(!this.type)return P_(uD,this)?.isEnd();const t=P_(uD,this)?P_(lD,P_(uD,this)).length:0;return P_(hD,this)===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new bD(this.type,t);for(const t of P_(lD,this))e.copyIn(t);return e}static fromGlob(t,e={}){const r=new bD(null,void 0,e);return wD.call(bD,t,r,0,e),r}toMMPattern(){if(this!==P_(sD,this))return P_(sD,this).toMMPattern();const t=this.toString(),[e,r,i,n]=this.toRegExpSource();if(!(i||P_(oD,this)||P_(fD,this).nocase&&!P_(fD,this).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const s=(P_(fD,this).nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,s),{_src:e,_glob:t})}get options(){return P_(fD,this)}toRegExpSource(t){const e=t??!!P_(fD,this).dot;if(P_(sD,this)===this&&R_(gD,this,yD).call(this),!this.type){const r=this.isStart()&&this.isEnd(),i=P_(lD,this).map((e=>{const[i,n,s,o]="string"==typeof e?_D.call(bD,e,P_(oD,this),r):e.toRegExpSource(t);return B_(oD,this,P_(oD,this)||s),B_(aD,this,P_(aD,this)||o),i})).join("");let n="";if(this.isStart()&&"string"==typeof P_(lD,this)[0]){if(!(1===P_(lD,this).length&&tD.has(P_(lD,this)[0]))){const r=X_,s=e&&r.has(i.charAt(0))||i.startsWith("\\.")&&r.has(i.charAt(2))||i.startsWith("\\.\\.")&&r.has(i.charAt(4)),o=!e&&!t&&r.has(i.charAt(0));n=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?Q_:""}}let s="";this.isEnd()&&P_(dD,P_(sD,this))&&"!"===P_(uD,this)?.type&&(s="(?:$|\\/)");return[n+i+s,(0,Z_.unescape)(i),B_(oD,this,!!P_(oD,this)),P_(aD,this)]}const r="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let n=R_(gD,this,vD).call(this,e);if(this.isStart()&&this.isEnd()&&!n&&"!"!==this.type){const t=this.toString();return B_(lD,this,[t]),this.type=null,B_(oD,this,void 0),[t,(0,Z_.unescape)(this.toString()),!1,!1]}let s=!r||t||e?"":R_(gD,this,vD).call(this,!0);s===n&&(s=""),s&&(n=`(?:${n})(?:${s})*?`);let o="";if("!"===this.type&&P_(mD,this))o=(this.isStart()&&!e?Q_:"")+nD;else{o=i+n+("!"===this.type?"))"+(!this.isStart()||e||t?"":Q_)+iD+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`)}return[o,(0,Z_.unescape)(n),B_(oD,this,!!P_(oD,this)),P_(aD,this)]}}function yD(){if(this!==P_(sD,this))throw new Error("should only call on root");if(P_(dD,this))return this;let t;for(this.toString(),B_(dD,this,!0);t=P_(cD,this).pop();){if("!"!==t.type)continue;let e=t,r=P_(uD,e);for(;r;){for(let i=P_(hD,e)+1;!r.type&&i<P_(lD,r).length;i++)for(const e of P_(lD,t)){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(P_(lD,r)[i])}e=r,r=P_(uD,e)}}return this}function wD(t,e,r,i){let n=!1,s=!1,o=-1,a=!1;if(null===e.type){let l=r,u="";for(;l<t.length;){const r=t.charAt(l++);if(n||"\\"===r)n=!n,u+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),u+=r;else if("["!==r)if(i.noext||!J_(r)||"("!==t.charAt(l))u+=r;else{e.push(u),u="";const n=new q_(r,e);l=wD.call(q_,t,n,l,i),e.push(n)}else s=!0,o=l,a=!1,u+=r}return e.push(u),l}let l=r+1,u=new q_(null,e);const h=[];let c="";for(;l<t.length;){const r=t.charAt(l++);if(n||"\\"===r)n=!n,c+=r;else if(s)l===o+1?"^"!==r&&"!"!==r||(a=!0):"]"!==r||l===o+2&&a||(s=!1),c+=r;else if("["!==r)if(J_(r)&&"("===t.charAt(l)){u.push(c),c="";const e=new q_(r,u);u.push(e),l=wD.call(q_,t,e,l,i)}else if("|"!==r){if(")"===r)return""===c&&0===P_(lD,e).length&&B_(mD,e,!0),u.push(c),c="",e.push(...h,u),l;c+=r}else u.push(c),c="",h.push(u),u=new q_(null,e);else s=!0,o=l,a=!1,c+=r}return e.type=null,B_(oD,e,void 0),B_(lD,e,[t.substring(r-1)]),l}function vD(t){return P_(lD,this).map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,i,n,s]=e.toRegExpSource(t);return B_(aD,this,P_(aD,this)||s),r})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}function _D(t,e,r=!1){let i=!1,n="",s=!1;for(let o=0;o<t.length;o++){const a=t.charAt(o);if(i)i=!1,n+=(eD.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[r,i,a,l]=(0,Y_.parseClass)(t,o);if(a){n+=r,s=s||i,o+=a-1,e=e||l;continue}}"*"!==a?"?"!==a?n+=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(n+=rD,e=!0):(n+=r&&"*"===t?nD:iD,e=!0)}else o===t.length-1?n+="\\\\":i=!0}return[n,(0,Z_.unescape)(t),!!e,s]}q_=bD,W_.AST=bD;var DD={};Object.defineProperty(DD,"__esModule",{value:!0}),DD.escape=void 0;DD.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),function(t){var e=E&&E.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const r=e(xc),i=$_,n=W_,s=DD,o=V_;t.minimatch=(t,e,r={})=>((0,i.assertValidPattern)(e),!(!r.nocomment&&"#"===e.charAt(0))&&new M(e,r).match(t));const a=/^\*+([^+@!?\*\[\(]*)$/,l=t=>e=>!e.startsWith(".")&&e.endsWith(t),u=t=>e=>e.endsWith(t),h=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),c=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),d=/^\*+\.\*+$/,f=t=>!t.startsWith(".")&&t.includes("."),p=t=>"."!==t&&".."!==t&&t.includes("."),m=/^\.\*+$/,g=t=>"."!==t&&".."!==t&&t.startsWith("."),b=/^\*+$/,y=t=>0!==t.length&&!t.startsWith("."),w=t=>0!==t.length&&"."!==t&&".."!==t,v=/^\?+([^+@!?\*\[\(]*)?$/,_=([t,e=""])=>{const r=C([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},D=([t,e=""])=>{const r=k([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},S=([t,e=""])=>{const r=k([t]);return e?t=>r(t)&&t.endsWith(e):r},x=([t,e=""])=>{const r=C([t]);return e?t=>r(t)&&t.endsWith(e):r},C=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},k=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},O="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",T={sep:"\\"},A={sep:"/"};t.sep="win32"===O?T.sep:A.sep,t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR;t.filter=(e,r={})=>i=>(0,t.minimatch)(i,e,r),t.minimatch.filter=t.filter;const F=(t,e={})=>Object.assign({},t,e);t.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return t.minimatch;const r=t.minimatch;return Object.assign(((t,i,n={})=>r(t,i,F(e,n))),{Minimatch:class extends r.Minimatch{constructor(t,r={}){super(t,F(e,r))}static defaults(t){return r.defaults(F(e,t)).Minimatch}},AST:class extends r.AST{constructor(t,r,i={}){super(t,r,F(e,i))}static fromGlob(t,i={}){return r.AST.fromGlob(t,F(e,i))}},unescape:(t,i={})=>r.unescape(t,F(e,i)),escape:(t,i={})=>r.escape(t,F(e,i)),filter:(t,i={})=>r.filter(t,F(e,i)),defaults:t=>r.defaults(F(e,t)),makeRe:(t,i={})=>r.makeRe(t,F(e,i)),braceExpand:(t,i={})=>r.braceExpand(t,F(e,i)),match:(t,i,n={})=>r.match(t,i,F(e,n)),sep:r.sep,GLOBSTAR:t.GLOBSTAR})},t.minimatch.defaults=t.defaults;t.braceExpand=(t,e={})=>((0,i.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,r.default)(t)),t.minimatch.braceExpand=t.braceExpand;t.makeRe=(t,e={})=>new M(t,e).makeRe(),t.minimatch.makeRe=t.makeRe;t.match=(t,e,r={})=>{const i=new M(e,r);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t},t.minimatch.match=t.match;const R=/[?*]|[+@!]\(.*?\)|\[|\]/;class M{constructor(t,e={}){L_(this,"options",void 0),L_(this,"set",void 0),L_(this,"pattern",void 0),L_(this,"windowsPathsNoEscape",void 0),L_(this,"nonegate",void 0),L_(this,"negate",void 0),L_(this,"comment",void 0),L_(this,"empty",void 0),L_(this,"preserveMultipleSlashes",void 0),L_(this,"partial",void 0),L_(this,"globSet",void 0),L_(this,"globParts",void 0),L_(this,"nocase",void 0),L_(this,"isWindows",void 0),L_(this,"platform",void 0),L_(this,"windowsNoMagicRoot",void 0),L_(this,"regexp",void 0),(0,i.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||O,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map(((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&R.test(t[2])||R.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(r)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,i),this.set=i.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const i=t[r];1===r&&""===i&&""===t[0]||("."!==i&&""!==i||(e=!0,t.splice(r,1),r--))}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const i=t[r-1];i&&"."!==i&&".."!==i&&"**"!==i&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let i=-1;for(;-1!==(i=r.indexOf("**",i+1));){let n=i;for(;"**"===r[n+1];)n++;n>i&&r.splice(i+1,n-i);let s=r[i+1];const o=r[i+2],a=r[i+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(i,1);const l=r.slice(0);l[i]="**",t.push(l),i--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const i=r[t];1===t&&""===i&&""===r[0]||("."!==i&&""!==i||(e=!0,r.splice(t,1),t--))}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let n=0;for(;-1!==(n=r.indexOf("..",n+1));){const t=r[n-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===n&&"**"===r[n+1]?["."]:[];r.splice(n-1,2,...t),0===r.length&&r.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const i=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);if(i){t[e]=[],t[r]=i;break}}return t.filter((t=>t.length))}partsMatch(t,e,r=!1){let i=0,n=0,s=[],o="";for(;i<t.length&&n<e.length;)if(t[i]===e[n])s.push("b"===o?e[n]:t[i]),i++,n++;else if(r&&"**"===t[i]&&e[n]===t[i+1])s.push(t[i]),i++;else if(r&&"**"===e[n]&&t[i]===e[n+1])s.push(e[n]),n++;else if("*"!==t[i]||!e[n]||!this.options.dot&&e[n].startsWith(".")||"**"===e[n]){if("*"!==e[n]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i])return!1;if("a"===o)return!1;o="b",s.push(e[n]),i++,n++}else{if("b"===o)return!1;o="a",s.push(t[i]),i++,n++}return t.length===e.length&&s}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(e,r,i=!1){const n=this.options;if(this.isWindows){const t="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),i=!t&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),n="string"==typeof r[0]&&/^[a-z]:$/i.test(r[0]),s=i?3:t?0:void 0,o=!n&&""===r[0]&&""===r[1]&&"?"===r[2]&&"string"==typeof r[3]&&/^[a-z]:$/i.test(r[3])?3:n?0:void 0;if("number"==typeof s&&"number"==typeof o){const[t,i]=[e[s],r[o]];t.toLowerCase()===i.toLowerCase()&&(r[o]=t,o>s?r=r.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var o=0,a=0,l=e.length,u=r.length;o<l&&a<u;o++,a++){this.debug("matchOne loop");var h=r[a],c=e[o];if(this.debug(r,h,c),!1===h)return!1;if(h===t.GLOBSTAR){this.debug("GLOBSTAR",[r,h,c]);var d=o,f=a+1;if(f===u){for(this.debug("** at the end");o<l;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;d<l;){var p=e[d];if(this.debug("\nglobstar while",e,d,r,f,p),this.matchOne(e.slice(d),r.slice(f),i))return this.debug("globstar found match!",d,l,p),!0;if("."===p||".."===p||!n.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!i||(this.debug("\n>>> no match, partial?",e,d,r,f),d!==l))}let s;if("string"==typeof h?(s=c===h,this.debug("string match",h,c,s)):(s=h.test(c),this.debug("pattern match",h,c,s)),!s)return!1}if(o===l&&a===u)return!0;if(o===l)return i;if(a===u)return o===l-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,i.assertValidPattern)(e);const r=this.options;if("**"===e)return t.GLOBSTAR;if(""===e)return"";let s,o=null;(s=e.match(b))?o=r.dot?w:y:(s=e.match(a))?o=(r.nocase?r.dot?c:h:r.dot?u:l)(s[1]):(s=e.match(v))?o=(r.nocase?r.dot?D:_:r.dot?S:x)(s):(s=e.match(d))?o=r.dot?p:f:(s=e.match(m))&&(o=g);const E=n.AST.fromGlob(e,this.options).toMMPattern();return o&&"object"==typeof E&&Reflect.defineProperty(E,"test",{value:o}),E}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const r=this.options,i=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=new Set(r.nocase?["i"]:[]);let s=e.map((e=>{const r=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))n.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===t.GLOBSTAR?t.GLOBSTAR:e._src}));return r.forEach(((e,n)=>{const s=r[n+1],o=r[n-1];e===t.GLOBSTAR&&o!==t.GLOBSTAR&&(void 0===o?void 0!==s&&s!==t.GLOBSTAR?r[n+1]="(?:\\/|"+i+"\\/)?"+s:r[n]=i:void 0===s?r[n-1]=o+"(?:\\/|"+i+")?":s!==t.GLOBSTAR&&(r[n-1]=o+"(?:\\/|\\/"+i+"\\/)"+s,r[n+1]=t.GLOBSTAR))})),r.filter((e=>e!==t.GLOBSTAR)).join("/")})).join("|");const[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...n].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const n=this.set;this.debug(this.pattern,"set",n);let s=i[i.length-1];if(!s)for(let t=i.length-2;!s&&t>=0;t--)s=i[t];for(let t=0;t<n.length;t++){const o=n[t];let a=i;r.matchBase&&1===o.length&&(a=[s]);if(this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=M;var P=W_;Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return P.AST}});var I=DD;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return I.escape}});var B=V_;Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return B.unescape}}),t.minimatch.AST=n.AST,t.minimatch.Minimatch=M,t.minimatch.escape=s.escape,t.minimatch.unescape=o.unescape}(N_);var SD={},ED={},xD={};Object.defineProperty(xD,"__esModule",{value:!0}),xD.LRUCache=void 0;const CD="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,kD=new Set,OD="object"==typeof process&&process?process:{},TD=(t,e,r,i)=>{"function"==typeof OD.emitWarning?OD.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)};let AD=globalThis.AbortController,FD=globalThis.AbortSignal;if(void 0===AD){FD=class{constructor(){L_(this,"onabort",void 0),L_(this,"_onabort",[]),L_(this,"reason",void 0),L_(this,"aborted",!1)}addEventListener(t,e){this._onabort.push(e)}},AD=class{constructor(){L_(this,"signal",new FD),e()}abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==OD.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,TD("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const RD=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),MD=t=>RD(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?PD:null:null;class PD extends Array{constructor(t){super(t),this.fill(0)}}class ID{static create(t){const e=MD(t);if(!e)return[];BD._=!0;const r=new ID(t,e);return BD._=!1,r}constructor(t,e){if(L_(this,"heap",void 0),L_(this,"length",void 0),!BD._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}var BD={_:!1},jD=new WeakMap,LD=new WeakMap,ND=new WeakMap,$D=new WeakMap,WD=new WeakMap,UD=new WeakMap,zD=new WeakMap,HD=new WeakMap,GD=new WeakMap,VD=new WeakMap,qD=new WeakMap,YD=new WeakMap,ZD=new WeakMap,KD=new WeakMap,JD=new WeakMap,QD=new WeakMap,XD=new WeakMap,tS=new WeakMap,eS=new WeakMap,rS=new WeakMap,iS=new WeakMap,nS=new WeakMap,sS=new WeakMap,oS=new WeakSet,aS=new WeakMap,lS=new WeakMap,uS=new WeakMap,hS=new WeakMap,cS=new WeakMap,dS=new WeakMap,fS=new WeakMap;class pS{static unsafeExposeInternals(t){return{starts:P_(eS,t),ttls:P_(rS,t),sizes:P_(tS,t),keyMap:P_(GD,t),keyList:P_(VD,t),valList:P_(qD,t),next:P_(YD,t),prev:P_(ZD,t),get head(){return P_(KD,t)},get tail(){return P_(JD,t)},free:P_(QD,t),isBackgroundFetch:e=>R_(oS,t,DS).call(t,e),backgroundFetch:(e,r,i,n)=>R_(oS,t,_S).call(t,e,r,i,n),moveToTail:e=>R_(oS,t,ES).call(t,e),indexes:e=>R_(oS,t,bS).call(t,e),rindexes:e=>R_(oS,t,yS).call(t,e),isStale:e=>P_(hS,t).call(t,e)}}get max(){return P_(jD,this)}get maxSize(){return P_(LD,this)}get calculatedSize(){return P_(HD,this)}get size(){return P_(zD,this)}get fetchMethod(){return P_(WD,this)}get memoMethod(){return P_(UD,this)}get dispose(){return P_(ND,this)}get disposeAfter(){return P_($D,this)}constructor(t){j_(this,oS),I_(this,jD,void 0),I_(this,LD,void 0),I_(this,ND,void 0),I_(this,$D,void 0),I_(this,WD,void 0),I_(this,UD,void 0),L_(this,"ttl",void 0),L_(this,"ttlResolution",void 0),L_(this,"ttlAutopurge",void 0),L_(this,"updateAgeOnGet",void 0),L_(this,"updateAgeOnHas",void 0),L_(this,"allowStale",void 0),L_(this,"noDisposeOnSet",void 0),L_(this,"noUpdateTTL",void 0),L_(this,"maxEntrySize",void 0),L_(this,"sizeCalculation",void 0),L_(this,"noDeleteOnFetchRejection",void 0),L_(this,"noDeleteOnStaleGet",void 0),L_(this,"allowStaleOnFetchAbort",void 0),L_(this,"allowStaleOnFetchRejection",void 0),L_(this,"ignoreFetchAbort",void 0),I_(this,zD,void 0),I_(this,HD,void 0),I_(this,GD,void 0),I_(this,VD,void 0),I_(this,qD,void 0),I_(this,YD,void 0),I_(this,ZD,void 0),I_(this,KD,void 0),I_(this,JD,void 0),I_(this,QD,void 0),I_(this,XD,void 0),I_(this,tS,void 0),I_(this,eS,void 0),I_(this,rS,void 0),I_(this,iS,void 0),I_(this,nS,void 0),I_(this,sS,void 0),I_(this,aS,(()=>{})),I_(this,lS,(()=>{})),I_(this,uS,(()=>{})),I_(this,hS,(()=>!1)),I_(this,cS,(t=>{})),I_(this,dS,((t,e,r)=>{})),I_(this,fS,((t,e,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0})),L_(this,Symbol.toStringTag,"LRUCache");const{max:e=0,ttl:r,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:s,updateAgeOnHas:o,allowStale:a,dispose:l,disposeAfter:u,noDisposeOnSet:h,noUpdateTTL:c,maxSize:d=0,maxEntrySize:f=0,sizeCalculation:p,fetchMethod:m,memoMethod:g,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:w,allowStaleOnFetchAbort:v,ignoreFetchAbort:_}=t;if(0!==e&&!RD(e))throw new TypeError("max option must be a nonnegative integer");const D=e?MD(e):Array;if(!D)throw new Error("invalid max value: "+e);if(B_(jD,this,e),B_(LD,this,d),this.maxEntrySize=f||P_(LD,this),this.sizeCalculation=p,this.sizeCalculation){if(!P_(LD,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("memoMethod must be a function if defined");if(B_(UD,this,g),void 0!==m&&"function"!=typeof m)throw new TypeError("fetchMethod must be a function if specified");if(B_(WD,this,m),B_(nS,this,!!m),B_(GD,this,new Map),B_(VD,this,new Array(e).fill(void 0)),B_(qD,this,new Array(e).fill(void 0)),B_(YD,this,new D(e)),B_(ZD,this,new D(e)),B_(KD,this,0),B_(JD,this,0),B_(QD,this,ID.create(e)),B_(zD,this,0),B_(HD,this,0),"function"==typeof l&&B_(ND,this,l),"function"==typeof u?(B_($D,this,u),B_(XD,this,[])):(B_($D,this,void 0),B_(XD,this,void 0)),B_(iS,this,!!P_(ND,this)),B_(sS,this,!!P_($D,this)),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!c,this.noDeleteOnFetchRejection=!!b,this.allowStaleOnFetchRejection=!!w,this.allowStaleOnFetchAbort=!!v,this.ignoreFetchAbort=!!_,0!==this.maxEntrySize){if(0!==P_(LD,this)&&!RD(P_(LD,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!RD(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");R_(oS,this,gS).call(this)}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!y,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!o,this.ttlResolution=RD(i)||0===i?i:1,this.ttlAutopurge=!!n,this.ttl=r||0,this.ttl){if(!RD(this.ttl))throw new TypeError("ttl must be a positive integer if specified");R_(oS,this,mS).call(this)}if(0===P_(jD,this)&&0===this.ttl&&0===P_(LD,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!P_(jD,this)&&!P_(LD,this)){const t="LRU_CACHE_UNBOUNDED";if((t=>!kD.has(t))(t)){kD.add(t);TD("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,pS)}}}getRemainingTTL(t){return P_(GD,this).has(t)?1/0:0}*entries(){for(const t of R_(oS,this,bS).call(this))void 0===P_(qD,this)[t]||void 0===P_(VD,this)[t]||R_(oS,this,DS).call(this,P_(qD,this)[t])||(yield[P_(VD,this)[t],P_(qD,this)[t]])}*rentries(){for(const t of R_(oS,this,yS).call(this))void 0===P_(qD,this)[t]||void 0===P_(VD,this)[t]||R_(oS,this,DS).call(this,P_(qD,this)[t])||(yield[P_(VD,this)[t],P_(qD,this)[t]])}*keys(){for(const t of R_(oS,this,bS).call(this)){const e=P_(VD,this)[t];void 0===e||R_(oS,this,DS).call(this,P_(qD,this)[t])||(yield e)}}*rkeys(){for(const t of R_(oS,this,yS).call(this)){const e=P_(VD,this)[t];void 0===e||R_(oS,this,DS).call(this,P_(qD,this)[t])||(yield e)}}*values(){for(const t of R_(oS,this,bS).call(this)){void 0===P_(qD,this)[t]||R_(oS,this,DS).call(this,P_(qD,this)[t])||(yield P_(qD,this)[t])}}*rvalues(){for(const t of R_(oS,this,yS).call(this)){void 0===P_(qD,this)[t]||R_(oS,this,DS).call(this,P_(qD,this)[t])||(yield P_(qD,this)[t])}}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const r of R_(oS,this,bS).call(this)){const i=P_(qD,this)[r],n=R_(oS,this,DS).call(this,i)?i.__staleWhileFetching:i;if(void 0!==n&&t(n,P_(VD,this)[r],this))return this.get(P_(VD,this)[r],e)}}forEach(t,e=this){for(const r of R_(oS,this,bS).call(this)){const i=P_(qD,this)[r],n=R_(oS,this,DS).call(this,i)?i.__staleWhileFetching:i;void 0!==n&&t.call(e,n,P_(VD,this)[r],this)}}rforEach(t,e=this){for(const r of R_(oS,this,yS).call(this)){const i=P_(qD,this)[r],n=R_(oS,this,DS).call(this,i)?i.__staleWhileFetching:i;void 0!==n&&t.call(e,n,P_(VD,this)[r],this)}}purgeStale(){let t=!1;for(const e of R_(oS,this,yS).call(this,{allowStale:!0}))P_(hS,this).call(this,e)&&(R_(oS,this,xS).call(this,P_(VD,this)[e],"expire"),t=!0);return t}info(t){const e=P_(GD,this).get(t);if(void 0===e)return;const r=P_(qD,this)[e],i=R_(oS,this,DS).call(this,r)?r.__staleWhileFetching:r;if(void 0===i)return;const n={value:i};if(P_(rS,this)&&P_(eS,this)){const t=P_(rS,this)[e],r=P_(eS,this)[e];if(t&&r){const e=t-(CD.now()-r);n.ttl=e,n.start=Date.now()}}return P_(tS,this)&&(n.size=P_(tS,this)[e]),n}dump(){const t=[];for(const e of R_(oS,this,bS).call(this,{allowStale:!0})){const r=P_(VD,this)[e],i=P_(qD,this)[e],n=R_(oS,this,DS).call(this,i)?i.__staleWhileFetching:i;if(void 0===n||void 0===r)continue;const s={value:n};if(P_(rS,this)&&P_(eS,this)){s.ttl=P_(rS,this)[e];const t=CD.now()-P_(eS,this)[e];s.start=Math.floor(Date.now()-t)}P_(tS,this)&&(s.size=P_(tS,this)[e]),t.unshift([r,s])}return t}load(t){this.clear();for(const[e,r]of t){if(r.start){const t=Date.now()-r.start;r.start=CD.now()-t}this.set(e,r.value,r)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const u=P_(fS,this).call(this,t,e,r.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),R_(oS,this,xS).call(this,t,"set"),this;let h=0===P_(zD,this)?void 0:P_(GD,this).get(t);if(void 0===h){var c;h=0===P_(zD,this)?P_(JD,this):0!==P_(QD,this).length?P_(QD,this).pop():P_(zD,this)===P_(jD,this)?R_(oS,this,vS).call(this,!1):P_(zD,this),P_(VD,this)[h]=t,P_(qD,this)[h]=e,P_(GD,this).set(t,h),P_(YD,this)[P_(JD,this)]=h,P_(ZD,this)[h]=P_(JD,this),B_(JD,this,h),B_(zD,this,(c=P_(zD,this),++c)),P_(dS,this).call(this,h,u,a),a&&(a.set="add"),l=!1}else{R_(oS,this,ES).call(this,h);const r=P_(qD,this)[h];if(e!==r){if(P_(nS,this)&&R_(oS,this,DS).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||s||(P_(iS,this)&&P_(ND,this)?.call(this,e,t,"set"),P_(sS,this)&&P_(XD,this)?.push([e,t,"set"]))}else s||(P_(iS,this)&&P_(ND,this)?.call(this,r,t,"set"),P_(sS,this)&&P_(XD,this)?.push([r,t,"set"]));if(P_(cS,this).call(this,h),P_(dS,this).call(this,h,u,a),P_(qD,this)[h]=e,a){a.set="replace";const t=r&&R_(oS,this,DS).call(this,r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===i||P_(rS,this)||R_(oS,this,mS).call(this),P_(rS,this)&&(l||P_(uS,this).call(this,h,i,n),a&&P_(lS,this).call(this,a,h)),!s&&P_(sS,this)&&P_(XD,this)){const t=P_(XD,this);let e;for(;e=t?.shift();)P_($D,this)?.call(this,...e)}return this}pop(){try{for(;P_(zD,this);){const t=P_(qD,this)[P_(KD,this)];if(R_(oS,this,vS).call(this,!0),R_(oS,this,DS).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(P_(sS,this)&&P_(XD,this)){const t=P_(XD,this);let e;for(;e=t?.shift();)P_($D,this)?.call(this,...e)}}}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=e,n=P_(GD,this).get(t);if(void 0!==n){const t=P_(qD,this)[n];if(R_(oS,this,DS).call(this,t)&&void 0===t.__staleWhileFetching)return!1;if(!P_(hS,this).call(this,n))return r&&P_(aS,this).call(this,n),i&&(i.has="hit",P_(lS,this).call(this,i,n)),!0;i&&(i.has="stale",P_(lS,this).call(this,i,n))}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,i=P_(GD,this).get(t);if(void 0===i||!r&&P_(hS,this).call(this,i))return;const n=P_(qD,this)[i];return R_(oS,this,DS).call(this,n)?n.__staleWhileFetching:n}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:c=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:g,signal:b}=e;if(!P_(nS,this))return g&&(g.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:g});const y={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:u,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:c,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:g,signal:b};let w=P_(GD,this).get(t);if(void 0===w){g&&(g.fetch="miss");const e=R_(oS,this,_S).call(this,t,w,y,p);return e.__returned=e}{const e=P_(qD,this)[w];if(R_(oS,this,DS).call(this,e)){const t=r&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const n=P_(hS,this).call(this,w);if(!m&&!n)return g&&(g.fetch="hit"),R_(oS,this,ES).call(this,w),i&&P_(aS,this).call(this,w),g&&P_(lS,this).call(this,g,w),e;const s=R_(oS,this,_S).call(this,t,w,y,p),o=void 0!==s.__staleWhileFetching&&r;return g&&(g.fetch=n?"stale":"refresh",o&&n&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(t,e={}){const r=await this.fetch(t,e);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(t,e={}){const r=P_(UD,this);if(!r)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:n,...s}=e,o=this.get(t,s);if(!n&&void 0!==o)return o;const a=r(t,o,{options:s,context:i});return this.set(t,a,s),a}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:s}=e,o=P_(GD,this).get(t);if(void 0!==o){const e=P_(qD,this)[o],a=R_(oS,this,DS).call(this,e);return s&&P_(lS,this).call(this,s,o),P_(hS,this).call(this,o)?(s&&(s.get="stale"),a?(s&&r&&void 0!==e.__staleWhileFetching&&(s.returnedStale=!0),r?e.__staleWhileFetching:void 0):(n||R_(oS,this,xS).call(this,t,"expire"),s&&r&&(s.returnedStale=!0),r?e:void 0)):(s&&(s.get="hit"),a?e.__staleWhileFetching:(R_(oS,this,ES).call(this,o),i&&P_(aS,this).call(this,o),e))}s&&(s.get="miss")}delete(t){return R_(oS,this,xS).call(this,t,"delete")}clear(){return R_(oS,this,CS).call(this,"delete")}}function mS(){const t=new PD(P_(jD,this)),e=new PD(P_(jD,this));B_(rS,this,t),B_(eS,this,e),B_(uS,this,((r,i,n=CD.now())=>{if(e[r]=0!==i?n:0,t[r]=i,0!==i&&this.ttlAutopurge){const t=setTimeout((()=>{P_(hS,this).call(this,r)&&R_(oS,this,xS).call(this,P_(VD,this)[r],"expire")}),i+1);t.unref&&t.unref()}})),B_(aS,this,(r=>{e[r]=0!==t[r]?CD.now():0})),B_(lS,this,((n,s)=>{if(t[s]){const o=t[s],a=e[s];if(!o||!a)return;n.ttl=o,n.start=a,n.now=r||i();const l=n.now-a;n.remainingTTL=o-l}}));let r=0;const i=()=>{const t=CD.now();if(this.ttlResolution>0){r=t;const e=setTimeout((()=>r=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=n=>{const s=P_(GD,this).get(n);if(void 0===s)return 0;const o=t[s],a=e[s];if(!o||!a)return 1/0;return o-((r||i())-a)},B_(hS,this,(n=>{const s=e[n],o=t[n];return!!o&&!!s&&(r||i())-s>o}))}function gS(){const t=new PD(P_(jD,this));B_(HD,this,0),B_(tS,this,t),B_(cS,this,(e=>{B_(HD,this,P_(HD,this)-t[e]),t[e]=0})),B_(fS,this,((t,e,r,i)=>{if(R_(oS,this,DS).call(this,e))return 0;if(!RD(r)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(r=i(e,t),!RD(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r})),B_(dS,this,((e,r,i)=>{if(t[e]=r,P_(LD,this)){const r=P_(LD,this)-t[e];for(;P_(HD,this)>r;)R_(oS,this,vS).call(this,!0)}B_(HD,this,P_(HD,this)+t[e]),i&&(i.entrySize=r,i.totalCalculatedSize=P_(HD,this))}))}function*bS({allowStale:t=this.allowStale}={}){if(P_(zD,this))for(let e=P_(JD,this);R_(oS,this,wS).call(this,e)&&(!t&&P_(hS,this).call(this,e)||(yield e),e!==P_(KD,this));)e=P_(ZD,this)[e]}function*yS({allowStale:t=this.allowStale}={}){if(P_(zD,this))for(let e=P_(KD,this);R_(oS,this,wS).call(this,e)&&(!t&&P_(hS,this).call(this,e)||(yield e),e!==P_(JD,this));)e=P_(YD,this)[e]}function wS(t){return void 0!==t&&P_(GD,this).get(P_(VD,this)[t])===t}function vS(t){var e;const r=P_(KD,this),i=P_(VD,this)[r],n=P_(qD,this)[r];return P_(nS,this)&&R_(oS,this,DS).call(this,n)?n.__abortController.abort(new Error("evicted")):(P_(iS,this)||P_(sS,this))&&(P_(iS,this)&&P_(ND,this)?.call(this,n,i,"evict"),P_(sS,this)&&P_(XD,this)?.push([n,i,"evict"])),P_(cS,this).call(this,r),t&&(P_(VD,this)[r]=void 0,P_(qD,this)[r]=void 0,P_(QD,this).push(r)),1===P_(zD,this)?(B_(KD,this,B_(JD,this,0)),P_(QD,this).length=0):B_(KD,this,P_(YD,this)[r]),P_(GD,this).delete(i),B_(zD,this,(e=P_(zD,this),--e)),r}function _S(t,e,r,i){const n=void 0===e?void 0:P_(qD,this)[e];if(R_(oS,this,DS).call(this,n))return n;const s=new AD,{signal:o}=r;o?.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const a={signal:s.signal,options:r,context:i},l=(i,n=!1)=>{const{aborted:o}=s.signal,l=r.ignoreFetchAbort&&void 0!==i;if(r.status&&(o&&!n?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,l&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!l&&!n)return u(s.signal.reason);const c=h;return P_(qD,this)[e]===h&&(void 0===i?c.__staleWhileFetching?P_(qD,this)[e]=c.__staleWhileFetching:R_(oS,this,xS).call(this,t,"fetch"):(r.status&&(r.status.fetchUpdated=!0),this.set(t,i,a.options))),i},u=i=>{const{aborted:n}=s.signal,o=n&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,u=h;if(P_(qD,this)[e]===h){!l||void 0===u.__staleWhileFetching?R_(oS,this,xS).call(this,t,"fetch"):o||(P_(qD,this)[e]=u.__staleWhileFetching)}if(a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};r.status&&(r.status.fetchDispatched=!0);const h=new Promise(((e,i)=>{const o=P_(WD,this)?.call(this,t,n,a);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),i),s.signal.addEventListener("abort",(()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>l(t,!0)))}))})).then(l,(t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),u(t)))),c=Object.assign(h,{__abortController:s,__staleWhileFetching:n,__returned:void 0});return void 0===e?(this.set(t,c,{...a.options,status:void 0}),e=P_(GD,this).get(t)):P_(qD,this)[e]=c,c}function DS(t){if(!P_(nS,this))return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof AD}function SS(t,e){P_(ZD,this)[e]=t,P_(YD,this)[t]=e}function ES(t){t!==P_(JD,this)&&(t===P_(KD,this)?B_(KD,this,P_(YD,this)[t]):R_(oS,this,SS).call(this,P_(ZD,this)[t],P_(YD,this)[t]),R_(oS,this,SS).call(this,P_(JD,this),t),B_(JD,this,t))}function xS(t,e){let r=!1;if(0!==P_(zD,this)){const n=P_(GD,this).get(t);if(void 0!==n)if(r=!0,1===P_(zD,this))R_(oS,this,CS).call(this,e);else{var i;P_(cS,this).call(this,n);const r=P_(qD,this)[n];if(R_(oS,this,DS).call(this,r)?r.__abortController.abort(new Error("deleted")):(P_(iS,this)||P_(sS,this))&&(P_(iS,this)&&P_(ND,this)?.call(this,r,t,e),P_(sS,this)&&P_(XD,this)?.push([r,t,e])),P_(GD,this).delete(t),P_(VD,this)[n]=void 0,P_(qD,this)[n]=void 0,n===P_(JD,this))B_(JD,this,P_(ZD,this)[n]);else if(n===P_(KD,this))B_(KD,this,P_(YD,this)[n]);else{const t=P_(ZD,this)[n];P_(YD,this)[t]=P_(YD,this)[n];const e=P_(YD,this)[n];P_(ZD,this)[e]=P_(ZD,this)[n]}B_(zD,this,(i=P_(zD,this),--i)),P_(QD,this).push(n)}}if(P_(sS,this)&&P_(XD,this)?.length){const t=P_(XD,this);let e;for(;e=t?.shift();)P_($D,this)?.call(this,...e)}return r}function CS(t){for(const e of R_(oS,this,yS).call(this,{allowStale:!0})){const r=P_(qD,this)[e];if(R_(oS,this,DS).call(this,r))r.__abortController.abort(new Error("deleted"));else{const i=P_(VD,this)[e];P_(iS,this)&&P_(ND,this)?.call(this,r,i,t),P_(sS,this)&&P_(XD,this)?.push([r,i,t])}}if(P_(GD,this).clear(),P_(qD,this).fill(void 0),P_(VD,this).fill(void 0),P_(rS,this)&&P_(eS,this)&&(P_(rS,this).fill(0),P_(eS,this).fill(0)),P_(tS,this)&&P_(tS,this).fill(0),B_(KD,this,0),B_(JD,this,0),P_(QD,this).length=0,B_(HD,this,0),B_(zD,this,0),P_(sS,this)&&P_(XD,this)){const t=P_(XD,this);let e;for(;e=t?.shift();)P_($D,this)?.call(this,...e)}}xD.LRUCache=pS;var kS={};!function(e){var r=E&&E.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const i="object"==typeof process&&process?process:{stdout:null,stderr:null},n=t,s=r(v),o=D;e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof G||t instanceof s.default||(0,e.isReadable)(t)||(0,e.isWritable)(t));e.isReadable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==s.default.Writable.prototype.pipe;e.isWritable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const a=Symbol("EOF"),l=Symbol("maybeEmitEnd"),u=Symbol("emittedEnd"),h=Symbol("emittingEnd"),c=Symbol("emittedError"),d=Symbol("closed"),f=Symbol("read"),p=Symbol("flush"),m=Symbol("flushChunk"),g=Symbol("encoding"),b=Symbol("decoder"),y=Symbol("flowing"),w=Symbol("paused"),_=Symbol("resume"),S=Symbol("buffer"),x=Symbol("pipes"),C=Symbol("bufferLength"),k=Symbol("bufferPush"),O=Symbol("bufferShift"),T=Symbol("objectMode"),A=Symbol("destroyed"),F=Symbol("error"),R=Symbol("emitData"),M=Symbol("emitEnd"),P=Symbol("emitEnd2"),I=Symbol("async"),B=Symbol("abort"),j=Symbol("aborted"),L=Symbol("signal"),N=Symbol("dataListeners"),$=Symbol("discarded"),W=t=>Promise.resolve().then(t),U=t=>t();class z{constructor(t,e,r){L_(this,"src",void 0),L_(this,"dest",void 0),L_(this,"opts",void 0),L_(this,"ondrain",void 0),this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[_](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class H extends z{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class G extends n.EventEmitter{constructor(...t){const e=t[0]||{};if(super(),L_(this,y,!1),L_(this,w,!1),L_(this,x,[]),L_(this,S,[]),L_(this,T,void 0),L_(this,g,void 0),L_(this,I,void 0),L_(this,b,void 0),L_(this,a,!1),L_(this,u,!1),L_(this,h,!1),L_(this,d,!1),L_(this,c,null),L_(this,C,0),L_(this,A,!1),L_(this,L,void 0),L_(this,j,!1),L_(this,N,0),L_(this,$,!1),L_(this,"writable",!0),L_(this,"readable",!0),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");e.objectMode?(this[T]=!0,this[g]=null):(t=>!t.objectMode&&!!t.encoding&&"buffer"!==t.encoding)(e)?(this[g]=e.encoding,this[T]=!1):(this[T]=!1,this[g]=null),this[I]=!!e.async,this[b]=this[g]?new o.StringDecoder(this[g]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[S]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[x]});const{signal:r}=e;r&&(this[L]=r,r.aborted?this[B]():r.addEventListener("abort",(()=>this[B]())))}get bufferLength(){return this[C]}get encoding(){return this[g]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[T]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[I]}set async(t){this[I]=this[I]||!!t}[B](){this[j]=!0,this.emit("abort",this[L]?.reason),this.destroy(this[L]?.reason)}get aborted(){return this[j]}set aborted(t){}write(t,e,r){if(this[j])return!1;if(this[a])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const i=this[I]?W:U;if(!this[T]&&!Buffer.isBuffer(t))if(n=t,!Buffer.isBuffer(n)&&ArrayBuffer.isView(n))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var n;return this[T]?(this[y]&&0!==this[C]&&this[p](!0),this[y]?this.emit("data",t):this[k](t),0!==this[C]&&this.emit("readable"),r&&i(r),this[y]):t.length?("string"!=typeof t||e===this[g]&&!this[b]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[g]&&(t=this[b].write(t)),this[y]&&0!==this[C]&&this[p](!0),this[y]?this.emit("data",t):this[k](t),0!==this[C]&&this.emit("readable"),r&&i(r),this[y]):(0!==this[C]&&this.emit("readable"),r&&i(r),this[y])}read(t){if(this[A])return null;if(this[$]=!1,0===this[C]||0===t||t&&t>this[C])return this[l](),null;this[T]&&(t=null),this[S].length>1&&!this[T]&&(this[S]=[this[g]?this[S].join(""):Buffer.concat(this[S],this[C])]);const e=this[f](t||null,this[S][0]);return this[l](),e}[f](t,e){if(this[T])this[O]();else{const r=e;t===r.length||null===t?this[O]():"string"==typeof r?(this[S][0]=r.slice(t),e=r.slice(0,t),this[C]-=t):(this[S][0]=r.subarray(t),e=r.subarray(0,t),this[C]-=t)}return this.emit("data",e),this[S].length||this[a]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[a]=!0,this.writable=!1,!this[y]&&this[w]||this[l](),this}[_](){this[A]||(this[N]||this[x].length||(this[$]=!0),this[w]=!1,this[y]=!0,this.emit("resume"),this[S].length?this[p]():this[a]?this[l]():this.emit("drain"))}resume(){return this[_]()}pause(){this[y]=!1,this[w]=!0,this[$]=!1}get destroyed(){return this[A]}get flowing(){return this[y]}get paused(){return this[w]}[k](t){this[T]?this[C]+=1:this[C]+=t.length,this[S].push(t)}[O](){return this[T]?this[C]-=1:this[C]-=this[S][0].length,this[S].shift()}[p](t=!1){do{}while(this[m](this[O]())&&this[S].length);t||this[S].length||this[a]||this.emit("drain")}[m](t){return this.emit("data",t),this[y]}pipe(t,e){if(this[A])return t;this[$]=!1;const r=this[u];return e=e||{},t===i.stdout||t===i.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[x].push(e.proxyErrors?new H(this,t,e):new z(this,t,e)),this[I]?W((()=>this[_]())):this[_]()),t}unpipe(t){const e=this[x].find((e=>e.dest===t));e&&(1===this[x].length?(this[y]&&0===this[N]&&(this[y]=!1),this[x]=[]):this[x].splice(this[x].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[$]=!1,this[N]++,this[x].length||this[y]||this[_]();else if("readable"===t&&0!==this[C])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[u])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[c]){const t=e;this[I]?W((()=>t.call(this,this[c]))):t.call(this,this[c])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[N]=this.listeners("data").length,0!==this[N]||this[$]||this[x].length||(this[y]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[N]=0,this[$]||this[x].length||(this[y]=!1)),e}get emittedEnd(){return this[u]}[l](){this[h]||this[u]||this[A]||0!==this[S].length||!this[a]||(this[h]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[h]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==A&&this[A])return!1;if("data"===t)return!(!this[T]&&!r)&&(this[I]?(W((()=>this[R](r))),!0):this[R](r));if("end"===t)return this[M]();if("close"===t){if(this[d]=!0,!this[u]&&!this[A])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[c]=r,super.emit(F,r);const t=!(this[L]&&!this.listeners("error").length)&&super.emit("error",r);return this[l](),t}if("resume"===t){const t=super.emit("resume");return this[l](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const i=super.emit(t,...e);return this[l](),i}[R](t){for(const e of this[x])!1===e.dest.write(t)&&this.pause();const e=!this[$]&&super.emit("data",t);return this[l](),e}[M](){return!this[u]&&(this[u]=!0,this.readable=!1,this[I]?(W((()=>this[P]())),!0):this[P]())}[P](){if(this[b]){const t=this[b].end();if(t){for(const e of this[x])e.dest.write(t);this[$]||super.emit("data",t)}}for(const t of this[x])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[T]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[T]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[T])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[g]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(A,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[Symbol.asyncIterator](){this[$]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[a])return e();let i,n;const s=t=>{this.off("data",o),this.off("end",l),this.off(A,u),e(),n(t)},o=t=>{this.off("error",s),this.off("end",l),this.off(A,u),this.pause(),i({value:t,done:!!this[a]})},l=()=>{this.off("error",s),this.off("data",o),this.off(A,u),e(),i({done:!0,value:void 0})},u=()=>s(new Error("stream destroyed"));return new Promise(((t,e)=>{n=e,i=t,this.once(A,u),this.once("error",s),this.once("end",l),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[$]=!1;let t=!1;const e=()=>(this.pause(),this.off(F,e),this.off(A,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(F,e),this.once(A,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[A])return t?this.emit("error",t):this.emit(A),this;this[A]=!0,this[$]=!0,this[S].length=0,this[C]=0;return"function"!=typeof this.close||this[d]||this.close(),t?this.emit("error",t):this.emit(A),this}static get isStream(){return e.isStream}}e.Minipass=G}(kS);var OS=E&&E.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(e,r);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,n)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),TS=E&&E.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AS=E&&E.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&OS(e,t,r);return TS(e,t),e};Object.defineProperty(ED,"__esModule",{value:!0}),ED.PathScurry=ED.Path=ED.PathScurryDarwin=ED.PathScurryPosix=ED.PathScurryWin32=ED.PathScurryBase=ED.PathPosix=ED.PathWin32=ED.PathBase=ED.ChildrenCache=ED.ResolveCache=void 0;const FS=xD,RS=r,MS=y,PS=l,IS=AS(i),BS=PS.realpathSync.native,jS=w,LS=kS,NS={lstatSync:PS.lstatSync,readdir:PS.readdir,readdirSync:PS.readdirSync,readlinkSync:PS.readlinkSync,realpathSync:BS,promises:{lstat:jS.lstat,readdir:jS.readdir,readlink:jS.readlink,realpath:jS.realpath}},$S=t=>t&&t!==NS&&t!==IS?{...NS,...t,promises:{...NS.promises,...t.promises||{}}}:NS,WS=/^\\\\\?\\([a-z]:)\\?$/i,US=/[\\\/]/,zS=0,HS=4,GS=10,VS=15,qS=~VS,YS=64,ZS=128,KS=256,JS=512,QS=YS|ZS|JS,XS=t=>t.isFile()?8:t.isDirectory()?HS:t.isSymbolicLink()?GS:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:zS,tE=new Map,eE=t=>{const e=tE.get(t);if(e)return e;const r=t.normalize("NFKD");return tE.set(t,r),r},rE=new Map,iE=t=>{const e=rE.get(t);if(e)return e;const r=eE(t.toLowerCase());return rE.set(t,r),r};class nE extends FS.LRUCache{constructor(){super({max:256})}}ED.ResolveCache=nE;class sE extends FS.LRUCache{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}ED.ChildrenCache=sE;const oE=Symbol("PathScurry setAsCwd");var aE=new WeakMap,lE=new WeakMap,uE=new WeakMap,hE=new WeakMap,cE=new WeakMap,dE=new WeakMap,fE=new WeakMap,pE=new WeakMap,mE=new WeakMap,gE=new WeakMap,bE=new WeakMap,yE=new WeakMap,wE=new WeakMap,vE=new WeakMap,_E=new WeakMap,DE=new WeakMap,SE=new WeakMap,EE=new WeakMap,xE=new WeakMap,CE=new WeakMap,kE=new WeakMap,OE=new WeakMap,TE=new WeakMap,AE=new WeakMap,FE=new WeakMap,RE=new WeakMap,ME=new WeakMap,PE=new WeakMap,IE=new WeakMap,BE=new WeakSet,jE=new WeakMap,LE=new WeakMap,NE=new WeakMap;class $E{get dev(){return P_(lE,this)}get mode(){return P_(uE,this)}get nlink(){return P_(hE,this)}get uid(){return P_(cE,this)}get gid(){return P_(dE,this)}get rdev(){return P_(fE,this)}get blksize(){return P_(pE,this)}get ino(){return P_(mE,this)}get size(){return P_(gE,this)}get blocks(){return P_(bE,this)}get atimeMs(){return P_(yE,this)}get mtimeMs(){return P_(wE,this)}get ctimeMs(){return P_(vE,this)}get birthtimeMs(){return P_(_E,this)}get atime(){return P_(DE,this)}get mtime(){return P_(SE,this)}get ctime(){return P_(EE,this)}get birthtime(){return P_(xE,this)}get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=zS,r,i,n,s,o){j_(this,BE),L_(this,"name",void 0),L_(this,"root",void 0),L_(this,"roots",void 0),L_(this,"parent",void 0),L_(this,"nocase",void 0),L_(this,"isCWD",!1),I_(this,aE,void 0),I_(this,lE,void 0),I_(this,uE,void 0),I_(this,hE,void 0),I_(this,cE,void 0),I_(this,dE,void 0),I_(this,fE,void 0),I_(this,pE,void 0),I_(this,mE,void 0),I_(this,gE,void 0),I_(this,bE,void 0),I_(this,yE,void 0),I_(this,wE,void 0),I_(this,vE,void 0),I_(this,_E,void 0),I_(this,DE,void 0),I_(this,SE,void 0),I_(this,EE,void 0),I_(this,xE,void 0),I_(this,CE,void 0),I_(this,kE,void 0),I_(this,OE,void 0),I_(this,TE,void 0),I_(this,AE,void 0),I_(this,FE,void 0),I_(this,RE,void 0),I_(this,ME,void 0),I_(this,PE,void 0),I_(this,IE,void 0),I_(this,jE,[]),I_(this,LE,!1),I_(this,NE,void 0),this.name=t,B_(CE,this,n?iE(t):eE(t)),B_(RE,this,1023&e),this.nocase=n,this.roots=i,this.root=r||this,B_(ME,this,s),B_(OE,this,o.fullpath),B_(AE,this,o.relative),B_(FE,this,o.relativePosix),this.parent=o.parent,this.parent?B_(aE,this,P_(aE,this.parent)):B_(aE,this,$S(o.fs))}depth(){return void 0!==P_(kE,this)?P_(kE,this):this.parent?B_(kE,this,this.parent.depth()+1):B_(kE,this,0)}childrenCache(){return P_(ME,this)}resolve(t){var e;if(!t)return this;const r=this.getRootString(t),i=t.substring(r.length).split(this.splitSep);return r?R_(BE,e=this.getRoot(r),WE).call(e,i):R_(BE,this,WE).call(this,i)}children(){const t=P_(ME,this).get(this);if(t)return t;const e=Object.assign([],{provisional:0});return P_(ME,this).set(this,e),B_(RE,this,-17&P_(RE,this)),e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),i=this.nocase?iE(t):eE(t);for(const t of r)if(P_(CE,t)===i)return t;const n=this.parent?this.sep:"",s=P_(OE,this)?P_(OE,this)+n+t:void 0,o=this.newChild(t,zS,{...e,parent:this,fullpath:s});return this.canReaddir()||B_(RE,o,P_(RE,o)|ZS),r.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==P_(AE,this))return P_(AE,this);const t=this.name,e=this.parent;if(!e)return B_(AE,this,this.name);const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==P_(FE,this))return P_(FE,this);const t=this.name,e=this.parent;if(!e)return B_(FE,this,this.fullpathPosix());const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==P_(OE,this))return P_(OE,this);const t=this.name,e=this.parent;if(!e)return B_(OE,this,this.name);const r=e.fullpath()+(e.parent?this.sep:"")+t;return B_(OE,this,r)}fullpathPosix(){if(void 0!==P_(TE,this))return P_(TE,this);if("/"===this.sep)return B_(TE,this,this.fullpath());if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?B_(TE,this,`//?/${t}`):B_(TE,this,t)}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return B_(TE,this,r)}isUnknown(){return(P_(RE,this)&VS)===zS}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(P_(RE,this)&VS)}isDirectory(){return(P_(RE,this)&VS)===HS}isCharacterDevice(){return 2==(P_(RE,this)&VS)}isBlockDevice(){return 6==(P_(RE,this)&VS)}isFIFO(){return 1==(P_(RE,this)&VS)}isSocket(){return 12==(P_(RE,this)&VS)}isSymbolicLink(){return(P_(RE,this)&GS)===GS}lstatCached(){return 32&P_(RE,this)?this:void 0}readlinkCached(){return P_(PE,this)}realpathCached(){return P_(IE,this)}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(P_(PE,this))return!0;if(!this.parent)return!1;const t=P_(RE,this)&VS;return!(t!==zS&&t!==GS||P_(RE,this)&KS||P_(RE,this)&ZS)}calledReaddir(){return!!(16&P_(RE,this))}isENOENT(){return!!(P_(RE,this)&ZS)}isNamed(t){return this.nocase?P_(CE,this)===iE(t):P_(CE,this)===eE(t)}async readlink(){const t=P_(PE,this);if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await P_(aE,this).promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return B_(PE,this,e)}catch(t){return void R_(BE,this,ZE).call(this,t.code)}}readlinkSync(){const t=P_(PE,this);if(t)return t;if(this.canReadlink()&&this.parent)try{const t=P_(aE,this).readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return B_(PE,this,e)}catch(t){return void R_(BE,this,ZE).call(this,t.code)}}async lstat(){if(!(P_(RE,this)&ZS))try{return R_(BE,this,tx).call(this,await P_(aE,this).promises.lstat(this.fullpath())),this}catch(t){R_(BE,this,YE).call(this,t.code)}}lstatSync(){if(!(P_(RE,this)&ZS))try{return R_(BE,this,tx).call(this,P_(aE,this).lstatSync(this.fullpath())),this}catch(t){R_(BE,this,YE).call(this,t.code)}}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask((()=>t(null,[]))));const r=this.children();if(this.calledReaddir()){const i=r.slice(0,r.provisional);return void(e?t(null,i):queueMicrotask((()=>t(null,i))))}if(P_(jE,this).push(t),P_(LE,this))return;B_(LE,this,!0);const i=this.fullpath();P_(aE,this).readdir(i,{withFileTypes:!0},((t,e)=>{if(t)R_(BE,this,qE).call(this,t.code),r.provisional=0;else{for(const t of e)R_(BE,this,KE).call(this,t,r);R_(BE,this,UE).call(this,r)}R_(BE,this,ex).call(this,r.slice(0,r.provisional))}))}async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(P_(NE,this))await P_(NE,this);else{let r=()=>{};B_(NE,this,new Promise((t=>r=t)));try{for(const r of await P_(aE,this).promises.readdir(e,{withFileTypes:!0}))R_(BE,this,KE).call(this,r,t);R_(BE,this,UE).call(this,t)}catch(e){R_(BE,this,qE).call(this,e.code),t.provisional=0}B_(NE,this,void 0),r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of P_(aE,this).readdirSync(e,{withFileTypes:!0}))R_(BE,this,KE).call(this,r,t);R_(BE,this,UE).call(this,t)}catch(e){R_(BE,this,qE).call(this,e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(P_(RE,this)&QS)return!1;const t=VS&P_(RE,this);return t===zS||t===HS||t===GS}shouldWalk(t,e){return(P_(RE,this)&HS)===HS&&!(P_(RE,this)&QS)&&!t.has(this)&&(!e||e(this))}async realpath(){if(P_(IE,this))return P_(IE,this);if(!((768|ZS)&P_(RE,this)))try{const t=await P_(aE,this).promises.realpath(this.fullpath());return B_(IE,this,this.resolve(t))}catch(t){R_(BE,this,GE).call(this)}}realpathSync(){if(P_(IE,this))return P_(IE,this);if(!((768|ZS)&P_(RE,this)))try{const t=P_(aE,this).realpathSync(this.fullpath());return B_(IE,this,this.resolve(t))}catch(t){R_(BE,this,GE).call(this)}}[oE](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let r=[],i=this;for(;i&&i.parent;)e.add(i),B_(AE,i,r.join(this.sep)),B_(FE,i,r.join("/")),i=i.parent,r.push("..");for(i=t;i&&i.parent&&!e.has(i);)B_(AE,i,void 0),B_(FE,i,void 0),i=i.parent}}function WE(t){let e=this;for(const r of t)e=e.child(r);return e}function UE(t){B_(RE,this,16|P_(RE,this));for(let e=t.provisional;e<t.length;e++){const r=t[e];r&&R_(BE,r,zE).call(r)}}function zE(){P_(RE,this)&ZS||(B_(RE,this,(P_(RE,this)|ZS)&qS),R_(BE,this,HE).call(this))}function HE(){const t=this.children();t.provisional=0;for(const e of t)R_(BE,e,zE).call(e)}function GE(){B_(RE,this,P_(RE,this)|JS),R_(BE,this,VE).call(this)}function VE(){if(P_(RE,this)&YS)return;let t=P_(RE,this);(t&VS)===HS&&(t&=qS),B_(RE,this,t|YS),R_(BE,this,HE).call(this)}function qE(t=""){"ENOTDIR"===t||"EPERM"===t?R_(BE,this,VE).call(this):"ENOENT"===t?R_(BE,this,zE).call(this):this.children().provisional=0}function YE(t=""){if("ENOTDIR"===t){const t=this.parent;R_(BE,t,VE).call(t)}else"ENOENT"===t&&R_(BE,this,zE).call(this)}function ZE(t=""){let e=P_(RE,this);var r;(e|=KS,"ENOENT"===t&&(e|=ZS),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=qS),B_(RE,this,e),"ENOTDIR"===t&&this.parent)&&R_(BE,r=this.parent,VE).call(r)}function KE(t,e){return R_(BE,this,QE).call(this,t,e)||R_(BE,this,JE).call(this,t,e)}function JE(t,e){const r=XS(t),i=this.newChild(t.name,r,{parent:this}),n=P_(RE,i)&VS;return n!==HS&&n!==GS&&n!==zS&&B_(RE,i,P_(RE,i)|YS),e.unshift(i),e.provisional++,i}function QE(t,e){for(let r=e.provisional;r<e.length;r++){const i=e[r];if((this.nocase?iE(t.name):eE(t.name))===P_(CE,i))return R_(BE,this,XE).call(this,t,i,r,e)}}function XE(t,e,r,i){const n=e.name;return B_(RE,e,P_(RE,e)&qS|XS(t)),n!==t.name&&(e.name=t.name),r!==i.provisional&&(r===i.length-1?i.pop():i.splice(r,1),i.unshift(e)),i.provisional++,e}function tx(t){const{atime:e,atimeMs:r,birthtime:i,birthtimeMs:n,blksize:s,blocks:o,ctime:a,ctimeMs:l,dev:u,gid:h,ino:c,mode:d,mtime:f,mtimeMs:p,nlink:m,rdev:g,size:b,uid:y}=t;B_(DE,this,e),B_(yE,this,r),B_(xE,this,i),B_(_E,this,n),B_(pE,this,s),B_(bE,this,o),B_(EE,this,a),B_(vE,this,l),B_(lE,this,u),B_(dE,this,h),B_(mE,this,c),B_(uE,this,d),B_(SE,this,f),B_(wE,this,p),B_(hE,this,m),B_(fE,this,g),B_(gE,this,b),B_(cE,this,y);const w=XS(t);B_(RE,this,P_(RE,this)&qS|w|32),w!==zS&&w!==HS&&w!==GS&&B_(RE,this,P_(RE,this)|YS)}function ex(t){B_(LE,this,!1);const e=P_(jE,this).slice();P_(jE,this).length=0,e.forEach((e=>e(null,t)))}ED.PathBase=$E;class rx extends $E{constructor(t,e=zS,r,i,n,s,o){super(t,e,r,i,n,s,o),L_(this,"sep","\\"),L_(this,"splitSep",US)}newChild(t,e=zS,r={}){return new rx(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return RS.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(WS,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new ux(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(WS,"$1\\"))===e}}ED.PathWin32=rx;class ix extends $E{constructor(t,e=zS,r,i,n,s,o){super(t,e,r,i,n,s,o),L_(this,"splitSep","/"),L_(this,"sep","/")}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=zS,r={}){return new ix(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}}ED.PathPosix=ix;var nx=new WeakMap,sx=new WeakMap,ox=new WeakMap,ax=new WeakMap;class lx{constructor(t=process.cwd(),e,r,{nocase:i,childrenCacheSize:n=16384,fs:s=NS}={}){L_(this,"root",void 0),L_(this,"rootPath",void 0),L_(this,"roots",void 0),L_(this,"cwd",void 0),I_(this,nx,void 0),I_(this,sx,void 0),I_(this,ox,void 0),L_(this,"nocase",void 0),I_(this,ax,void 0),B_(ax,this,$S(s)),(t instanceof URL||t.startsWith("file://"))&&(t=(0,MS.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),B_(nx,this,new nE),B_(sx,this,new nE),B_(ox,this,new sE(n));const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===i)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(P_(ax,this)),this.roots[this.rootPath]=this.root;let l=this.root,u=a.length-1;const h=e.sep;let c=this.rootPath,d=!1;for(const t of a){const e=u--;l=l.child(t,{relative:new Array(e).fill("..").join(h),relativePosix:new Array(e).fill("..").join("/"),fullpath:c+=(d?"":h)+t}),d=!0}this.cwd=l}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return P_(ox,this)}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const i=t[r];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const r=P_(nx,this).get(e);if(void 0!==r)return r;const i=this.cwd.resolve(e).fullpath();return P_(nx,this).set(e,i),i}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const i=t[r];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const r=P_(sx,this).get(e);if(void 0!==r)return r;const i=this.cwd.resolve(e).fullpathPosix();return P_(sx,this).set(e,i),i}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map((t=>t.name))}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map((t=>t.name)):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=[];n&&!n(t)||o.push(r?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB(((t,u)=>{if(t)return e(t);let h=u.length;if(!h)return e();const c=()=>{0==--h&&e()};for(const t of u)n&&!n(t)||o.push(r?t:t.fullpath()),i&&t.isSymbolicLink()?t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(a,s)?l(t,c):c())):t.shouldWalk(a,s)?l(t,c):c()}),!0)},u=t;return new Promise(((t,e)=>{l(u,(r=>{if(r)return e(r);t(o)}))}))}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=[];n&&!n(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){n&&!n(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e;n&&!n(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){n&&!n(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,s)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=new LS.Minipass({objectMode:!0});n&&!n(t)||o.write(r?t:t.fullpath());const a=new Set,l=[t];let u=0;const h=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const c=(e,f,p=!1)=>{if(e)return o.emit("error",e);if(i&&!p){const t=[];for(const e of f)e.isSymbolicLink()&&t.push(e.realpath().then((t=>t?.isUnknown()?t.lstat():t)));if(t.length)return void Promise.all(t).then((()=>c(null,f,!0)))}for(const e of f)!e||n&&!n(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of f){const e=t.realpathCached()||t;e.shouldWalk(a,s)&&l.push(e)}t&&!o.flowing?o.once("drain",h):d||h()};let d=!0;e.readdirCB(c,!0),d=!1}};return h(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof $E||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:n,walkFilter:s}=e,o=new LS.Minipass({objectMode:!0}),a=new Set;n&&!n(t)||o.write(r?t:t.fullpath());const l=[t];let u=0;const h=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===u&&o.end());u++,a.add(e);const h=e.readdirSync();for(const e of h)n&&!n(e)||o.write(r?e:e.fullpath())||(t=!0);u--;for(const t of h){let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,s)&&l.push(e)}}t&&!o.flowing&&o.once("drain",h)};return h(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[oE](e)}}ED.PathScurryBase=lx;class ux extends lx{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,RS.win32,"\\",{...e,nocase:r}),L_(this,"sep","\\"),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return RS.win32.parse(t).root.toUpperCase()}newRoot(t){return new rx(this.rootPath,HS,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}ED.PathScurryWin32=ux;class hx extends lx{constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,RS.posix,"/",{...e,nocase:r}),L_(this,"sep","/"),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new ix(this.rootPath,HS,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}ED.PathScurryPosix=hx;class cx extends hx{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}}ED.PathScurryDarwin=cx,ED.Path="win32"===process.platform?rx:ix,ED.PathScurry="win32"===process.platform?ux:"darwin"===process.platform?cx:hx;var dx={};Object.defineProperty(dx,"__esModule",{value:!0}),dx.Pattern=void 0;const fx=N_;var px=new WeakMap,mx=new WeakMap,gx=new WeakMap,bx=new WeakMap,yx=new WeakMap,wx=new WeakMap,vx=new WeakMap,_x=new WeakMap,Dx=new WeakMap,Sx=new WeakMap;class Ex{constructor(t,e,r,i){if(I_(this,px,void 0),I_(this,mx,void 0),I_(this,gx,void 0),L_(this,"length",void 0),I_(this,bx,void 0),I_(this,yx,void 0),I_(this,wx,void 0),I_(this,vx,void 0),I_(this,_x,void 0),I_(this,Dx,void 0),I_(this,Sx,!0),!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(B_(px,this,t),B_(mx,this,e),B_(gx,this,r),B_(bx,this,i),0===P_(gx,this))if(this.isUNC()){const[t,e,r,i,...n]=P_(px,this),[s,o,a,l,...u]=P_(mx,this);""===n[0]&&(n.shift(),u.shift());const h=[t,e,r,i,""].join("/"),c=[s,o,a,l,""].join("/");B_(px,this,[h,...n]),B_(mx,this,[c,...u]),this.length=P_(px,this).length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=P_(px,this),[r,...i]=P_(mx,this);""===e[0]&&(e.shift(),i.shift());const n=r+"/";B_(px,this,[t+"/",...e]),B_(mx,this,[n,...i]),this.length=P_(px,this).length}}pattern(){return P_(px,this)[P_(gx,this)]}isString(){return"string"==typeof P_(px,this)[P_(gx,this)]}isGlobstar(){return P_(px,this)[P_(gx,this)]===fx.GLOBSTAR}isRegExp(){return P_(px,this)[P_(gx,this)]instanceof RegExp}globString(){return B_(wx,this,P_(wx,this)||(0===P_(gx,this)?this.isAbsolute()?P_(mx,this)[0]+P_(mx,this).slice(1).join("/"):P_(mx,this).join("/"):P_(mx,this).slice(P_(gx,this)).join("/")))}hasMore(){return this.length>P_(gx,this)+1}rest(){return void 0!==P_(yx,this)?P_(yx,this):this.hasMore()?(B_(yx,this,new Ex(P_(px,this),P_(mx,this),P_(gx,this)+1,P_(bx,this))),B_(Dx,P_(yx,this),P_(Dx,this)),B_(_x,P_(yx,this),P_(_x,this)),B_(vx,P_(yx,this),P_(vx,this)),P_(yx,this)):B_(yx,this,null)}isUNC(){const t=P_(px,this);return void 0!==P_(_x,this)?P_(_x,this):B_(_x,this,"win32"===P_(bx,this)&&0===P_(gx,this)&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3])}isDrive(){const t=P_(px,this);return void 0!==P_(vx,this)?P_(vx,this):B_(vx,this,"win32"===P_(bx,this)&&0===P_(gx,this)&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]))}isAbsolute(){const t=P_(px,this);return void 0!==P_(Dx,this)?P_(Dx,this):B_(Dx,this,""===t[0]&&t.length>1||this.isDrive()||this.isUNC())}root(){const t=P_(px,this)[0];return"string"==typeof t&&this.isAbsolute()&&0===P_(gx,this)?t:""}checkFollowGlobstar(){return!(0===P_(gx,this)||!this.isGlobstar()||!P_(Sx,this))}markFollowGlobstar(){return!(0===P_(gx,this)||!this.isGlobstar()||!P_(Sx,this))&&(B_(Sx,this,!1),!0)}}dx.Pattern=Ex;var xx={},Cx={};Object.defineProperty(Cx,"__esModule",{value:!0}),Cx.Ignore=void 0;const kx=N_,Ox=dx,Tx="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";Cx.Ignore=class{constructor(t,{nobrace:e,nocase:r,noext:i,noglobstar:n,platform:s=Tx}){L_(this,"relative",void 0),L_(this,"relativeChildren",void 0),L_(this,"absolute",void 0),L_(this,"absoluteChildren",void 0),L_(this,"platform",void 0),L_(this,"mmopts",void 0),this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=s,this.mmopts={dot:!0,nobrace:e,nocase:r,noext:i,noglobstar:n,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new kx.Minimatch(t,this.mmopts);for(let t=0;t<e.set.length;t++){const r=e.set[t],i=e.globParts[t];if(!r||!i)throw new Error("invalid pattern object");for(;"."===r[0]&&"."===i[0];)r.shift(),i.shift();const n=new Ox.Pattern(r,i,0,this.platform),s=new kx.Minimatch(n.globString(),this.mmopts),o="**"===i[i.length-1],a=n.isAbsolute();a?this.absolute.push(s):this.relative.push(s),o&&(a?this.absoluteChildren.push(s):this.relativeChildren.push(s))}}ignored(t){const e=t.fullpath(),r=`${e}/`,i=t.relative()||".",n=`${i}/`;for(const t of this.relative)if(t.match(i)||t.match(n))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}};var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0}),Ax.Processor=Ax.SubWalks=Ax.MatchRecord=Ax.HasWalkedCache=void 0;const Fx=N_;class Rx{constructor(t=new Map){L_(this,"store",void 0),this.store=t}copy(){return new Rx(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),i=this.store.get(r);i?i.add(e.globString()):this.store.set(r,new Set([e.globString()]))}}Ax.HasWalkedCache=Rx;class Mx{constructor(){L_(this,"store",new Map)}add(t,e,r){const i=(e?2:0)|(r?1:0),n=this.store.get(t);this.store.set(t,void 0===n?i:i&n)}entries(){return[...this.store.entries()].map((([t,e])=>[t,!!(2&e),!!(1&e)]))}}Ax.MatchRecord=Mx;class Px{constructor(){L_(this,"store",new Map)}add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find((t=>t.globString()===e.globString()))||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}Ax.SubWalks=Px;class Ix{constructor(t,e){L_(this,"hasWalkedCache",void 0),L_(this,"matches",new Mx),L_(this,"subwalks",new Px),L_(this,"patterns",void 0),L_(this,"follow",void 0),L_(this,"dot",void 0),L_(this,"opts",void 0),this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Rx}processPatterns(t,e){this.patterns=e;const r=e.map((e=>[t,e]));for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),i=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const i=e.rest();if(!i){this.matches.add(t,!0,!1);continue}e=i}if(t.isENOENT())continue;let n,s,o=!1;for(;"string"==typeof(n=e.pattern())&&(s=e.rest());){const r=t.resolve(n);t=r,e=s,o=!0}if(n=e.pattern(),s=e.rest(),o){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"!=typeof n)if(n===Fx.GLOBSTAR){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=s?.pattern(),n=s?.rest();if(s&&(""!==r&&"."!==r||n)){if(".."===r){const e=t.parent||t;n?this.hasWalkedCache.hasWalked(e,n)||this.subwalks.add(e,n):this.matches.add(e,i,!0)}}else this.matches.add(t,i,""===r||"."===r)}else n instanceof RegExp&&this.subwalks.add(t,e);else{const e=".."===n||""===n||"."===n;this.matches.add(t.resolve(n),i,e)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Ix(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),i=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),n=e.pattern(),s=e.rest();n===Fx.GLOBSTAR?i.testGlobstar(t,e,s,r):n instanceof RegExp?i.testRegExp(t,n,s,r):i.testString(t,n,s,r)}return i}testGlobstar(t,e,r,i){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),i);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),i)}}testRegExp(t,e,r,i){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}testString(t,e,r,i){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}}Ax.Processor=Ix,Object.defineProperty(xx,"__esModule",{value:!0}),xx.GlobStream=xx.GlobWalker=xx.GlobUtil=void 0;const Bx=kS,jx=Cx,Lx=Ax;var Nx=new WeakMap,$x=new WeakMap,Wx=new WeakMap,Ux=new WeakSet;class zx{constructor(t,e,r){if(j_(this,Ux),L_(this,"path",void 0),L_(this,"patterns",void 0),L_(this,"opts",void 0),L_(this,"seen",new Set),L_(this,"paused",!1),L_(this,"aborted",!1),I_(this,Nx,[]),I_(this,$x,void 0),I_(this,Wx,void 0),L_(this,"signal",void 0),L_(this,"maxDepth",void 0),L_(this,"includeChildMatches",void 0),this.patterns=t,this.path=e,this.opts=r,B_(Wx,this,r.posix||"win32"!==r.platform?"/":"\\"),this.includeChildMatches=!1!==r.includeChildMatches,(r.ignore||!this.includeChildMatches)&&(B_($x,this,((t,e)=>"string"==typeof t?new jx.Ignore([t],e):Array.isArray(t)?new jx.Ignore(t,e):t)(r.ignore??[],r)),!this.includeChildMatches&&"function"!=typeof P_($x,this).add)){throw new Error("cannot ignore child matches, ignore lacks add() method.")}this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",(()=>{P_(Nx,this).length=0})))}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=P_(Nx,this).shift());)t()}onResume(t){this.signal?.aborted||(this.paused?P_(Nx,this).push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const i=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const t=await i.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(i,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||R_(Ux,this,Hx).call(this,t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const i=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const t=i.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(i,e)}matchFinish(t,e){if(R_(Ux,this,Hx).call(this,t))return;if(!this.includeChildMatches&&P_($x,this)?.add){const e=`${t.relativePosix()}/**`;P_($x,this).add(e)}const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?P_(Wx,this):"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+i)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+P_(Wx,this))?"."+P_(Wx,this):"";this.matchEmit(e?r+e+i:"."+i)}}async match(t,e,r){const i=await this.matchCheck(t,r);i&&this.matchFinish(i,e)}matchSync(t,e,r){const i=this.matchCheckSync(t,r);i&&this.matchFinish(i,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new Lx.Processor(this.opts),r)}walkCB2(t,e,r,i){if(R_(Ux,this,Gx).call(this,t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2(t,e,r,i)));r.processPatterns(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())R_(Ux,this,Hx).call(this,t)||(n++,this.match(t,e,i).then((()=>s())));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,s):t.readdirCB(((e,i)=>this.walkCB3(t,i,r,s)),!0)}s()}walkCB3(t,e,r,i){r=r.filterEntries(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())R_(Ux,this,Hx).call(this,t)||(n++,this.match(t,e,i).then((()=>s())));for(const[t,e]of r.subwalks.entries())n++,this.walkCB2(t,e,r.child(),s);s()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new Lx.Processor(this.opts),r)}walkCB2Sync(t,e,r,i){if(R_(Ux,this,Gx).call(this,t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2Sync(t,e,r,i)));r.processPatterns(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())R_(Ux,this,Hx).call(this,t)||this.matchSync(t,e,i);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;n++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,s)}s()}walkCB3Sync(t,e,r,i){r=r.filterEntries(t,e);let n=1;const s=()=>{0==--n&&i()};for(const[t,e,i]of r.matches.entries())R_(Ux,this,Hx).call(this,t)||this.matchSync(t,e,i);for(const[t,e]of r.subwalks.entries())n++,this.walkCB2Sync(t,e,r.child(),s);s()}}function Hx(t){return this.seen.has(t)||!!P_($x,this)?.ignored?.(t)}function Gx(t){return!!P_($x,this)?.childrenIgnored?.(t)}xx.GlobUtil=zx;xx.GlobWalker=class extends zx{constructor(t,e,r){super(t,e,r),L_(this,"matches",new Set)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((t,e)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}};xx.GlobStream=class extends zx{constructor(t,e,r){super(t,e,r),L_(this,"results",void 0),this.results=new Bx.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))})):this.walkCB(t,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}},Object.defineProperty(SD,"__esModule",{value:!0}),SD.Glob=void 0;const Vx=N_,qx=y,Yx=ED,Zx=dx,Kx=xx,Jx="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class Qx{constructor(t,e){if(L_(this,"absolute",void 0),L_(this,"cwd",void 0),L_(this,"root",void 0),L_(this,"dot",void 0),L_(this,"dotRelative",void 0),L_(this,"follow",void 0),L_(this,"ignore",void 0),L_(this,"magicalBraces",void 0),L_(this,"mark",void 0),L_(this,"matchBase",void 0),L_(this,"maxDepth",void 0),L_(this,"nobrace",void 0),L_(this,"nocase",void 0),L_(this,"nodir",void 0),L_(this,"noext",void 0),L_(this,"noglobstar",void 0),L_(this,"pattern",void 0),L_(this,"platform",void 0),L_(this,"realpath",void 0),L_(this,"scurry",void 0),L_(this,"stat",void 0),L_(this,"signal",void 0),L_(this,"windowsPathsNoEscape",void 0),L_(this,"withFileTypes",void 0),L_(this,"includeChildMatches",void 0),L_(this,"opts",void 0),L_(this,"patterns",void 0),!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,qx.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map((t=>t.replace(/\\/g,"/")))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map((t=>t.includes("/")?t:`./**/${t}`))}if(this.pattern=t,this.platform=e.platform||Jx,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?Yx.PathScurryWin32:"darwin"===e.platform?Yx.PathScurryDarwin:e.platform?Yx.PathScurryPosix:Yx.PathScurry;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,i={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map((t=>new Vx.Minimatch(t,i))),[s,o]=n.reduce(((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t)),[[],[]]);this.patterns=s.map(((t,e)=>{const r=o[e];if(!r)throw new Error("invalid pattern object");return new Zx.Pattern(t,r,0,this.platform)}))}async walk(){return[...await new Kx.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Kx.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new Kx.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new Kx.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}SD.Glob=Qx;var Xx={};Object.defineProperty(Xx,"__esModule",{value:!0}),Xx.hasMagic=void 0;const tC=N_;Xx.hasMagic=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new tC.Minimatch(r,e).hasMagic())return!0;return!1},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.Ignore=t.hasMagic=t.Glob=t.unescape=t.escape=void 0,t.globStreamSync=l,t.globStream=u,t.globSync=h,t.globIterateSync=d,t.globIterate=f;const e=N_,r=SD,i=Xx;var n=N_;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return n.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return n.unescape}});var s=SD;Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return s.Glob}});var o=Xx;Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return o.hasMagic}});var a=Cx;function l(t,e={}){return new r.Glob(t,e).streamSync()}function u(t,e={}){return new r.Glob(t,e).stream()}function h(t,e={}){return new r.Glob(t,e).walkSync()}async function c(t,e={}){return new r.Glob(t,e).walk()}function d(t,e={}){return new r.Glob(t,e).iterateSync()}function f(t,e={}){return new r.Glob(t,e).iterate()}Object.defineProperty(t,"Ignore",{enumerable:!0,get:function(){return a.Ignore}}),t.streamSync=l,t.stream=Object.assign(u,{sync:l}),t.iterateSync=d,t.iterate=Object.assign(f,{sync:d}),t.sync=Object.assign(h,{stream:l,iterate:d}),t.glob=Object.assign(c,{glob:c,globSync:h,sync:t.sync,globStream:u,stream:t.stream,globStreamSync:l,streamSync:t.streamSync,globIterate:f,iterate:t.iterate,globIterateSync:d,iterateSync:t.iterateSync,Glob:r.Glob,hasMagic:i.hasMagic,escape:e.escape,unescape:e.unescape}),t.glob.glob=t.glob}(F_);var eC=ol,rC=a,iC=Aw,nC=n_,sC=w_,oC=A_,aC=F_,lC=_w.exports={},uC=/[\/\\]/g;lC.exists=function(){var t=rC.join.apply(rC,arguments);return eC.existsSync(t)},lC.expand=function(...t){var e=oC(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(0===r.length)return[];var i=function(t,e){var r=[];return iC(t).forEach((function(t){var i=0===t.indexOf("!");i&&(t=t.slice(1));var n=e(t);r=i?nC(r,n):sC(r,n)})),r}(r,(function(t){return aC.sync(t,e)}));return e.filter&&(i=i.filter((function(t){t=rC.join(e.cwd||"",t);try{return"function"==typeof e.filter?e.filter(t):eC.statSync(t)[e.filter]()}catch(t){return!1}}))),i},lC.expandMapping=function(t,e,r){r=Object.assign({rename:function(t,e){return rC.join(t||"",e)}},r);var i=[],n={};return lC.expand(r,t).forEach((function(t){var s=t;r.flatten&&(s=rC.basename(s)),r.ext&&(s=s.replace(/(\.[^\/]*)?$/,r.ext));var o=r.rename(e,s,r);r.cwd&&(t=rC.join(r.cwd,t)),o=o.replace(uC,"/"),t=t.replace(uC,"/"),n[o]?n[o].src.push(t):(i.push({src:[t],dest:o}),n[o]=i[i.length-1])})),i},lC.normalizeFilesArray=function(t){var e=[];return t.forEach((function(t){("src"in t||"dest"in t)&&e.push(t)})),0===e.length?[]:(e=_(e).chain().forEach((function(t){"src"in t&&t.src&&(Array.isArray(t.src)?t.src=iC(t.src):t.src=[t.src])})).map((function(t){var e=Object.assign({},t);if(delete e.src,delete e.dest,t.expand)return lC.expandMapping(t.src,t.dest,e).map((function(e){var r=Object.assign({},t);return r.orig=Object.assign({},t),r.src=e.src,r.dest=e.dest,["expand","cwd","flatten","rename","ext"].forEach((function(t){delete r[t]})),r}));var r=Object.assign({},t);return r.orig=Object.assign({},t),"src"in r&&Object.defineProperty(r,"src",{enumerable:!0,get:function r(){var i;return"result"in r||(i=t.src,i=Array.isArray(i)?iC(i):[i],r.result=lC.expand(e,i)),r.result}}),"dest"in r&&(r.dest=t.dest),r})).flatten().value(),e)};var hC=_w.exports,cC=ol,dC=a,fC=Ip,pC=ym,mC=Dm,gC=Pb;d.Stream;var bC=vw.PassThrough,yC=Op.exports={};yC.file=hC,yC.collectStream=function(t,e){var r=[],i=0;t.on("error",e),t.on("data",(function(t){r.push(t),i+=t.length})),t.on("end",(function(){var t=Buffer.alloc(i),n=0;r.forEach((function(e){e.copy(t,n),n+=e.length})),e(null,t)}))},yC.dateify=function(t){return(t=t||new Date)instanceof Date||(t="string"==typeof t?new Date(t):new Date),t},yC.defaults=function(t,e,r){var i=arguments;return i[0]=i[0]||{},gC(...i)},yC.isStream=function(t){return fC(t)},yC.lazyReadStream=function(t){return new pC.Readable((function(){return cC.createReadStream(t)}))},yC.normalizeInputSource=function(t){return null===t?Buffer.alloc(0):"string"==typeof t?Buffer.from(t):yC.isStream(t)?t.pipe(new bC):t},yC.sanitizePath=function(t){return mC(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},yC.trailingSlashIt=function(t){return"/"!==t.slice(-1)?t+"/":t},yC.unixifyPath=function(t){return mC(t,!1).replace(/^\w+:/,"")},yC.walkdir=function(t,e,r){var i=[];"function"==typeof e&&(r=e,e=t),cC.readdir(t,(function(n,s){var o,a,l=0;if(n)return r(n);!function n(){if(!(o=s[l++]))return r(null,i);a=dC.join(t,o),cC.stat(a,(function(t,s){i.push({path:a,relative:dC.relative(e,a).replace(/\\/g,"/"),stats:s}),s&&s.isDirectory()?yC.walkdir(a,e,(function(t,e){if(t)return r(t);e.forEach((function(t){i.push(t)})),n()})):n()}))}()}))};var wC=Op.exports,vC={exports:{}};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
!function(t){const e={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function r(t,r){Error.captureStackTrace(this,this.constructor),this.message=e[t]||t,this.code=t,this.data=r}p.inherits(r,Error),t.exports=r}(vC);var _C=vC.exports,DC=l,SC=id,EC=kp,xC=a,CC=wC,kC=p.inherits,OC=_C,TC=vw.Transform,AC="win32"===process.platform,FC=function(t,e){if(!(this instanceof FC))return new FC(t,e);"string"!=typeof t&&(e=t,t="zip"),e=this.options=CC.defaults(e,{highWaterMark:1048576,statConcurrency:4}),TC.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=EC.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=EC.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */kC(FC,TC),FC.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()},FC.prototype._append=function(t,e){var r={source:null,filepath:t};(e=e||{}).name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof DC.Stats?(r=this._updateQueueTaskWithStats(r,e.stats))&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r)):this._statQueue.push(r)},FC.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)},FC.prototype._maybeFinalize=function(){return!(this._state.finalizing||this._state.finalized||this._state.aborted)&&(!!(this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle())&&(this._finalize(),!0))},FC.prototype._moduleAppend=function(t,e,r){this._state.aborted?r():this._module.append(t,e,function(t){if(this._task=null,this._state.aborted)this._shutdown();else{if(t)return this.emit("error",t),void setImmediate(r);this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}}.bind(this))},FC.prototype._moduleFinalize=function(){"function"==typeof this._module.finalize?this._module.finalize():"function"==typeof this._module.end?this._module.end():this.emit("error",new OC("NOENDMETHOD"))},FC.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0},FC.prototype._moduleSupports=function(t){return!(!this._module.supports||!this._module.supports[t])&&this._module.supports[t]},FC.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1},FC.prototype._normalizeEntryData=function(t,e){t=CC.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&!1===t.stats&&(t.stats=e);var r="directory"===t.type;return t.name&&("string"==typeof t.prefix&&""!==t.prefix&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=CC.sanitizePath(t.name),"symlink"!==t.type&&"/"===t.name.slice(-1)?(r=!0,t.type="directory"):r&&(t.name+="/")),"number"==typeof t.mode?t.mode&=AC?511:4095:t.stats&&null===t.mode?(t.mode=AC?511&t.stats.mode:4095&t.stats.mode,AC&&r&&(t.mode=493)):null===t.mode&&(t.mode=r?493:420),t.stats&&null===t.date?t.date=t.stats.mtime:t.date=CC.dateify(t.date),t},FC.prototype._onModuleError=function(t){this.emit("error",t)},FC.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()},FC.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};this._state.finalizing||this._state.finalized||this._state.aborted?r():(this._task=t,this._moduleAppend(t.source,t.data,r))},FC.prototype._onStatQueueTask=function(t,e){this._state.finalizing||this._state.finalized||this._state.aborted?e():DC.lstat(t.filepath,function(r,i){if(this._state.aborted)setImmediate(e);else{if(r)return this._entriesCount--,this.emit("warning",r),void setImmediate(e);(t=this._updateQueueTaskWithStats(t,i))&&(i.size&&(this._fsEntriesTotalBytes+=i.size),this._queue.push(t)),setImmediate(e)}}.bind(this))},FC.prototype._shutdown=function(){this._moduleUnpipe(),this.end()},FC.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)},FC.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=CC.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=CC.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=CC.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else{if(!e.isSymbolicLink()||!this._moduleSupports("symlink"))return e.isDirectory()?this.emit("warning",new OC("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new OC("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new OC("ENTRYNOTSUPPORTED",t.data)),null;var r=DC.readlinkSync(t.filepath),i=xC.dirname(t.filepath);t.data.type="symlink",t.data.linkname=xC.relative(i,xC.resolve(i,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}return t.data=this._normalizeEntryData(t.data,e),t},FC.prototype.abort=function(){return this._state.aborted||this._state.finalized||this._abort(),this},FC.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new OC("QUEUECLOSED")),this;if("string"!=typeof(e=this._normalizeEntryData(e)).name||0===e.name.length)return this.emit("error",new OC("ENTRYNAMEREQUIRED")),this;if("directory"===e.type&&!this._moduleSupports("directory"))return this.emit("error",new OC("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=CC.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else{if(!CC.isStream(t))return this.emit("error",new OC("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;e.sourceType="stream"}return this._entriesCount++,this._queue.push({data:e,source:t}),this},FC.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new OC("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new OC("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,!1===e?e="":"string"!=typeof e&&(e=t);var i=!1;"function"==typeof r?(i=r,r={}):"object"!=typeof r&&(r={});var n=SC(t,{stat:!0,dot:!0});return n.on("error",function(t){this.emit("error",t)}.bind(this)),n.on("match",function(s){n.pause();var o=!1,a=Object.assign({},r);a.name=s.relative,a.prefix=e,a.stats=s.stat,a.callback=n.resume.bind(n);try{if(i)if(!1===(a=i(a)))o=!0;else if("object"!=typeof a)throw new OC("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}catch(t){return void this.emit("error",t)}o?n.resume():this._append(s.absolute,a)}.bind(this)),n.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},FC.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new OC("QUEUECLOSED")),this):"string"!=typeof t||0===t.length?(this.emit("error",new OC("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)},FC.prototype.glob=function(t,e,r){this._pending++,e=CC.defaults(e,{stat:!0,pattern:t});var i=SC(e.cwd||".",e);return i.on("error",function(t){this.emit("error",t)}.bind(this)),i.on("match",function(t){i.pause();var e=Object.assign({},r);e.callback=i.resume.bind(i),e.stats=t.stat,e.name=t.relative,this._append(t.absolute,e)}.bind(this)),i.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},FC.prototype.finalize=function(){if(this._state.aborted){var t=new OC("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new OC("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise((function(t,e){var i;r._module.on("end",(function(){i||t()})),r._module.on("error",(function(t){i=!0,e(t)}))}))},FC.prototype.setFormat=function(t){return this._format?(this.emit("error",new OC("FORMATSET")),this):(this._format=t,this)},FC.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new OC("ABORTED")),this):this._state.module?(this.emit("error",new OC("MODULESET")),this):(this._module=t,this._modulePipe(),this)},FC.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new OC("QUEUECLOSED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new OC("SYMLINKFILEPATHREQUIRED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new OC("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new OC("SYMLINKNOTSUPPORTED",{filepath:t})),this;var i={type:"symlink"};return i.name=t.replace(/\\/g,"/"),i.linkname=e.replace(/\\/g,"/"),i.sourceType="buffer","number"==typeof r&&(i.mode=r),this._entriesCount++,this._queue.push({data:i,source:Buffer.concat([])}),this},FC.prototype.pointer=function(){return this._pointer},FC.prototype.use=function(t){return this._streams.push(t),this};var RC=FC,MC={exports:{}},PC={exports:{}},IC=PC.exports=function(){};IC.prototype.getName=function(){},IC.prototype.getSize=function(){},IC.prototype.getLastModifiedDate=function(){},IC.prototype.isDirectory=function(){};var BC=PC.exports,jC={exports:{}},LC={exports:{}},NC={exports:{}},$C=NC.exports={};$C.dateToDos=function(t,e){var r=(e=e||!1)?t.getFullYear():t.getUTCFullYear();return r<1980?2162688:r>=2044?2141175677:r-1980<<25|(e?t.getMonth():t.getUTCMonth())+1<<21|(e?t.getDate():t.getUTCDate())<<16|(e?t.getHours():t.getUTCHours())<<11|(e?t.getMinutes():t.getUTCMinutes())<<5|(e?t.getSeconds():t.getUTCSeconds())/2},$C.dosToDate=function(t){return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)},$C.fromDosTime=function(t){return $C.dosToDate(t.readUInt32LE(0))},$C.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e},$C.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((65535&t)>>>0,0),e},$C.getShortBytesValue=function(t,e){return t.readUInt16LE(e)},$C.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((4294967295&t)>>>0,0),e},$C.getLongBytesValue=function(t,e){return t.readUInt32LE(e)},$C.toDosTime=function(t){return $C.getLongBytes($C.dateToDos(t))};var WC=NC.exports,UC=WC,zC=LC.exports=function(){return this instanceof zC?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new zC};zC.prototype.encode=function(){return UC.getShortBytes((this.descriptor?8:0)|(this.utf8?2048:0)|(this.encryption?1:0)|(this.strongEncryption?64:0))},zC.prototype.parse=function(t,e){var r=UC.getShortBytesValue(t,e),i=new zC;return i.useDataDescriptor(!!(8&r)),i.useUTF8ForNames(!!(2048&r)),i.useStrongEncryption(!!(64&r)),i.useEncryption(!!(1&r)),i.setSlidingDictionarySize(2&r?8192:4096),i.setNumberOfShannonFanoTrees(4&r?3:2),i},zC.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t},zC.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees},zC.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t},zC.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize},zC.prototype.useDataDescriptor=function(t){this.descriptor=t},zC.prototype.usesDataDescriptor=function(){return this.descriptor},zC.prototype.useEncryption=function(t){this.encryption=t},zC.prototype.usesEncryption=function(){return this.encryption},zC.prototype.useStrongEncryption=function(t){this.strongEncryption=t},zC.prototype.usesStrongEncryption=function(){return this.strongEncryption},zC.prototype.useUTF8ForNames=function(t){this.utf8=t},zC.prototype.usesUTF8ForNames=function(){return this.utf8};var HC=LC.exports,GC={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1},VC=p.inherits,qC=Dm,YC=BC,ZC=HC,KC={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420},JC=GC,QC=WC,XC=jC.exports=function(t){if(!(this instanceof XC))return new XC(t);YC.call(this),this.platform=JC.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new ZC,this.crc=0,this.time=-1,this.minver=JC.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};VC(XC,YC),XC.prototype.getCentralDirectoryExtra=function(){return this.getExtra()},XC.prototype.getComment=function(){return null!==this.comment?this.comment:""},XC.prototype.getCompressedSize=function(){return this.csize},XC.prototype.getCrc=function(){return this.crc},XC.prototype.getExternalAttributes=function(){return this.exattr},XC.prototype.getExtra=function(){return null!==this.extra?this.extra:JC.EMPTY},XC.prototype.getGeneralPurposeBit=function(){return this.gpb},XC.prototype.getInternalAttributes=function(){return this.inattr},XC.prototype.getLastModifiedDate=function(){return this.getTime()},XC.prototype.getLocalFileDataExtra=function(){return this.getExtra()},XC.prototype.getMethod=function(){return this.method},XC.prototype.getName=function(){return this.name},XC.prototype.getPlatform=function(){return this.platform},XC.prototype.getSize=function(){return this.size},XC.prototype.getTime=function(){return-1!==this.time?QC.dosToDate(this.time):-1},XC.prototype.getTimeDos=function(){return-1!==this.time?this.time:0},XC.prototype.getUnixMode=function(){return this.platform!==JC.PLATFORM_UNIX?0:this.getExternalAttributes()>>JC.SHORT_SHIFT&JC.SHORT_MASK},XC.prototype.getVersionNeededToExtract=function(){return this.minver},XC.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t},XC.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t},XC.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t},XC.prototype.setExternalAttributes=function(t){this.exattr=t>>>0},XC.prototype.setExtra=function(t){this.extra=t},XC.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof ZC))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t},XC.prototype.setInternalAttributes=function(t){this.inattr=t},XC.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t},XC.prototype.setName=function(t,e=!1){t=qC(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t},XC.prototype.setPlatform=function(t){this.platform=t},XC.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t},XC.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=QC.dateToDos(t,e)},XC.prototype.setUnixMode=function(t){var e=0;e|=(t|=this.isDirectory()?JC.S_IFDIR:JC.S_IFREG)<<JC.SHORT_SHIFT|(this.isDirectory()?JC.S_DOS_D:JC.S_DOS_A),this.setExternalAttributes(e),this.mode=t&JC.MODE_MASK,this.platform=JC.PLATFORM_UNIX},XC.prototype.setVersionNeededToExtract=function(t){this.minver=t},XC.prototype.isDirectory=function(){return"/"===this.getName().slice(-1)},XC.prototype.isUnixSymlink=function(){return(this.getUnixMode()&KC.FILE_TYPE_FLAG)===KC.LINK_FLAG},XC.prototype.isZip64=function(){return this.csize>JC.ZIP64_MAGIC||this.size>JC.ZIP64_MAGIC};var tk=jC.exports,ek={exports:{}},rk={exports:{}};d.Stream;var ik=vw.PassThrough,nk=Ip;(rk.exports={}).normalizeInputSource=function(t){if(null===t)return Buffer.alloc(0);if("string"==typeof t)return Buffer.from(t);if(nk(t)&&!t._readableState){var e=new ik;return t.pipe(e),e}return t};var sk=rk.exports,ok=p.inherits,ak=Ip,lk=vw.Transform,uk=BC,hk=sk,ck=ek.exports=function(t){if(!(this instanceof ck))return new ck(t);lk.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};ok(ck,lk),ck.prototype._appendBuffer=function(t,e,r){},ck.prototype._appendStream=function(t,e,r){},ck.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)},ck.prototype._finish=function(t){},ck.prototype._normalizeEntry=function(t){},ck.prototype._transform=function(t,e,r){r(null,t)},ck.prototype.entry=function(t,e,r){if(e=e||null,"function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),t instanceof uk)if(this._archive.finish||this._archive.finished)r(new Error("unacceptable entry after finish"));else{if(!this._archive.processing){if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=hk.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else{if(!ak(e))return this._archive.processing=!1,void r(new Error("input source must be valid Stream or Buffer instance"));this._appendStream(t,e,r)}return this}r(new Error("already processing an entry"))}else r(new Error("not a valid instance of ArchiveEntry"))},ck.prototype.finish=function(){this._archive.processing?this._archive.finish=!0:this._finish()},ck.prototype.getBytesWritten=function(){return this.offset},ck.prototype.write=function(t,e){return t&&(this.offset+=t.length),lk.prototype.write.call(this,t,e)};var dk,fk=ek.exports,pk={exports:{}},mk={};dk=function(t){t.version="1.2.2";var e=function(){for(var t=0,e=new Array(256),r=0;256!=r;++r)t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=r)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[r]=t;return"undefined"!=typeof Int32Array?new Int32Array(e):e}(),r=function(t){var e=0,r=0,i=0,n="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(i=0;256!=i;++i)n[i]=t[i];for(i=0;256!=i;++i)for(r=t[i],e=256+i;e<4096;e+=256)r=n[e]=r>>>8^t[255&r];var s=[];for(i=1;16!=i;++i)s[i-1]="undefined"!=typeof Int32Array?n.subarray(256*i,256*i+256):n.slice(256*i,256*i+256);return s}(e),i=r[0],n=r[1],s=r[2],o=r[3],a=r[4],l=r[5],u=r[6],h=r[7],c=r[8],d=r[9],f=r[10],p=r[11],m=r[12],g=r[13],b=r[14];t.table=e,t.bstr=function(t,r){for(var i=~r,n=0,s=t.length;n<s;)i=i>>>8^e[255&(i^t.charCodeAt(n++))];return~i},t.buf=function(t,r){for(var y=~r,w=t.length-15,v=0;v<w;)y=b[t[v++]^255&y]^g[t[v++]^y>>8&255]^m[t[v++]^y>>16&255]^p[t[v++]^y>>>24]^f[t[v++]]^d[t[v++]]^c[t[v++]]^h[t[v++]]^u[t[v++]]^l[t[v++]]^a[t[v++]]^o[t[v++]]^s[t[v++]]^n[t[v++]]^i[t[v++]]^e[t[v++]];for(w+=15;v<w;)y=y>>>8^e[255&(y^t[v++])];return~y},t.str=function(t,r){for(var i=~r,n=0,s=t.length,o=0,a=0;n<s;)(o=t.charCodeAt(n++))<128?i=i>>>8^e[255&(i^o)]:o<2048?i=(i=i>>>8^e[255&(i^(192|o>>6&31))])>>>8^e[255&(i^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&t.charCodeAt(n++),i=(i=(i=(i=i>>>8^e[255&(i^(240|o>>8&7))])>>>8^e[255&(i^(128|o>>2&63))])>>>8^e[255&(i^(128|a>>6&15|(3&o)<<4))])>>>8^e[255&(i^(128|63&a))]):i=(i=(i=i>>>8^e[255&(i^(224|o>>12&15))])>>>8^e[255&(i^(128|o>>6&63))])>>>8^e[255&(i^(128|63&o))];return~i}},"undefined"==typeof DO_NOT_EXPORT_CRC?dk(mk):dk({});const{Transform:gk}=vw,bk=mk;var yk=class extends gk{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(t,e,r){t&&(this.checksum=bk.buf(t,this.checksum)>>>0,this.rawSize+=t.length),r(null,t)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};const{DeflateRaw:wk}=S,vk=mk;var _k=class extends wk{constructor(t){super(t),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(t,e){return t&&(this.compressedSize+=t.length),super.push(t,e)}_transform(t,e,r){t&&(this.checksum=vk.buf(t,this.checksum)>>>0,this.rawSize+=t.length),super._transform(t,e,r)}digest(t){const e=Buffer.allocUnsafe(4);return e.writeUInt32BE(this.checksum>>>0,0),t?e.toString(t):e}hex(){return this.digest("hex").toUpperCase()}size(t=!1){return t?this.compressedSize:this.rawSize}},Dk={CRC32Stream:yk,DeflateCRC32Stream:_k},Sk=p.inherits,Ek=mk,{CRC32Stream:xk}=Dk,{DeflateCRC32Stream:Ck}=Dk,kk=fk,Ok=GC,Tk=WC,Ak=pk.exports=function(t){if(!(this instanceof Ak))return new Ak(t);t=this.options=this._defaults(t),kk.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};Sk(Ak,kk),Ak.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()},Ak.prototype._appendBuffer=function(t,e,r){0===e.length&&t.setMethod(Ok.METHOD_STORED);var i=t.getMethod();return i===Ok.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(Ek.buf(e)>>>0)),this._writeLocalFileHeader(t),i===Ok.METHOD_STORED?(this.write(e),this._afterAppend(t),void r(null,t)):i===Ok.METHOD_DEFLATED?void this._smartStream(t,r).end(e):void r(new Error("compression method "+i+" not implemented"))},Ak.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Ok.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var i=this._smartStream(t,r);e.once("error",(function(t){i.emit("error",t),i.end()})),e.pipe(i)},Ak.prototype._defaults=function(t){return"object"!=typeof t&&(t={}),"object"!=typeof t.zlib&&(t.zlib={}),"number"!=typeof t.zlib.level&&(t.zlib.level=Ok.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t},Ak.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(t){this._writeCentralFileHeader(t)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()},Ak.prototype._normalizeEntry=function(t){-1===t.getMethod()&&t.setMethod(Ok.METHOD_DEFLATED),t.getMethod()===Ok.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Ok.MIN_VERSION_DATA_DESCRIPTOR)),-1===t.getTime()&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}},Ak.prototype._smartStream=function(t,e){var r=t.getMethod()===Ok.METHOD_DEFLATED?new Ck(this.options.zlib):new xk,i=null;return r.once("end",function(){var n=r.digest().readUInt32BE(0);t.setCrc(n),t.setSize(r.size()),t.setCompressedSize(r.size(!0)),this._afterAppend(t),e(i,t)}.bind(this)),r.once("error",(function(t){i=t})),r.pipe(this,{end:!1}),r},Ak.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=Ok.ZIP64_MAGIC_SHORT,e=Ok.ZIP64_MAGIC,r=Ok.ZIP64_MAGIC),this.write(Tk.getLongBytes(Ok.SIG_EOCD)),this.write(Ok.SHORT_ZERO),this.write(Ok.SHORT_ZERO),this.write(Tk.getShortBytes(t)),this.write(Tk.getShortBytes(t)),this.write(Tk.getLongBytes(e)),this.write(Tk.getLongBytes(r));var i=this.getComment(),n=Buffer.byteLength(i);this.write(Tk.getShortBytes(n)),this.write(i)},Ak.prototype._writeCentralDirectoryZip64=function(){this.write(Tk.getLongBytes(Ok.SIG_ZIP64_EOCD)),this.write(Tk.getEightBytes(44)),this.write(Tk.getShortBytes(Ok.MIN_VERSION_ZIP64)),this.write(Tk.getShortBytes(Ok.MIN_VERSION_ZIP64)),this.write(Ok.LONG_ZERO),this.write(Ok.LONG_ZERO),this.write(Tk.getEightBytes(this._entries.length)),this.write(Tk.getEightBytes(this._entries.length)),this.write(Tk.getEightBytes(this._archive.centralLength)),this.write(Tk.getEightBytes(this._archive.centralOffset)),this.write(Tk.getLongBytes(Ok.SIG_ZIP64_EOCD_LOC)),this.write(Ok.LONG_ZERO),this.write(Tk.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(Tk.getLongBytes(1))},Ak.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),i=t._offsets.file,n=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||i>Ok.ZIP64_MAGIC){n=Ok.ZIP64_MAGIC,s=Ok.ZIP64_MAGIC,i=Ok.ZIP64_MAGIC,t.setVersionNeededToExtract(Ok.MIN_VERSION_ZIP64);var o=Buffer.concat([Tk.getShortBytes(Ok.ZIP64_EXTRA_ID),Tk.getShortBytes(24),Tk.getEightBytes(t.getSize()),Tk.getEightBytes(t.getCompressedSize()),Tk.getEightBytes(t._offsets.file)],28);t.setExtra(o)}this.write(Tk.getLongBytes(Ok.SIG_CFH)),this.write(Tk.getShortBytes(t.getPlatform()<<8|Ok.VERSION_MADEBY)),this.write(Tk.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(Tk.getShortBytes(r)),this.write(Tk.getLongBytes(t.getTimeDos())),this.write(Tk.getLongBytes(t.getCrc())),this.write(Tk.getLongBytes(s)),this.write(Tk.getLongBytes(n));var a=t.getName(),l=t.getComment(),u=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(Tk.getShortBytes(a.length)),this.write(Tk.getShortBytes(u.length)),this.write(Tk.getShortBytes(l.length)),this.write(Ok.SHORT_ZERO),this.write(Tk.getShortBytes(t.getInternalAttributes())),this.write(Tk.getLongBytes(t.getExternalAttributes())),this.write(Tk.getLongBytes(i)),this.write(a),this.write(u),this.write(l)},Ak.prototype._writeDataDescriptor=function(t){this.write(Tk.getLongBytes(Ok.SIG_DD)),this.write(Tk.getLongBytes(t.getCrc())),t.isZip64()?(this.write(Tk.getEightBytes(t.getCompressedSize())),this.write(Tk.getEightBytes(t.getSize()))):(this.write(Tk.getLongBytes(t.getCompressedSize())),this.write(Tk.getLongBytes(t.getSize())))},Ak.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),i=t.getName(),n=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(Ok.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(i=Buffer.from(i)),t._offsets.file=this.offset,this.write(Tk.getLongBytes(Ok.SIG_LFH)),this.write(Tk.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(Tk.getShortBytes(r)),this.write(Tk.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(Ok.LONG_ZERO),this.write(Ok.LONG_ZERO),this.write(Ok.LONG_ZERO)):(this.write(Tk.getLongBytes(t.getCrc())),this.write(Tk.getLongBytes(t.getCompressedSize())),this.write(Tk.getLongBytes(t.getSize()))),this.write(Tk.getShortBytes(i.length)),this.write(Tk.getShortBytes(n.length)),this.write(i),this.write(n),t._offsets.contents=this.offset},Ak.prototype.getComment=function(t){return null!==this._archive.comment?this._archive.comment:""},Ak.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>Ok.ZIP64_MAGIC_SHORT||this._archive.centralLength>Ok.ZIP64_MAGIC||this._archive.centralOffset>Ok.ZIP64_MAGIC},Ak.prototype.setComment=function(t){this._archive.comment=t};var Fk={ArchiveEntry:BC,ZipArchiveEntry:tk,ArchiveOutputStream:fk,ZipArchiveOutputStream:pk.exports},Rk=p.inherits,Mk=Fk.ZipArchiveOutputStream,Pk=Fk.ZipArchiveEntry,Ik=wC,Bk=MC.exports=function(t){if(!(this instanceof Bk))return new Bk(t);(t=this.options=t||{}).zlib=t.zlib||{},Mk.call(this,t),"number"==typeof t.level&&t.level>=0&&(t.zlib.level=t.level,delete t.level),t.forceZip64||"number"!=typeof t.zlib.level||0!==t.zlib.level||(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};Rk(Bk,Mk),Bk.prototype._normalizeFileData=function(t){var e="directory"===(t=Ik.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""})).type,r="symlink"===t.type;return t.name&&(t.name=Ik.sanitizePath(t.name),r||"/"!==t.name.slice(-1)?e&&(t.name+="/"):(e=!0,t.type="directory")),(e||r)&&(t.store=!0),t.date=Ik.dateify(t.date),t},Bk.prototype.entry=function(t,e,r){if("function"!=typeof r&&(r=this._emitErrorCallback.bind(this)),"file"===(e=this._normalizeFileData(e)).type||"directory"===e.type||"symlink"===e.type)if("string"==typeof e.name&&0!==e.name.length){if("symlink"!==e.type||"string"==typeof e.linkname){var i=new Pk(e.name);return i.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&i.setName(e.name,!0),e.store&&i.setMethod(0),e.comment.length>0&&i.setComment(e.comment),"symlink"===e.type&&"number"!=typeof e.mode&&(e.mode=40960),"number"==typeof e.mode&&("symlink"===e.type&&(e.mode|=40960),i.setUnixMode(e.mode)),"symlink"===e.type&&"string"==typeof e.linkname&&(t=Buffer.from(e.linkname)),Mk.prototype.entry.call(this,i,t,r)}r(new Error("entry linkname must be a non-empty string value when type equals symlink"))}else r(new Error("entry name must be a non-empty string value"));else r(new Error(e.type+" entries not currently supported"))},Bk.prototype.finalize=function(){this.finish()};var jk=MC.exports,Lk=wC,Nk=function(t){if(!(this instanceof Nk))return new Nk(t);t=this.options=Lk.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new jk(t)};
/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */Nk.prototype.append=function(t,e,r){this.engine.entry(t,e,r)},Nk.prototype.finalize=function(){this.engine.finalize()},Nk.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},Nk.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)},Nk.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};var $k,Wk,Uk=Nk,zk={};var Hk="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick.bind(process):Wk?$k:(Wk=1,$k="function"==typeof queueMicrotask?queueMicrotask:t=>Promise.resolve().then(t));const Gk=class{constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}};var Vk=class{constructor(t){this.hwm=t||16,this.head=new Gk(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(t){if(this.length++,!this.head.push(t)){const e=this.head;this.head=e.next=new Gk(2*this.head.buffer.length),this.head.push(t)}}shift(){0!==this.length&&this.length--;const t=this.tail.shift();if(void 0===t&&this.tail.next){const t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return t}peek(){const t=this.tail.peek();return void 0===t&&this.tail.next?this.tail.next.peek():t}isEmpty(){return 0===this.length}};function qk(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}var Yk={isBuffer:function(t){return Buffer.isBuffer(t)||t instanceof Uint8Array},isEncoding:function(t){return Buffer.isEncoding(t)},alloc:function(t,e,r){return Buffer.alloc(t,e,r)},allocUnsafe:function(t){return Buffer.allocUnsafe(t)},allocUnsafeSlow:function(t){return Buffer.allocUnsafeSlow(t)},byteLength:function(t,e){return Buffer.byteLength(t,e)},compare:function(t,e){return Buffer.compare(t,e)},concat:function(t,e){return Buffer.concat(t,e)},copy:function(t,e,r,i,n){return qk(t).copy(e,r,i,n)},equals:function(t,e){return qk(t).equals(e)},fill:function(t,e,r,i,n){return qk(t).fill(e,r,i,n)},from:function(t,e,r){return Buffer.from(t,e,r)},includes:function(t,e,r,i){return qk(t).includes(e,r,i)},indexOf:function(t,e,r,i){return qk(t).indexOf(e,r,i)},lastIndexOf:function(t,e,r,i){return qk(t).lastIndexOf(e,r,i)},swap16:function(t){return qk(t).swap16()},swap32:function(t){return qk(t).swap32()},swap64:function(t){return qk(t).swap64()},toBuffer:qk,toString:function(t,e,r,i){return qk(t).toString(e,r,i)},write:function(t,e,r,i,n){return qk(t).write(e,r,i,n)},writeDoubleLE:function(t,e,r){return qk(t).writeDoubleLE(e,r)},writeFloatLE:function(t,e,r){return qk(t).writeFloatLE(e,r)},writeUInt32LE:function(t,e,r){return qk(t).writeUInt32LE(e,r)},writeInt32LE:function(t,e,r){return qk(t).writeInt32LE(e,r)},readDoubleLE:function(t,e){return qk(t).readDoubleLE(e)},readFloatLE:function(t,e){return qk(t).readFloatLE(e)},readUInt32LE:function(t,e){return qk(t).readUInt32LE(e)},readInt32LE:function(t,e){return qk(t).readInt32LE(e)}};const Zk=Yk;const Kk=Yk;const Jk=class{constructor(t){this.encoding=t}decode(t){return Zk.toString(t,this.encoding)}flush(){return""}},Qk=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}decode(t){if(0===this.bytesNeeded){let e=!0;for(let r=Math.max(0,t.byteLength-4),i=t.byteLength;r<i&&e;r++)e=t[r]<=127;if(e)return Kk.toString(t,"utf8")}let e="";for(let r=0,i=t.byteLength;r<i;r++){const i=t[r];0!==this.bytesNeeded?i<this.lowerBoundary||i>this.upperBoundary?(this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e+="�"):(this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|63&i,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(e+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)):i<=127?e+=String.fromCharCode(i):i>=194&&i<=223?(this.bytesNeeded=1,this.codePoint=31&i):i>=224&&i<=239?(224===i?this.lowerBoundary=160:237===i&&(this.upperBoundary=159),this.bytesNeeded=2,this.codePoint=15&i):i>=240&&i<=244?(240===i&&(this.lowerBoundary=144),244===i&&(this.upperBoundary=143),this.bytesNeeded=3,this.codePoint=7&i):e+="�"}return e}flush(){const t=this.bytesNeeded>0?"�":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,t}};const{EventEmitter:Xk}=h,tO=new Error("Stream was destroyed"),eO=new Error("Premature close"),rO=Hk,iO=Vk,nO=class{constructor(t="utf8"){switch(this.encoding=function(t){switch(t=t.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}(t),this.encoding){case"utf8":this.decoder=new Qk;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new Jk(this.encoding)}}push(t){return"string"==typeof t?t:this.decoder.decode(t)}write(t){return this.push(t)}end(t){let e="";return t&&(e=this.push(t)),e+=this.decoder.flush(),e}},sO=536870911,oO=1^sO,aO=2^sO,lO=64,uO=128,hO=256,cO=1024,dO=2048,fO=4096,pO=8192,mO=16384,gO=32768,bO=131072,yO=131328,wO=16^sO,vO=768^sO,_O=536838143,DO=32^sO,SO=536739839,EO=2<<18,xO=4<<18,CO=8<<18,kO=16<<18,OO=32<<18,TO=64<<18,AO=128<<18,FO=256<<18,RO=512<<18,MO=1024<<18,PO=469499903,IO=535822335,BO=503316479,jO=268435455,LO=262160,NO=536608751,$O=8404992,WO=14,UO=15,zO=8405006,HO=33587200,GO=33587215,VO=2359296,qO=270794767,YO=Symbol.asyncIterator||Symbol("asyncIterator");class ZO{constructor(t,{highWaterMark:e=16384,map:r=null,mapWritable:i,byteLength:n,byteLengthWritable:s}={}){this.stream=t,this.queue=new iO,this.highWaterMark=e,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||n||wT,this.map=i||r,this.afterWrite=rT.bind(this),this.afterUpdateNextTick=sT.bind(this)}get ended(){return!!(this.stream._duplexState&OO)}push(t){return null!==this.map&&(t=this.map(t)),this.buffered+=this.byteLength(t),this.queue.push(t),this.buffered<this.highWaterMark?(this.stream._duplexState|=CO,!0):(this.stream._duplexState|=6291456,!1)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=534773759),t}end(t){"function"==typeof t?this.stream.once("finish",t):null!=t&&this.push(t),this.stream._duplexState=(this.stream._duplexState|RO)&IO}autoBatch(t,e){const r=[],i=this.stream;for(r.push(t);(i._duplexState&qO)===VO;)r.push(i._writableState.shift());if(i._duplexState&UO)return e(null);i._writev(r,e)}update(){const t=this.stream;t._duplexState|=EO;do{for(;(t._duplexState&qO)===CO;){const e=this.shift();t._duplexState|=67371008,t._write(e,this.afterWrite)}1310720&t._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=536346623}updateNonPrimary(){const t=this.stream;if((144965647&t._duplexState)===RO)return t._duplexState=402653183&t._duplexState|262144,void t._final(tT.bind(this));4!=(t._duplexState&WO)?1==(t._duplexState&GO)&&(t._duplexState=(t._duplexState|LO)&oO,t._open(oT.bind(this))):t._duplexState&HO||(t._duplexState|=LO,t._destroy(eT.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&AO)&&(this.stream._duplexState&=BO,!0)}updateCallback(){(35127311&this.stream._duplexState)===xO?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&AO||(this.stream._duplexState|=AO,this.stream._duplexState&EO||rO(this.afterUpdateNextTick))}}class KO{constructor(t,{highWaterMark:e=16384,map:r=null,mapReadable:i,byteLength:n,byteLengthReadable:s}={}){this.stream=t,this.queue=new iO,this.highWaterMark=0===e?1:e,this.buffered=0,this.readAhead=e>0,this.error=null,this.pipeline=null,this.byteLength=s||n||wT,this.map=i||r,this.pipeTo=null,this.afterRead=iT.bind(this),this.afterUpdateNextTick=nT.bind(this)}get ended(){return!!(this.stream._duplexState&mO)}pipe(t,e){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof e&&(e=null),this.stream._duplexState|=512,this.pipeTo=t,this.pipeline=new QO(this.stream,t,e),e&&this.stream.on("error",vT),yT(t))t._writableState.pipeline=this.pipeline,e&&t.on("error",vT),t.on("finish",this.pipeline.finished.bind(this.pipeline));else{const e=this.pipeline.done.bind(this.pipeline,t),r=this.pipeline.done.bind(this.pipeline,t,null);t.on("error",e),t.on("close",r),t.on("finish",this.pipeline.finished.bind(this.pipeline))}t.on("drain",XO.bind(this)),this.stream.emit("piping",t),t.emit("pipe",this.stream)}push(t){const e=this.stream;return null===t?(this.highWaterMark=0,e._duplexState=536805311&e._duplexState|1024,!1):(null!==this.map&&null===(t=this.map(t))||(this.buffered+=this.byteLength(t),this.queue.push(t),e._duplexState=536805375&e._duplexState|128),this.buffered<this.highWaterMark)}shift(){const t=this.queue.shift();return this.buffered-=this.byteLength(t),0===this.buffered&&(this.stream._duplexState&=536862591),t}unshift(t){const e=[null!==this.map?this.map(t):t];for(;this.buffered>0;)e.push(this.shift());for(let t=0;t<e.length-1;t++){const r=e[t];this.buffered+=this.byteLength(r),this.queue.push(r)}this.push(e[e.length-1])}read(){const t=this.stream;if((16527&t._duplexState)===uO){const e=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=vO),t._duplexState&dO&&t.emit("data",e),e}return!1===this.readAhead&&(t._duplexState|=bO,this.updateNextTick()),null}drain(){const t=this.stream;for(;(16527&t._duplexState)===uO&&768&t._duplexState;){const e=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(e)&&(t._duplexState&=vO),t._duplexState&dO&&t.emit("data",e)}}update(){const t=this.stream;t._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&t._duplexState)===bO;)t._duplexState|=65552,t._read(this.afterRead),this.drain();4224==(12431&t._duplexState)&&(t._duplexState|=pO,t.emit("readable")),80&t._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());t._duplexState&=DO}updateNonPrimary(){const t=this.stream;(1167&t._duplexState)===cO&&(t._duplexState=536869887&t._duplexState|16384,t.emit("end"),(t._duplexState&zO)===$O&&(t._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(t._duplexState&WO)?1==(t._duplexState&GO)&&(t._duplexState=(t._duplexState|LO)&oO,t._open(oT.bind(this))):t._duplexState&HO||(t._duplexState|=LO,t._destroy(eT.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&gO)&&(this.stream._duplexState&=_O,!0)}updateCallback(){(32879&this.stream._duplexState)===lO?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&gO||(this.stream._duplexState|=gO,32&this.stream._duplexState||rO(this.afterUpdateNextTick))}}class JO{constructor(t){this.data=null,this.afterTransform=aT.bind(t),this.afterFinal=null}}class QO{constructor(t,e,r){this.from=t,this.to=e,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(t,e){e&&(this.error=e),t!==this.to||(this.to=null,null===this.from)?t!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):t._duplexState&mO||this.to.destroy(this.error||new Error("Readable stream closed before ending")):this.from._duplexState&mO&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function XO(){this.stream._duplexState|=512,this.updateCallback()}function tT(t){const e=this.stream;t&&e.destroy(t),e._duplexState&WO||(e._duplexState|=OO,e.emit("finish")),(e._duplexState&zO)===$O&&(e._duplexState|=4),e._duplexState&=PO,e._duplexState&EO?this.updateNextTick():this.update()}function eT(t){const e=this.stream;t||this.error===tO||(t=this.error),t&&e.emit("error",t),e._duplexState|=8,e.emit("close");const r=e._readableState,i=e._writableState;if(null!==r&&null!==r.pipeline&&r.pipeline.done(e,t),null!==i){for(;null!==i.drains&&i.drains.length>0;)i.drains.shift().resolve(!1);null!==i.pipeline&&i.pipeline.done(e,t)}}function rT(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=PO,null!==this.drains&&function(t){for(let e=0;e<t.length;e++)0==--t[e].writes&&(t.shift().resolve(!0),e--)}(this.drains),(6553615&e._duplexState)===kO&&(e._duplexState&=532676607,(e._duplexState&TO)===TO&&e.emit("drain")),this.updateCallback()}function iT(t){t&&this.stream.destroy(t),this.stream._duplexState&=wO,!1!==this.readAhead||this.stream._duplexState&hO||(this.stream._duplexState&=SO),this.updateCallback()}function nT(){32&this.stream._duplexState||(this.stream._duplexState&=_O,this.update())}function sT(){this.stream._duplexState&EO||(this.stream._duplexState&=BO,this.update())}function oT(t){const e=this.stream;t&&e.destroy(t),4&e._duplexState||(17423&e._duplexState||(e._duplexState|=lO),142606351&e._duplexState||(e._duplexState|=xO),e.emit("open")),e._duplexState&=NO,null!==e._writableState&&e._writableState.updateCallback(),null!==e._readableState&&e._readableState.updateCallback()}function aT(t,e){null!=e&&this.push(e),this._writableState.afterWrite(t)}function lT(t){null!==this._readableState&&("data"===t&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===t&&(this._duplexState|=fO,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===t&&(this._duplexState|=TO,this._writableState.updateNextTick())}class uT extends Xk{constructor(t){super(),this._duplexState=0,this._readableState=null,this._writableState=null,t&&(t.open&&(this._open=t.open),t.destroy&&(this._destroy=t.destroy),t.predestroy&&(this._predestroy=t.predestroy),t.signal&&t.signal.addEventListener("abort",_T.bind(this))),this.on("newListener",lT)}_open(t){t(null)}_destroy(t){t(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return!!(8&this._duplexState)}get destroying(){return!!(this._duplexState&WO)}destroy(t){this._duplexState&WO||(t||(t=tO),this._duplexState=535822271&this._duplexState|4,null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=t),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=t),this._duplexState|=2,this._predestroy(),this._duplexState&=aO,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}let hT=class t extends uT{constructor(t){super(t),this._duplexState|=8519681,this._readableState=new KO(this,t),t&&(!1===this._readableState.readAhead&&(this._duplexState&=SO),t.read&&(this._read=t.read),t.eagerOpen&&this._readableState.updateNextTick(),t.encoding&&this.setEncoding(t.encoding))}setEncoding(t){const e=new nO(t),r=this._readableState.map||gT;return this._readableState.map=function(t){const i=e.push(t);return""===i?null:r(i)},this}_read(t){t(null)}pipe(t,e){return this._readableState.updateNextTick(),this._readableState.pipe(t,e),t}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(t){return this._readableState.updateNextTick(),this._readableState.push(t)}unshift(t){return this._readableState.updateNextTick(),this._readableState.unshift(t)}resume(){return this._duplexState|=yO,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?536739583:536870655,this}static _fromAsyncIterator(e,r){let i;const n=new t({...r,read(t){e.next().then(s).then(t.bind(null,null)).catch(t)},predestroy(){i=e.return()},destroy(t){if(!i)return t(null);i.then(t.bind(null,null)).catch(t)}});return n;function s(t){t.done?n.push(null):n.push(t.value)}}static from(e,r){if(function(t){return yT(t)&&t.readable}(e))return e;if(e[YO])return this._fromAsyncIterator(e[YO](),r);Array.isArray(e)||(e=void 0===e?[]:[e]);let i=0;return new t({...r,read(t){this.push(i===e.length?null:e[i++]),t(null)}})}static isBackpressured(t){return!!(17422&t._duplexState)||t._readableState.buffered>=t._readableState.highWaterMark}static isPaused(t){return!(t._duplexState&hO)}[YO](){const t=this;let e=null,r=null,i=null;return this.on("error",(t=>{e=t})),this.on("readable",(function(){null!==r&&n(t.read())})),this.on("close",(function(){null!==r&&n(null)})),{[YO](){return this},next:()=>new Promise((function(e,s){r=e,i=s;const o=t.read();null!==o?n(o):8&t._duplexState&&n(null)})),return:()=>s(null),throw:t=>s(t)};function n(n){null!==i&&(e?i(e):null!==n||t._duplexState&mO?r({value:n,done:null===n}):i(tO),i=r=null)}function s(e){return t.destroy(e),new Promise(((r,i)=>{if(8&t._duplexState)return r({value:void 0,done:!0});t.once("close",(function(){e?i(e):r({value:void 0,done:!0})}))}))}}},cT=class extends uT{constructor(t){super(t),this._duplexState|=16385,this._writableState=new ZO(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final),t.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=MO}uncork(){this._duplexState&=jO,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}static isBackpressured(t){return!!(146800654&t._duplexState)}static drained(t){if(t.destroyed)return Promise.resolve(!1);const e=t._writableState;var r;const i=((r=t)._writev!==cT.prototype._writev&&r._writev!==dT.prototype._writev?Math.min(1,e.queue.length):e.queue.length)+(t._duplexState&FO?1:0);return 0===i?Promise.resolve(!0):(null===e.drains&&(e.drains=[]),new Promise((t=>{e.drains.push({writes:i,resolve:t})})))}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}};class dT extends hT{constructor(t){super(t),this._duplexState=1|this._duplexState&bO,this._writableState=new ZO(this,t),t&&(t.writev&&(this._writev=t.writev),t.write&&(this._write=t.write),t.final&&(this._final=t.final))}cork(){this._duplexState|=MO}uncork(){this._duplexState&=jO,this._writableState.updateNextTick()}_writev(t,e){e(null)}_write(t,e){this._writableState.autoBatch(t,e)}_final(t){t(null)}write(t){return this._writableState.updateNextTick(),this._writableState.push(t)}end(t){return this._writableState.updateNextTick(),this._writableState.end(t),this}}let fT=class extends dT{constructor(t){super(t),this._transformState=new JO(this),t&&(t.transform&&(this._transform=t.transform),t.flush&&(this._flush=t.flush))}_write(t,e){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=t:this._transform(t,this._transformState.afterTransform)}_read(t){if(null!==this._transformState.data){const e=this._transformState.data;this._transformState.data=null,t(null),this._transform(e,this._transformState.afterTransform)}else t(null)}destroy(t){super.destroy(t),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(t,e){e(null,t)}_flush(t){t(null)}_final(t){this._transformState.afterFinal=t,this._flush(pT.bind(this))}};function pT(t,e){const r=this._transformState.afterFinal;if(t)return r(t);null!=e&&this.push(e),this.push(null),r(null)}function mT(t,...e){const r=Array.isArray(t)?[...t,...e]:[t,...e],i=r.length&&"function"==typeof r[r.length-1]?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let n=r[0],s=null,o=null;for(let t=1;t<r.length;t++)s=r[t],yT(n)?n.pipe(s,l):(a(n,!0,t>1,l),n.pipe(s)),n=s;if(i){let t=!1;const e=yT(s)||!(!s._writableState||!s._writableState.autoDestroy);s.on("error",(t=>{null===o&&(o=t)})),s.on("finish",(()=>{t=!0,e||i(o)})),e&&s.on("close",(()=>i(o||(t?null:eO))))}return s;function a(t,e,r,i){t.on("error",i),t.on("close",(function(){if(t._readableState&&!t._readableState.ended)return i(eO);if(r&&t._writableState&&!t._writableState.ended)return i(eO)}))}function l(t){if(t&&!o){o=t;for(const e of r)e.destroy(t)}}}function gT(t){return t}function bT(t){return!!t._readableState||!!t._writableState}function yT(t){return"number"==typeof t._duplexState&&bT(t)}function wT(t){return function(t){return"object"==typeof t&&null!==t&&"number"==typeof t.byteLength}(t)?t.byteLength:1024}function vT(){}function _T(){this.destroy(new Error("Stream aborted."))}var DT={pipeline:mT,pipelinePromise:function(...t){return new Promise(((e,r)=>mT(...t,(t=>{if(t)return r(t);e()}))))},isStream:bT,isStreamx:yT,getStreamError:function(t){const e=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e===tO?null:e},Stream:uT,Writable:cT,Readable:hT,Duplex:dT,Transform:fT,PassThrough:class extends fT{}},ST={};const ET=Yk,xT="0000000000000000000",CT="7777777777777777777",kT="0".charCodeAt(0),OT=ET.from([117,115,116,97,114,0]),TT=ET.from([kT,kT]),AT=ET.from([117,115,116,97,114,32]),FT=ET.from([32,0]),RT=257,MT=263;function PT(t,e,r,i){for(;r<i;r++)if(t[r]===e)return r;return i}function IT(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function BT(t,e){return(t=t.toString(8)).length>e?CT.slice(0,e)+" ":xT.slice(0,e-t.length)+t+" "}function jT(t,e,r){if(128&(t=t.subarray(e,e+r))[e=0])return function(t){let e;if(128===t[0])e=!0;else{if(255!==t[0])return null;e=!1}const r=[];let i;for(i=t.length-1;i>0;i--){const n=t[i];e?r.push(n):r.push(255-n)}let n=0;const s=r.length;for(i=0;i<s;i++)n+=r[i]*Math.pow(256,i);return e?n:-1*n}(t);{for(;e<t.length&&32===t[e];)e++;const r=function(t,e,r){return"number"!=typeof t?r:(t=~~t)>=e?e:t>=0||(t+=e)>=0?t:0}(PT(t,32,e,t.length),t.length,t.length);for(;e<r&&0===t[e];)e++;return r===e?0:parseInt(ET.toString(t.subarray(e,r)),8)}}function LT(t,e,r,i){return ET.toString(t.subarray(e,PT(t,0,e,e+r)),i)}function NT(t){const e=ET.byteLength(t);let r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}ST.decodeLongPath=function(t,e){return LT(t,0,t.length,e)},ST.encodePax=function(t){let e="";t.name&&(e+=NT(" path="+t.name+"\n")),t.linkname&&(e+=NT(" linkpath="+t.linkname+"\n"));const r=t.pax;if(r)for(const t in r)e+=NT(" "+t+"="+r[t]+"\n");return ET.from(e)},ST.decodePax=function(t){const e={};for(;t.length;){let r=0;for(;r<t.length&&32!==t[r];)r++;const i=parseInt(ET.toString(t.subarray(0,r)),10);if(!i)return e;const n=ET.toString(t.subarray(r+1,i-1)),s=n.indexOf("=");if(-1===s)return e;e[n.slice(0,s)]=n.slice(s+1),t=t.subarray(i)}return e},ST.encode=function(t){const e=ET.alloc(512);let r=t.name,i="";if(5===t.typeflag&&"/"!==r[r.length-1]&&(r+="/"),ET.byteLength(r)!==r.length)return null;for(;ET.byteLength(r)>100;){const t=r.indexOf("/");if(-1===t)return null;i+=i?"/"+r.slice(0,t):r.slice(0,t),r=r.slice(t+1)}return ET.byteLength(r)>100||ET.byteLength(i)>155||t.linkname&&ET.byteLength(t.linkname)>100?null:(ET.write(e,r),ET.write(e,BT(4095&t.mode,6),100),ET.write(e,BT(t.uid,6),108),ET.write(e,BT(t.gid,6),116),function(t,e,r){t.toString(8).length>11?function(t,e,r){e[r]=128;for(let i=11;i>0;i--)e[r+i]=255&t,t=Math.floor(t/256)}(t,e,r):ET.write(e,BT(t,11),r)}(t.size,e,124),ET.write(e,BT(t.mtime.getTime()/1e3|0,11),136),e[156]=kT+function(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(t.type),t.linkname&&ET.write(e,t.linkname,157),ET.copy(OT,e,RT),ET.copy(TT,e,263),t.uname&&ET.write(e,t.uname,265),t.gname&&ET.write(e,t.gname,297),ET.write(e,BT(t.devmajor||0,6),329),ET.write(e,BT(t.devminor||0,6),337),i&&ET.write(e,i,345),ET.write(e,BT(IT(e),6),148),e)},ST.decode=function(t,e,r){let i=0===t[156]?0:t[156]-kT,n=LT(t,0,100,e);const s=jT(t,100,8),o=jT(t,108,8),a=jT(t,116,8),l=jT(t,124,12),u=jT(t,136,12),h=function(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(i),c=0===t[157]?null:LT(t,157,100,e),d=LT(t,265,32),f=LT(t,297,32),p=jT(t,329,8),m=jT(t,337,8),g=IT(t);if(256===g)return null;if(g!==jT(t,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(t){return ET.equals(OT,t.subarray(RT,263))}(t))t[345]&&(n=LT(t,345,155,e)+"/"+n);else if(function(t){return ET.equals(AT,t.subarray(RT,263))&&ET.equals(FT,t.subarray(MT,265))}(t));else if(!r)throw new Error("Invalid tar header: unknown format.");return 0===i&&n&&"/"===n[n.length-1]&&(i=5),{name:n,mode:s,uid:o,gid:a,size:l,mtime:new Date(1e3*u),type:h,linkname:c,uname:d,gname:f,devmajor:p,devminor:m,pax:null}};const{Writable:$T,Readable:WT,getStreamError:UT}=DT,zT=Vk,HT=Yk,GT=ST,VT=HT.alloc(0);class qT{constructor(){this.buffered=0,this.shifted=0,this.queue=new zT,this._offset=0}push(t){this.buffered+=t.byteLength,this.queue.push(t)}shiftFirst(t){return 0===this._buffered?null:this._next(t)}shift(t){if(t>this.buffered)return null;if(0===t)return VT;let e=this._next(t);if(t===e.byteLength)return e;const r=[e];for(;(t-=e.byteLength)>0;)e=this._next(t),r.push(e);return HT.concat(r)}_next(t){const e=this.queue.peek(),r=e.byteLength-this._offset;if(t>=r){const t=this._offset?e.subarray(this._offset,e.byteLength):e;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,t}return this.buffered-=t,this.shifted+=t,e.subarray(this._offset,this._offset+=t)}}class YT extends WT{constructor(t,e,r){super(),this.header=e,this.offset=r,this._parent=t}_read(t){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),t(null)}_predestroy(){this._parent.destroy(UT(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=JT(this.header.size),this._parent._update())}_destroy(t){this._detach(),t(null)}}class ZT extends $T{constructor(t){super(t),t||(t={}),this._buffer=new qT,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=KT,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=t.filenameEncoding||"utf-8",this._allowUnknownFormat=!!t.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(t){if(this._locked=!1,t)return this.destroy(t),void this._continueWrite(t);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=GT.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(t){return this._continueWrite(t),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(t){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=GT.decodeLongPath(t,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=GT.decodeLongPath(t,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=GT.decodePax(t);break;case"pax-header":this._pax=null===this._paxGlobal?GT.decodePax(t):Object.assign({},this._paxGlobal,GT.decodePax(t))}}_consumeLongHeader(){this._longHeader=!1,this._missing=JT(this._header.size);const t=this._buffer.shift(this._header.size);try{this._decodeLongHeader(t)}catch(t){return this._continueWrite(t),!1}return!0}_consumeStream(){const t=this._buffer.shiftFirst(this._missing);if(null===t)return!1;this._missing-=t.byteLength;const e=this._stream.push(t);return 0===this._missing?(this._stream.push(null),e&&this._stream._detach(),e&&!1===this._locked):e}_createStream(){return new YT(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;)if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const t=this._buffer.shiftFirst(this._missing);null!==t&&(this._missing-=t.byteLength)}else{if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(t){const e=this._callback;this._callback=KT,e(t)}_write(t,e){this._callback=e,this._buffer.push(t),this._update()}_final(t){this._finished=0===this._missing&&0===this._buffer.buffered,t(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(t){this._stream&&this._stream.destroy(UT(this)),t(null)}[Symbol.asyncIterator](){let t=null,e=null,r=null,i=null,n=null;const s=this;return this.on("entry",(function(t,s,o){n=o,s.on("error",KT),e?(e({value:s,done:!1}),e=r=null):i=s})),this.on("error",(e=>{t=e})),this.on("close",(function(){if(o(t),!e)return;t?r(t):e({value:void 0,done:!0});e=r=null})),{[Symbol.asyncIterator](){return this},next:()=>new Promise(a),return:()=>l(null),throw:t=>l(t)};function o(t){if(!n)return;const e=n;n=null,e(t)}function a(n,a){return t?a(t):i?(n({value:i,done:!1}),void(i=null)):(e=n,r=a,o(null),void(s._finished&&e&&(e({value:void 0,done:!0}),e=r=null)))}function l(t){return s.destroy(t),o(t),new Promise(((e,r)=>{if(s.destroyed)return e({value:void 0,done:!0});s.once("close",(function(){t?r(t):e({value:void 0,done:!0})}))}))}}}function KT(){}function JT(t){return(t&=511)&&512-t}var QT={exports:{}};const XT={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{QT.exports=require("fs").constants||XT}catch{QT.exports=XT}var tA=QT.exports;const{Readable:eA,Writable:rA,getStreamError:iA}=DT,nA=Yk,sA=tA,oA=ST,aA=nA.alloc(1024);class lA extends rA{constructor(t,e,r){super({mapWritable:dA,eagerOpen:!0}),this.written=0,this.header=e,this._callback=r,this._linkname=null,this._isLinkname="symlink"===e.type&&!e.linkname,this._isVoid="file"!==e.type&&"contiguous-file"!==e.type,this._finished=!1,this._pack=t,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(t){this._openCallback=t,this._pack._stream===this&&this._continueOpen()}_continuePack(t){if(null===this._callback)return;const e=this._callback;this._callback=null,e(t)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const t=this._openCallback;if(this._openCallback=null,null!==t){if(this._pack.destroying)return t(new Error("pack stream destroyed"));if(this._pack._finalized)return t(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),t(null)}}_write(t,e){return this._isLinkname?(this._linkname=this._linkname?nA.concat([this._linkname,t]):t,e(null)):this._isVoid?t.byteLength>0?e(new Error("No body allowed for this entry")):e():(this.written+=t.byteLength,this._pack.push(t)?e():void(this._pack._drain=e))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?nA.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),cA(this._pack,this.header.size),this._pack._done(this))}_final(t){if(this.written!==this.header.size)return t(new Error("Size mismatch"));this._finish(),t(null)}_getError(){return iA(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(t){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),t()}}class uA extends eA{constructor(t){super(t),this._drain=hA,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(t,e,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof e&&(r=e,e=null),r||(r=hA),t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=function(t){switch(t&sA.S_IFMT){case sA.S_IFBLK:return"block-device";case sA.S_IFCHR:return"character-device";case sA.S_IFDIR:return"directory";case sA.S_IFIFO:return"fifo";case sA.S_IFLNK:return"symlink"}return"file"}(t.mode)),t.mode||(t.mode="directory"===t.type?493:420),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"==typeof e&&(e=nA.from(e));const i=new lA(this,t,r);return nA.isBuffer(e)?(t.size=e.byteLength,i.write(e),i.end(),i):(i._isVoid,i)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(aA),this.push(null))}_done(t){t===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(t){if(!t.pax){const e=oA.encode(t);if(e)return void this.push(e)}this._encodePax(t)}_encodePax(t){const e=oA.encodePax({name:t.name,linkname:t.linkname,pax:t.pax}),r={name:"PaxHeader",mode:t.mode,uid:t.uid,gid:t.gid,size:e.byteLength,mtime:t.mtime,type:"pax-header",linkname:t.linkname&&"PaxHeader",uname:t.uname,gname:t.gname,devmajor:t.devmajor,devminor:t.devminor};this.push(oA.encode(r)),this.push(e),cA(this,e.byteLength),r.size=t.size,r.type=t.type,this.push(oA.encode(r))}_doDrain(){const t=this._drain;this._drain=hA,t()}_predestroy(){const t=iA(this);for(this._stream&&this._stream.destroy(t);this._pending.length;){const e=this._pending.shift();e.destroy(t),e._continueOpen()}this._doDrain()}_read(t){this._doDrain(),t()}}function hA(){}function cA(t,e){(e&=511)&&t.push(aA.subarray(0,512-e))}function dA(t){return nA.isBuffer(t)?t:nA.from(t)}zk.extract=function(t){return new ZT(t)},zk.pack=function(t){return new uA(t)};
/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var fA=S,pA=zk,mA=wC,gA=function(t){if(!(this instanceof gA))return new gA(t);"object"!=typeof(t=this.options=mA.defaults(t,{gzip:!1})).gzipOptions&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=pA.pack(t),this.compressor=!1,t.gzip&&(this.compressor=fA.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};gA.prototype._onCompressorError=function(t){this.engine.emit("error",t)},gA.prototype.append=function(t,e,r){var i=this;function n(t,n){t?r(t):i.engine.entry(e,n,(function(t){r(t,e)}))}if(e.mtime=e.date,"buffer"===e.sourceType)n(null,t);else if("stream"===e.sourceType&&e.stats){e.size=e.stats.size;var s=i.engine.entry(e,(function(t){r(t,e)}));t.pipe(s)}else"stream"===e.sourceType&&mA.collectStream(t,n)},gA.prototype.finalize=function(){this.engine.finalize()},gA.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},gA.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)},gA.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};var bA=gA;function yA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const wA=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function vA(t){if(Buffer.isBuffer(t))return t;if("number"==typeof t)return Buffer.alloc(t);if("string"==typeof t)return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function _A(t,e){t=vA(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~e;for(var i=0;i<t.length;i++)r=wA[255&(r^t[i])]^r>>>8;return~r}function DA(){return function(t){const e=vA(4);return e.writeInt32BE(t,0),e}(_A.apply(null,arguments))}DA.signed=function(){return _A.apply(null,arguments)},DA.unsigned=function(){return _A.apply(null,arguments)>>>0};var SA=yA(DA),EA=p.inherits,xA=vw.Transform,CA=SA,kA=wC,OA=function(t){if(!(this instanceof OA))return new OA(t);t=this.options=kA.defaults(t,{}),xA.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};
/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */EA(OA,xA),OA.prototype._transform=function(t,e,r){r(null,t)},OA.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)},OA.prototype.append=function(t,e,r){var i=this;function n(t,n){t?r(t):(e.size=n.length||0,e.crc32=CA.unsigned(n),i.files.push(e),r(null,e))}e.crc32=0,"buffer"===e.sourceType?n(null,t):"stream"===e.sourceType&&kA.collectStream(t,n)},OA.prototype.finalize=function(){this._writeStringified(),this.end()};var TA=OA,AA=RC,FA={},RA=function(t,e){return RA.create(t,e)};
/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */RA.create=function(t,e){if(FA[t]){var r=new AA(t,e);return r.setFormat(t),r.setModule(new FA[t](e)),r}throw new Error("create("+t+"): format not registered")},RA.registerFormat=function(t,e){if(FA[t])throw new Error("register("+t+"): format already registered");if("function"!=typeof e)throw new Error("register("+t+"): format module invalid");if("function"!=typeof e.prototype.append||"function"!=typeof e.prototype.finalize)throw new Error("register("+t+"): format module missing methods");FA[t]=e},RA.isRegisteredFormat=function(t){return!!FA[t]},RA.registerFormat("zip",Uk),RA.registerFormat("tar",bA),RA.registerFormat("json",TA);var MA=x(RA);let PA={};const IA=new g.NodeSSH,BA=(t,e)=>{e||ka(`${t}/dist`)||(console.log(xa.error,yr.red(`本地 ${t}/dist 文件不存在，请先将项目进行打包后再发布`)),process.exit(1)),!e||ka(`${t}/src`)&&Ca(`${t}/package.json`)||(console.log(xa.error,yr.red(`本地 ${t}/src 或 package.json 或 yarn.lock 文件不存在，无法发布`)),process.exit(1))},jA=async({username:t,host:e,port:i,password:n,localFilePath:s,remoteFilePath:o,install:a,isServer:l})=>{try{await Aa({host:e,username:t,port:i,password:n,ssh:IA}),l?await(async t=>new Promise(((e,i)=>{const n=na({text:yr.yellowBright(`正在压缩本地文件: ${yr.cyan(`${t}/dist`)} ...`)}).start(),s=`${t}/src/upload`,o=`${t}/upload`;Ih.moveSync(s,o,{overwrite:!0});const a=MA("zip",{zlib:{level:9}}).on("error",(t=>{console.log(xa.error,yr.red(`压缩本地文件失败: ${t}`))})),l=Ih.createWriteStream(`${t}/dist.zip`);l.on("close",(r=>{r?(n.fail(yr.redBright(`压缩本地文件: ${yr.cyan(`${t}/src`)} 等文件失败`)),console.log(xa.error,yr.red(`压缩本地文件失败: ${r}`)),i(r),process.exit(1)):(Ih.moveSync(o,s,{overwrite:!0}),n.succeed(yr.greenBright(`压缩本地文件: ${yr.cyan(`${t}/src`)} 等文件成功`)),e(1))})),a.pipe(l),a.directory(`${t}/src`,"/src"),a.file(r.join(t,"package.json"),{name:"package.json"}),a.file(r.join(t,"yarn.lock"),{name:"yarn.lock"}),a.finalize()})))(s):await(async t=>new Promise(((e,r)=>{const i=na({text:yr.yellowBright(`正在压缩本地文件: ${yr.cyan(`${t}/dist`)} ...`)}).start(),n=MA("zip",{zlib:{level:9}}).on("error",(t=>{console.log(xa.error,yr.red(`压缩本地文件失败: ${t}`))})),s=Ih.createWriteStream(`${t}/dist.zip`);s.on("close",(n=>{n&&(i.fail(yr.redBright(`压缩文件: ${yr.cyan(`${t}/dist`)} 失败`)),console.log(xa.error,yr.red(`压缩本地文件失败: ${n}`)),r(n),process.exit(1)),i.succeed(yr.greenBright(`压缩本地文件: ${yr.cyan(`${t}/dist`)} 成功`)),e(1)})),n.pipe(s),n.directory(`${t}/dist`,"/dist"),n.finalize()})))(s),await(async(t,e)=>{try{const i=new yc.SingleBar({format:"文件上传中: {bar} | {percentage}% | ETA: {eta}s | {value}MB / {total}MB",barCompleteChar:"█",barIncompleteChar:"░",hideCursor:!0}),n=r.resolve(__dirname,`${t}/dist.zip`),s=r.join(e,r.basename(n)),o=Ih.statSync(n).size;i.start(Math.ceil(o/1024/1024),0),await IA.putFile(n,s,null,{concurrency:10,chunkSize:16384,step:t=>{i.update(Math.ceil(t/1024/1024))}}),i.stop()}catch(t){console.log(xa.error,yr.red(`上传文件失败: ${t}`)),process.exit(1)}})(s,o),await Pa(`${o}/dist`,IA),await(async(t,e)=>{const r=na({text:yr.yellowBright(`正在解压服务器文件: ${yr.cyan(`${t}/dist.zip`)} ...`)}).start();try{await IA.execCommand(`unzip -o ${t}/dist.zip -d ${t}`),r.succeed(yr.greenBright(`解压服务器文件: ${yr.cyan(`${t}/dist.zip`)} 成功`)),await Pa(`${t}/dist.zip`,IA),!e&&console.log(`\n${xa.success}`,yr.greenBright(`${yr.bold(`🎉 🎉 🎉 前端资源部署成功: ${yr.cyan(`${t}`)} 🎉 🎉 🎉`)}\n`))}catch(e){console.log(xa.error,yr.red(`Failed to unzip dist.zip: ${e}`)),r.fail(yr.redBright(`解压服务器文件: ${yr.cyan(`${t}/dist.zip`)} 失败`)),process.exit(1)}})(o,l),await Ma(`${s}/dist.zip`),a&&l&&await(async t=>{const e=na({text:yr.yellowBright(yr.cyan("正在安装依赖..."))}).start();try{const{code:r,stdout:i,stderr:n}=await IA.execCommand(`cd ${t} && yarn install`);0===r?e.succeed(yr.greenBright(`依赖安装成功: \n ${i} \n`)):(e.fail(yr.redBright(`依赖安装失败: ${n}`)),process.exit(1))}catch(t){e.fail(yr.redBright(`依赖安装失败: ${t}`)),process.exit(1)}})(o),l&&await Ba(o,IA)}catch(t){console.log(`\n${xa.error}`,yr.red(`部署失败: ${t}`)),process.exit(1)}finally{IA.dispose()}},LA=new g.NodeSSH,NA=async({host:t,port:e,username:r,password:i,nginxRemoteFilePath:n})=>{try{await Aa({host:t,port:e,username:r,password:i,ssh:LA}),await(async(t,e)=>{const r=na({text:yr.yellowBright(`正在读取远程 ${yr.cyan(`${t}`)} 文件...`)}).start();try{const i=(await LA.execCommand(`cat ${t}`)).stdout;i?(await Ih.writeFile(e,i),r.succeed(yr.greenBright(`读取 nginx.conf 成功，内容已写入到本地 ${yr.cyan(`${e}`)} 文件中`))):(r.fail(yr.redBright(`读取 nginx.conf 失败，远程文件 ${yr.cyan(`${t}`)} 内容为空`)),process.exit(1))}catch(e){r.fail(yr.redBright(`读取: ${yr.cyan(`${t}`)} 文件失败，${e}`))}})(`${n}/nginx.conf`,`${process.cwd()}/nginx.conf`)}catch(t){console.log(xa.error,yr.red(`拉取配置文件失败: ${t}`))}finally{LA.dispose()}},$A=new g.NodeSSH,WA=async({host:t,port:e,username:r,password:i,nginxRemoteFilePath:n,nginxRestartPath:s})=>{try{await new Promise((t=>{try{sa.NginxConfFile.create(`${process.cwd()}/nginx.conf`,((t,e)=>{var r,i;if(t)return void console.log(xa.error,yr.redBright(`读取文件: ${yr.cyan(`${process.cwd()}/nginx.conf`)} 出错，${t}`));const n=null===(i=null===(r=null==e?void 0:e.nginx)||void 0===r?void 0:r.http)||void 0===i?void 0:i[0].server;(null==n?void 0:n.length)||(console.log(xa.error,yr.redBright(`本地 ${yr.cyan(`${process.cwd()}/nginx.conf`)} 文件中配置存在问题`)),process.exit(1))})),t(1)}catch(t){console.log(xa.error,yr.redBright(`本地 ${yr.cyan(`${process.cwd()}/nginx.conf`)} 文件中配置存在问题`)),process.exit(1)}})),await Aa({host:t,port:e,username:r,password:i,ssh:$A}),await(async(t,e)=>{try{const r=await e.execCommand(`ls ${t}`);0!==r.code&&r.stderr&&(console.error(yr.redBright(`服务器文件 ${yr.cyan(t)} - ${r.stderr}`)),process.exit(1))}catch(e){console.error(yr.redBright(`服务器 ${yr.cyan(t)} 文件检测失败，${e}`)),process.exit(1)}})(`${n}/nginx.conf`,$A),await(async(t,e=`${t}/nginx_copy.conf`)=>{const r=na({text:yr.yellowBright("正在备份远程 nginx.conf 文件...")}).start();try{await $A.execCommand(`cp ${t}/nginx.conf ${e}`),r.succeed(yr.greenBright(`成功备份 ${t}/nginx.conf 文件到 ${e}`))}catch(i){r.fail(yr.redBright(`备份 ${t}/nginx.conf 文件到 ${e} 失败: ${i}`))}})(`${n}`),await(async(t,e)=>{const r=na({text:yr.yellowBright("正在推送 nginx.conf 文件到远程服务器...")}).start();try{await $A.putFile(t,e),r.succeed(yr.greenBright(`服务器 ${yr.cyan(`${e}`)} 内容更新成功`))}catch(t){r.fail(yr.redBright(`推送 nginx.conf 文件到服务器失败: ${t}`)),process.exit(0)}})(`${process.cwd()}/nginx.conf`,`${n}/nginx.conf`),await Ia(`${n}/nginx.conf`,s,$A),await Pa(`${n}/nginx_copy.conf`,$A)}catch(t){console.log(xa.error,yr.red(`拉取配置文件失败: ${t}`))}finally{$A.dispose()}},UA=new g.NodeSSH,zA=async(t,e)=>{var r,i,n,s,o,a;const{host:l,port:u,username:h,password:c,nginxRemoteFilePath:d,nginxRestartPath:f,serviceRestartPath:p}=e,m=Ta(),g=await Ra({host:l,port:u,username:h,password:c,projectName:t,publishConfig:m,nginxRemoteFilePath:d,nginxRestartPath:f,serviceRestartPath:p,command:"restart"}),{host:b,port:y,username:w,password:v,nginxRemoteFilePath:_,nginxRestartPath:D,serviceRestartPath:S}=g;await(async({host:t,port:e,username:r,password:i,projectName:n,nginxRemoteFilePath:s,nginxRestartPath:o,serviceRestartPath:a})=>{try{await Aa({host:t,port:e,username:r,password:i,ssh:UA}),"nginx"===n?await Ia(`${s}/nginx.conf`,o,UA):"node"===n?await Ba(a,UA):(console.log(xa.error,yr.red(`暂不支持 ${n} 服务的重启`)),process.exit(1))}catch(t){console.log(xa.error,yr.red(`拉取配置文件失败: ${t}`))}finally{UA.dispose()}})({host:b||l||(null===(r=null==m?void 0:m.serverInfo)||void 0===r?void 0:r.host),port:y||u||(null===(i=null==m?void 0:m.serverInfo)||void 0===i?void 0:i.port),username:w||h||(null===(n=null==m?void 0:m.serverInfo)||void 0===n?void 0:n.username),password:v||c,projectName:t,nginxRemoteFilePath:_||d||(null===(s=null==m?void 0:m.nginxInfo)||void 0===s?void 0:s.remoteFilePath),nginxRestartPath:D||f||(null===(o=null==m?void 0:m.nginxInfo)||void 0===o?void 0:o.restartPath),serviceRestartPath:S||p||(null===(a=null==m?void 0:m.serviceInfo)||void 0===a?void 0:a.restartPath)})};var HA="0.0.19";nt.version((t=>{const e=t.split(".");let r=parseInt(e[0]),i=parseInt(e[1]),n=parseInt(e[2]);return n>=99?(i+=1,n=0):i>=99?(r+=1,i=0):n+=1,`${r}.${i}.${n}`})(HA),"-v, --version"),nt.name("dnhyxc-ci").description("自动部署工具").usage("<command> [options]").on("--help",(()=>{console.log(`\r\nRun ${yr.cyan("dnhyxc-ci <command> --help")} for detailed usage of given command\r\n`)}));const GA=async(t,e)=>{await(async(t,e)=>{const{host:r,port:i,username:n,password:s,localFilePath:o,remoteFilePath:a,install:l,isServer:u}=e;let h=!1;const c=Ta(),d=Fa(c,t,"isServer"),f=o||Fa(c,t,"localFilePath")||`${process.cwd()}`;!f||void 0===d&&void 0===u||(BA(f,"true"===u||!!d),h=!0);try{const e=e=>{const r=("true"===u||e.isServer||d)&&void 0===l;return!h&&BA(o||e.localFilePath||Fa(c,t,"localFilePath")||process.cwd(),"true"===u||e.isServer||!!d),r};PA=await Rn([{name:"host",type:r||Fa(c,"serverInfo","host",!0)?null:"text",message:"host:",initial:Fa(c,"serverInfo","host")||"",validate:t=>!!t||"请输入host"},{name:"port",type:i||Fa(c,"serverInfo","port",!0)?null:"text",message:"端口号:",initial:Fa(c,"serverInfo","port")||"",validate:t=>!!t||"请输入端口号"},{name:"localFilePath",type:o||Fa(c,t,"localFilePath",!0)?null:"text",message:"本地项目文件路径:",initial:process.cwd(),validate:t=>!!t||"请输入本地项目文件路径"},{name:"remoteFilePath",type:a||Fa(c,t,"remoteFilePath",!0)?null:"text",message:"目标服务器项目文件路径:",initial:Fa(c,t,"remoteFilePath")||"",validate:t=>!!t||"请输入目标服务器项目文件路径"},{name:"isServer",type:void 0!==u||l||void 0!==Fa(c,t,"isServer",!0)?null:"toggle",message:"是否是后台服务:",initial:!1,active:"yes",inactive:"no"},{name:"install",type:(t,r)=>e(r)?"toggle":null,message:"是否安装依赖:",initial:!1,active:"yes",inactive:"no"},{name:"username",type:n||Fa(c,"serverInfo","username",!0)?null:"text",message:"用户名称:",initial:Fa(c,"serverInfo","username")||"",validate:t=>!!t||"请输入用户名称"},{name:"password",type:s?null:"password",message:"密码:",validate:t=>!!t||"请输入密码"}],{onCancel:()=>{console.log(`\n${xa.error}`,yr.red("已取消输入配置信息\n")),process.exit(1)}})}catch(t){console.log(`\n${xa.error}`,`${yr.red("请检查 publish.config.json 发布配置或者输入信息是否有误!")}\n`),console.log(xa.error,yr.red(`${t}!\n`)),process.exit(1)}const{host:p,port:m,username:g,password:b,localFilePath:y,remoteFilePath:w,install:v,isServer:_}=PA;await jA({host:p||r||Fa(c,"serverInfo","host"),port:m||i||Fa(c,"serverInfo","port"),username:g||n||Fa(c,"serverInfo","username"),password:b||s,localFilePath:y||o||Fa(c,t,"localFilePath")||process.cwd(),remoteFilePath:w||a||Fa(c,t,"remoteFilePath"),install:v||l,isServer:u?"true"===u:_||!!d})})(t,e)},VA=async(t,e)=>{await(async(t,e)=>{var r,i,n,s;const{host:o,port:a,username:l,password:u,nginxRemoteFilePath:h}=e,c=Ta(),d=await Ra({host:o,port:a,username:l,password:u,publishConfig:c,command:"pull",nginxRemoteFilePath:h}),{host:f,port:p,username:m,password:g,nginxRemoteFilePath:b}=d;await NA({host:f||o||(null===(r=null==c?void 0:c.serverInfo)||void 0===r?void 0:r.host),port:p||a||(null===(i=null==c?void 0:c.serverInfo)||void 0===i?void 0:i.port),username:m||l||(null===(n=null==c?void 0:c.serverInfo)||void 0===n?void 0:n.username),password:g||u,nginxRemoteFilePath:b||h||(null===(s=null==c?void 0:c.nginxInfo)||void 0===s?void 0:s.remoteFilePath)})})(0,e)},qA=async(t,e)=>{await(async(t,e)=>{var r,i,n,s,o;const{host:a,port:l,username:u,password:h,nginxRemoteFilePath:c,nginxRestartPath:d}=e,f=Ta(),p=await Ra({host:a,port:l,username:u,password:h,publishConfig:f,command:"push",nginxRemoteFilePath:c,nginxRestartPath:d}),{host:m,port:g,username:b,password:y,nginxRemoteFilePath:w,nginxRestartPath:v}=p;await WA({host:m||a||(null===(r=null==f?void 0:f.serverInfo)||void 0===r?void 0:r.host),port:g||l||(null===(i=null==f?void 0:f.serverInfo)||void 0===i?void 0:i.port),username:b||u||(null===(n=null==f?void 0:f.serverInfo)||void 0===n?void 0:n.username),password:y||h,nginxRemoteFilePath:w||c||(null===(s=null==f?void 0:f.nginxInfo)||void 0===s?void 0:s.remoteFilePath),nginxRestartPath:v||d||(null===(o=null==f?void 0:f.nginxInfo)||void 0===o?void 0:o.restartPath)})})(0,e)};nt.command("publish <name>").description("项目部署").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-l, --lcalFilePath [lcalFilePath]","输入本地文件路径，必须以 / 开头").option("-r, --remoteFilePath [remoteFilePath]","输入服务器目标文件路径，必须以 / 开头").option("-s, --isServer [isServer]","是否是 node 服务端项目，只允许输入 true 或 false").option("-i, --install","是否需要安装依赖").action(((t,e)=>{(null==e?void 0:e.lcalFilePath)&&!Oa(null==e?void 0:e.lcalFilePath)&&(console.log(`\n${yr.redBright("Error: 本地文件路径必须以 / 开头")}\n`),process.exit(1)),(null==e?void 0:e.remoteFilePath)&&!Oa(null==e?void 0:e.remoteFilePath)&&(console.log(`\n${yr.redBright("Error: 服务器目标文件路径必须以 / 开头")}\n`),process.exit(1)),(null==e?void 0:e.isServer)&&!["true","false"].includes(e.isServer)&&(console.log(`\n${yr.redBright("Error: -s 只能携带 true 或 false，如 -s true")}\n`),process.exit(1)),GA(t,e)})),nt.command("pull [configName]").description("获取 nginx.conf 配置文件到本地").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-ncp, --nginxRemoteFilePath [nginxRemoteFilePath]","输入服务器 nginx.conf 文件路径，必须以 / 开头").action(((t,e)=>{(null==e?void 0:e.nginxRemoteFilePath)&&!Oa(null==e?void 0:e.nginxRemoteFilePath)&&(console.log(`\n${yr.redBright("Error: nginx.conf 文件路径必须以 / 开头")}\n`),process.exit(1)),VA(0,e)})),nt.command("push [configName]").description("发布 nginx.conf 配置到服务器").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-ncp, --nginxRemoteFilePath [nginxRemoteFilePath]","输入服务器 nginx.conf 文件路径，必须以 / 开头").option("-nrp, --nginxRestartPath [nginxRestartPath]","输入服务器 nginx 重启路径，必须以 / 开头").action(((t,e)=>{(null==e?void 0:e.nginxRemoteFilePath)&&!Oa(null==e?void 0:e.nginxRemoteFilePath)&&(console.log(`\n${yr.redBright("Error: nginx.conf 文件路径必须以 / 开头")}\n`),process.exit(1)),(null==e?void 0:e.nginxRestartPath)&&!Oa(null==e?void 0:e.nginxRestartPath)&&(console.log(`\n${yr.redBright("Error: nginx 重启路径必须以 / 开头")}\n`),process.exit(1)),qA(0,e)})),nt.command("restart <serviceName>").description("重启 nginx 或者 node 服务").option("-h, --host [host]","输入host").option("-p, --port [port]","输入端口号").option("-u, --username [username]","输入用户名").option("-m, --password [password]","输入密码").option("-ncp, --nginxRemoteFilePath [nginxRemoteFilePath]","输入服务器 nginx.conf 文件路径，必须以 / 开头").option("-nrp, --nginxRestartPath [nginxRestartPath]","输入服务器 nginx 重启路径，必须以 / 开头").option("-srp, --serviceRestartPath [serviceRestartPath]","输入服务器 node 重启路径，必须以 / 开头").action(((t,e)=>{const r=(t=>("nginx"!==t&&"node"!==t&&(console.log("\n"+xa.warning,yr.yellowBright(`Error: serviceName must be ${yr.cyan("nginx")} or ${yr.cyan("node")}\n`)),process.exit(1)),t))(t);(null==e?void 0:e.nginxRemoteFilePath)&&!Oa(null==e?void 0:e.nginxRemoteFilePath)&&(console.log(`\n${yr.redBright("Error: nginx.conf 文件路径必须以 / 开头")}\n`),process.exit(1)),(null==e?void 0:e.nginxRestartPath)&&!Oa(null==e?void 0:e.nginxRestartPath)&&(console.log(`\n${yr.redBright("Error: nginx 重启路径必须以 / 开头")}\n`),process.exit(1)),(null==e?void 0:e.serviceRestartPath)&&!Oa(null==e?void 0:e.serviceRestartPath)&&(console.log(`\n${yr.redBright("Error: node 重启路径必须以 / 开头")}\n`),process.exit(1)),(async(t,e)=>{await zA(t,e)})(r,e)})),nt.parse(process.argv);
